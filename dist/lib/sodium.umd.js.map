{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 6fd4ecfa0effa9faa669","webpack:///./src/lib/Sodium.ts","webpack:///./src/lib/Lambda.ts","webpack:///./src/lib/Vertex.ts","webpack:///./src/lib/Stream.ts","webpack:///./src/lib/Transaction.ts","webpack:///./~/typescript-collections/dist/lib/index.js","webpack:///./~/typescript-collections/dist/lib/arrays.js","webpack:///./~/typescript-collections/dist/lib/util.js","webpack:///./~/typescript-collections/dist/lib/Bag.js","webpack:///./~/typescript-collections/dist/lib/Dictionary.js","webpack:///./~/typescript-collections/dist/lib/Set.js","webpack:///./~/typescript-collections/dist/lib/BSTree.js","webpack:///./~/typescript-collections/dist/lib/Queue.js","webpack:///./~/typescript-collections/dist/lib/LinkedList.js","webpack:///./~/typescript-collections/dist/lib/Heap.js","webpack:///./~/typescript-collections/dist/lib/LinkedDictionary.js","webpack:///./~/typescript-collections/dist/lib/MultiDictionary.js","webpack:///./~/typescript-collections/dist/lib/PriorityQueue.js","webpack:///./~/typescript-collections/dist/lib/Stack.js","webpack:///./src/lib/CoalesceHandler.ts","webpack:///./src/lib/Cell.ts","webpack:///./src/lib/Lazy.ts","webpack:///./src/lib/Operational.ts","webpack:///./src/lib/Unit.ts","webpack:///./src/lib/Listener.ts","webpack:///./src/lib/LazyCell.ts","webpack:///./src/lib/StreamSink.ts","webpack:///./src/lib/CellLoop.ts","webpack:///./src/lib/CellSink.ts","webpack:///./src/lib/Tuple2.ts","webpack:///./src/lib/TimerSystem.ts","webpack:///./src/lib/SecondsTimerSystem.ts","webpack:///./src/lib/MillisecondsTimerSystem.ts","webpack:///./src/lib/IOAction.ts"],"names":[],"mappings":"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C;KACd,CAAC;AACL,EAAC;AA9Be,wBAAe,kBA8B9B;;;;;;;ACvKD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kC;;;;;;ACjCA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,YAAW,OAAO;AAClB,YAAW,iCAAiC;AAC5C;AACA,aAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA,oBAAmB,YAAY;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,YAAW,OAAO;AAClB,YAAW,iCAAiC;AAC5C;AACA,aAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA,6BAA4B,QAAQ;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,YAAW,OAAO;AAClB,YAAW,iCAAiC;AAC5C;AACA,aAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,YAAW,OAAO;AAClB,YAAW,iCAAiC;AAC5C;AACA,aAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,MAAM;AACjB,YAAW,OAAO;AAClB,YAAW,iCAAiC;AAC5C;AACA,aAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,YAAY;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,MAAM;AACjB,YAAW,MAAM;AACjB,YAAW,iCAAiC;AAC5C;AACA,aAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,YAAY;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,EAAE;AACb,aAAY,MAAM;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,MAAM;AACjB,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,aAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,MAAM;AACjB,YAAW,mBAAmB;AAC9B;AACA;AACA;AACA;AACA,sCAAqC,qBAAqB;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mC;;;;;;ACvKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA0B,YAAY;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iC;;;;;;AC3IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,yBAAyB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAc,OAAO;AACrB,eAAc,QAAQ;AACtB;AACA,gBAAe,QAAQ;AACvB;AACA;AACA,kCAAiC,aAAa;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAc,OAAO;AACrB,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAc,OAAO;AACrB,eAAc,QAAQ;AACtB;AACA,gBAAe,QAAQ;AACvB;AACA;AACA,kCAAiC,aAAa;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,MAAM;AACtB;AACA;AACA;AACA;AACA,4CAA2C,sBAAsB;AACjE;AACA;AACA;AACA,4BAA2B,YAAY;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,mBAAmB;AACnC;AACA;AACA;AACA;AACA,gDAA+C,wBAAwB;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B,YAAY;AACvC;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D,uBAAsB;AACtB,gC;;;;;;ACxLA;AACA;AACA;AACA;AACA;AACA,kDAAiD;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,yBAAyB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA,gBAAe,OAAO;AACtB,iBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA,iBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,MAAM;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,MAAM;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAc,0BAA0B;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA,iBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA,UAAS;AACT,4BAA2B;AAC3B;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D,8BAA6B;AAC7B,uC;;;;;;AChLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,yBAAyB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,gBAAgB;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,gBAAe,gBAAgB;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,gBAAe,gBAAgB;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,gBAAe,gBAAgB;AAC/B,iBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,iBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,iBAAgB,MAAM;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D,uBAAsB;AACtB,gC;;;;;;ACxKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,gCAAgC;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,gBAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,gBAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,gBAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,MAAM;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D;AACA,mC;;;;;;AC/YA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,iCAAiC;AAChD;AACA,iBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,QAAQ,kDAAkD;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D,yBAAwB;AACxB,kC;;;;;;AC3GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,eAAc,OAAO;AACrB,eAAc,QAAQ;AACtB;AACA,gBAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,iCAAiC;AAChD;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB,OAAO;AACxB,kBAAiB,iCAAiC;AAClD;AACA,mBAAkB,QAAQ;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,WAAW;AAC1B,gBAAe,iCAAiC;AAChD;AACA;AACA;AACA,iBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,UAAU;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB,WAAW;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D,8BAA6B;AAC7B,uC;;;;;;ACzXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,gCAAgC;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,QAAQ,iDAAiD;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D;AACA,iC;;;;;;AClOA;AACA;AACA;AACA,oBAAmB,sBAAsB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA,iBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA;AACA,qDAAoD;AACpD,2BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA,gBAAe,OAAO;AACtB,iBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,MAAM;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,iBAAgB,MAAM;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,eAAc,0BAA0B;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D,oCAAmC;AACnC;AACA;AACA;AACA,eAAc,uBAAuB;AACrC,eAAc,iCAAiC;AAC/C;AACA,gBAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6C;;;;;;ACzNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,yBAAyB;AACxC;AACA;AACA;AACA,gBAAe,iCAAiC;AAChD;AACA;AACA;AACA;AACA;AACA,+CAA8C,8BAA8B;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAc,OAAO;AACrB,gBAAe,MAAM;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA,gBAAe,OAAO;AACtB,iBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA,gBAAe,QAAQ;AACvB;AACA,iBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,MAAM;AACtB;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,MAAM;AACtB;AACA;AACA;AACA;AACA,4CAA2C,sBAAsB;AACjE;AACA,sCAAqC,iBAAiB;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA,iBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA,EAAC;AACD,+CAA8C,cAAc;AAC5D,mCAAkC;AAClC,4C;;;;;;ACxKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,gCAAgC;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,EAAE;AAClB;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,QAAQ,2DAA2D;AACnF;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,mBAAmB;AACl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","file":"sodium.umd.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"Sodium\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Sodium\"] = factory();\n\telse\n\t\troot[\"Sodium\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 6fd4ecfa0effa9faa669\n **/","export { lambda1, lambda2, lambda3, lambda4, lambda5, lambda6 } from \"./Lambda\";\r\nexport { Stream, StreamLoop } from \"./Stream\";\r\nexport { StreamSink } from \"./StreamSink\";\r\nexport { Cell } from \"./Cell\";\r\nexport { CellLoop } from \"./CellLoop\";\r\nexport { CellSink } from \"./CellSink\";\r\nexport { transactionally } from \"./Transaction\";\r\nexport { Tuple2 } from \"./Tuple2\";\r\nexport { Unit } from \"./Unit\";\r\nexport { Operational } from \"./Operational\";\r\nexport { getTotalRegistrations, Vertex } from \"./Vertex\";\r\nexport { TimerSystemImpl, TimerSystem } from \"./TimerSystem\";\r\nexport { SecondsTimerSystem } from \"./SecondsTimerSystem\";\r\nexport { MillisecondsTimerSystem } from \"./MillisecondsTimerSystem\";\r\nexport { IOAction } from \"./IOAction\";\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/Sodium.ts\n **/","import { Stream } from \"./Stream\";\r\nimport { Cell } from \"./Cell\";\r\nimport { Source } from \"./Vertex\";\r\n\r\nexport class Lambda1<A,B> {\r\n    constructor(f : (a : A) => B,\r\n                deps : Array<Stream<any>|Cell<any>>) {\r\n        this.f = f;\r\n        this.deps = deps;\r\n    }\r\n    f : (a : A) => B;\r\n    deps : Array<Stream<any>|Cell<any>>;\r\n}\r\n\r\nexport function lambda1<A,B>(f : (a : A) => B,\r\n                deps : Array<Stream<any>|Cell<any>>) : Lambda1<A,B>\r\n{\r\n    return new Lambda1(f, deps);\r\n}\r\n\r\nexport function Lambda1_deps<A,B>(f : ((a : A) => B) | Lambda1<A,B>) : Array<Stream<any>|Cell<any>> {\r\n    if (f instanceof Lambda1)\r\n        return f.deps;\r\n    else\r\n        return [];\r\n}\r\n\r\nexport function Lambda1_toFunction<A,B>(f : ((a : A) => B) | Lambda1<A,B>) : (a : A) => B {\r\n    if (f instanceof Lambda1)\r\n        return f.f;\r\n    else\r\n        return <(a : A) => B>f;\r\n}\r\n\r\nexport class Lambda2<A,B,C> {\r\n    constructor(f : (a : A, b : B) => C,\r\n                deps : Array<Stream<any>|Cell<any>>) {\r\n        this.f = f;\r\n        this.deps = deps;\r\n    }\r\n    f : (a : A, b : B) => C;\r\n    deps : Array<Stream<any>|Cell<any>>;\r\n}\r\n\r\nexport function lambda2<A,B,C>(f : (a : A, b : B) => C,\r\n                deps : Array<Stream<any>|Cell<any>>) : Lambda2<A,B,C>\r\n{\r\n    return new Lambda2(f, deps);\r\n}\r\n\r\nexport function Lambda2_deps<A,B,C>(f : ((a : A, b : B) => C) | Lambda2<A,B,C>) : Array<Stream<any>|Cell<any>> {\r\n    if (f instanceof Lambda2)\r\n        return f.deps;\r\n    else\r\n        return [];\r\n}\r\n\r\nexport function Lambda2_toFunction<A,B,C>(f : ((a : A, b : B) => C) | Lambda2<A,B,C>) : (a : A, b : B) => C {\r\n    if (f instanceof Lambda2)\r\n        return f.f;\r\n    else\r\n        return <(a : A, b : B) => C>f;\r\n}\r\n\r\nexport class Lambda3<A,B,C,D> {\r\n    constructor(f : (a : A, b : B, c : C) => D,\r\n                deps : Array<Stream<any>|Cell<any>>) {\r\n        this.f = f;\r\n        this.deps = deps;\r\n    }\r\n    f : (a : A, b : B, c : C) => D;\r\n    deps : Array<Stream<any>|Cell<any>>;\r\n}\r\n\r\nexport function lambda3<A,B,C,D>(f : (a : A, b : B, c : C) => D,\r\n                deps : Array<Stream<any>|Cell<any>>) : Lambda3<A,B,C,D>\r\n{\r\n    return new Lambda3(f, deps);\r\n}\r\n\r\nexport function Lambda3_deps<A,B,C,D>(f : ((a : A, b : B, c : C) => D)\r\n        | Lambda3<A,B,C,D>) : Array<Stream<any>|Cell<any>> {\r\n    if (f instanceof Lambda3)\r\n        return f.deps;\r\n    else\r\n        return [];\r\n}\r\n\r\nexport function Lambda3_toFunction<A,B,C,D>(f : ((a : A, b : B, c : C) => D) | Lambda3<A,B,C,D>) : (a : A, b : B, c : C) => D {\r\n    if (f instanceof Lambda3)\r\n        return f.f;\r\n    else\r\n        return <(a : A, b : B, c : C) => D>f;\r\n}\r\n\r\nexport class Lambda4<A,B,C,D,E> {\r\n    constructor(f : (a : A, b : B, c : C, d : D) => E,\r\n                deps : Array<Stream<any>|Cell<any>>) {\r\n        this.f = f;\r\n        this.deps = deps;\r\n    }\r\n    f : (a : A, b : B, c : C, d : D) => E;\r\n    deps : Array<Stream<any>|Cell<any>>;\r\n}\r\n\r\nexport function lambda4<A,B,C,D,E>(f : (a : A, b : B, c : C, d : D) => E,\r\n                deps : Array<Stream<any>|Cell<any>>) : Lambda4<A,B,C,D,E>\r\n{\r\n    return new Lambda4(f, deps);\r\n}\r\n\r\nexport function Lambda4_deps<A,B,C,D,E>(f : ((a : A, b : B, c : C, d : D) => E)\r\n        | Lambda4<A,B,C,D,E>) : Array<Stream<any>|Cell<any>> {\r\n    if (f instanceof Lambda4)\r\n        return f.deps;\r\n    else\r\n        return [];\r\n}\r\n\r\nexport function Lambda4_toFunction<A,B,C,D,E>(f : ((a : A, b : B, c : C, d : D) => E)\r\n        | Lambda4<A,B,C,D,E>) : (a : A, b : B, c : C, d : D) => E {\r\n    if (f instanceof Lambda4)\r\n        return f.f;\r\n    else\r\n        return <(a : A, b : B, c : C, d : D) => E>f;\r\n}\r\n\r\nexport class Lambda5<A,B,C,D,E,F> {\r\n    constructor(f : (a : A, b : B, c : C, d : D, e : E) => F,\r\n                deps : Array<Stream<any>|Cell<any>>) {\r\n        this.f = f;\r\n        this.deps = deps;\r\n    }\r\n    f : (a : A, b : B, c : C, d : D, e : E) => F;\r\n    deps : Array<Stream<any>|Cell<any>>;\r\n}\r\n\r\nexport function lambda5<A,B,C,D,E,F>(f : (a : A, b : B, c : C, d : D, e : E) => F,\r\n                deps : Array<Stream<any>|Cell<any>>) : Lambda5<A,B,C,D,E,F>\r\n{\r\n    return new Lambda5(f, deps);\r\n}\r\n\r\nexport function Lambda5_deps<A,B,C,D,E,F>(f : ((a : A, b : B, c : C, d : D, e : E) => F)\r\n        | Lambda5<A,B,C,D,E,F>) : Array<Stream<any>|Cell<any>> {\r\n    if (f instanceof Lambda5)\r\n        return f.deps;\r\n    else\r\n        return [];\r\n}\r\n\r\nexport function Lambda5_toFunction<A,B,C,D,E,F>(f : ((a : A, b : B, c : C, d : D, e : E) => F)\r\n        | Lambda5<A,B,C,D,E,F>) : (a : A, b : B, c : C, d : D, e : E) => F {\r\n    if (f instanceof Lambda5)\r\n        return f.f;\r\n    else\r\n        return <(a : A, b : B, c : C, d : D, e : E) => F>f;\r\n}\r\n\r\nexport class Lambda6<A,B,C,D,E,F,G> {\r\n    constructor(f : (a : A, b : B, c : C, d : D, e : E, f : F) => G,\r\n                deps : Array<Stream<any>|Cell<any>>) {\r\n        this.f = f;\r\n        this.deps = deps;\r\n    }\r\n    f : (a : A, b : B, c : C, d : D, e : E, f : F) => G;\r\n    deps : Array<Stream<any>|Cell<any>>;\r\n}\r\n\r\nexport function lambda6<A,B,C,D,E,F,G>(f : (a : A, b : B, c : C, d : D, e : E, f : F) => G,\r\n                deps : Array<Stream<any>|Cell<any>>) : Lambda6<A,B,C,D,E,F,G>\r\n{\r\n    return new Lambda6(f, deps);\r\n}\r\n\r\nexport function Lambda6_deps<A,B,C,D,E,F,G>(f : ((a : A, b : B, c : C, d : D, e : E, f : F) => G)\r\n        | Lambda6<A,B,C,D,E,F,G>) : Array<Stream<any>|Cell<any>> {\r\n    if (f instanceof Lambda6)\r\n        return f.deps;\r\n    else\r\n        return [];\r\n}\r\n\r\nexport function Lambda6_toFunction<A,B,C,D,E,F,G>(f : ((a : A, b : B, c : C, d : D, e : E, f : F) => G)\r\n        | Lambda6<A,B,C,D,E,F,G>) : (a : A, b : B, c : C, d : D, e : E, f : F) => G {\r\n    if (f instanceof Lambda6)\r\n        return f.f;\r\n    else\r\n        return <(a : A, b : B, c : C, d : D, e : E, f : F) => G>f;\r\n}\r\n\r\nexport function toSources(deps : Array<Stream<any>|Cell<any>>) : Source[] {\r\n    const ss : Source[] = [];\r\n    for (let i = 0; i < deps.length; i++) {\r\n        const dep = deps[i];\r\n        ss.push(new Source(dep.getVertex__(), null));\r\n    }\r\n    return ss;\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/Lambda.ts\n **/","import { Set } from \"typescript-collections\";\r\n\r\nlet totalRegistrations : number = 0;\r\nexport function getTotalRegistrations() : number {\r\n    return totalRegistrations;\r\n}\r\n\r\nexport class Source {\r\n    constructor(\r\n        origin : Vertex,\r\n        register_ : () => () => void\r\n    ) {\r\n        if (origin === null)\r\n            throw new Error(\"null origin!\");\r\n        this.origin = origin;\r\n        this.register_ = register_;\r\n    }\r\n    origin : Vertex;\r\n    private register_ : () => () => void;\r\n    private registered : boolean = false;\r\n    private deregister_ : () => void = null;\r\n\r\n    register(target : Vertex) : void {\r\n        if (!this.registered) {\r\n            this.registered = true;\r\n            if (this.register_ !== null)\r\n                this.deregister_ = this.register_();\r\n            else {\r\n                this.origin.increment(target);\r\n                this.deregister_ = () => this.origin.decrement(target);\r\n            }\r\n        }\r\n    }\r\n    deregister(target : Vertex) : void {\r\n        if (this.registered) {\r\n            this.registered = false;\r\n            if (this.deregister_ !== null)\r\n                this.deregister_();\r\n        }\r\n    }\r\n}\r\n\r\nexport enum Color { black, gray, white, purple };\r\nlet roots : Vertex[] = [];\r\nlet nextID : number = 0;\r\nlet verbose : boolean = false;\r\n\r\nexport function setVerbose(v : boolean) : void { verbose = v; }\r\n\r\nexport function describeAll(v : Vertex, visited : Set<number>)\r\n{\r\n    if (visited.contains(v.id)) return;\r\n    console.log(v.descr());\r\n    visited.add(v.id);\r\n    let chs = v.children();\r\n    for (let i = 0; i < chs.length; i++)\r\n        describeAll(chs[i], visited);\r\n}\r\n\r\nexport class Vertex {\r\n    static NULL : Vertex = new Vertex(\"user\", 1e12, []);\r\n    id : number;\r\n\r\n\tconstructor(name : string, rank : number, sources : Source[]) {\r\n\t    this.name = name;\r\n\t\tthis.rank = rank;\r\n\t\tthis.sources = sources;\r\n\t\tthis.id = nextID++;\r\n\t}\r\n\tname : string;\r\n    rank : number;\r\n    sources : Source[];\r\n    targets : Vertex[] = [];\r\n    childrn : Vertex[] = [];\r\n    refCount() : number { return this.targets.length; };\r\n    visited : boolean = false;\r\n    register(target : Vertex) : boolean {\r\n        return this.increment(target);\r\n    }\r\n    deregister(target : Vertex) : void {\r\n        if (verbose)\r\n            console.log(\"deregister \"+this.descr()+\" => \"+target.descr());\r\n        this.decrement(target);\r\n        Vertex.collectCycles();\r\n    }\r\n    private incRefCount(target : Vertex) : boolean {\r\n        let anyChanged : boolean = false;\r\n        if (this.refCount() == 0) {\r\n            for (let i = 0; i < this.sources.length; i++)\r\n                this.sources[i].register(this);\r\n        }\r\n        this.targets.push(target);\r\n        target.childrn.push(this);\r\n        if (target.ensureBiggerThan(this.rank))\r\n            anyChanged = true;\r\n        totalRegistrations++;\r\n        return anyChanged;\r\n    }\r\n\r\n    private decRefCount(target : Vertex) : void {\r\n        if (verbose)\r\n            console.log(\"DEC \"+this.descr());\r\n        let matched = false;\r\n        for (let i = 0; i < target.childrn.length; i++)\r\n            if (target.childrn[i] === this) {\r\n                target.childrn.splice(i, 1);\r\n            }\r\n        for (let i = 0; i < this.targets.length; i++)\r\n            if (this.targets[i] === target) {\r\n                this.targets.splice(i, 1);\r\n                matched = true;\r\n                break;\r\n            }\r\n        if (matched) {\r\n            if (this.refCount() == 0) {\r\n                for (let i = 0; i < this.sources.length; i++)\r\n                    this.sources[i].deregister(this);\r\n            }\r\n            totalRegistrations--;\r\n        }\r\n    }\r\n\r\n    addSource(src : Source) : void {\r\n        this.sources.push(src);\r\n        if (this.refCount() > 0)\r\n            src.register(this);\r\n    }\r\n\r\n\tprivate ensureBiggerThan(limit : number) : boolean {\r\n\t\tif (this.rank > limit || this.visited)\r\n\t\t\treturn false;\r\n\r\n        this.visited = true;\r\n\t\tthis.rank = limit + 1;\r\n\t\tfor (let i = 0; i < this.targets.length; i++)\r\n\t\t\tthis.targets[i].ensureBiggerThan(this.rank);\r\n        this.visited = false;\r\n\t\treturn true;\r\n\t}\r\n\r\n\tdescr() : string {\r\n        let colStr : string = null;\r\n        switch (this.color) {\r\n        case Color.black: colStr = \"black\"; break;\r\n        case Color.gray:  colStr = \"gray\"; break;\r\n        case Color.white: colStr = \"white\"; break;\r\n        case Color.purple: colStr = \"purple\"; break;\r\n        }\r\n        let str = this.id+\" \"+this.name+\" [\"+this.refCount()+\"/\"+this.refCountAdj+\"] \"+colStr+\" ->\";\r\n        let chs = this.children();\r\n        for (let i = 0; i < chs.length; i++) {\r\n            str = str + \" \" + chs[i].id;\r\n        }\r\n        return str;\r\n\t}\r\n\r\n\t// --------------------------------------------------------\r\n\t// Synchronous Cycle Collection algorithm presented in \"Concurrent\r\n\t// Cycle Collection in Reference Counted Systems\" by David F. Bacon\r\n\t// and V.T. Rajan.\r\n\r\n    color : Color = Color.black;\r\n    buffered : boolean = false;\r\n    refCountAdj : number = 0;\r\n\r\n\tchildren() : Vertex[] { return this.childrn; }\r\n\r\n\tincrement(referrer : Vertex) : boolean {\r\n\t    return this.incRefCount(referrer);\r\n\t}\r\n\r\n\tdecrement(referrer : Vertex) : void {\r\n\t    this.decRefCount(referrer);\r\n\t    if (this.refCount() == 0)\r\n\t        this.release();\r\n        else\r\n            this.possibleRoots();\r\n\t}\r\n\r\n    release() : void {\r\n        this.color = Color.black;\r\n        if (!this.buffered)\r\n            this.free();\r\n    }\r\n\r\n    free() : void {\r\n        while (this.targets.length > 0)\r\n            this.decRefCount(this.targets[0]);\r\n    }\r\n\r\n\tpossibleRoots() : void {\r\n\t    if (this.color != Color.purple) {\r\n\t        this.color = Color.purple;\r\n\t        if (!this.buffered) {\r\n                this.buffered = true;\r\n                roots.push(this);\r\n            }\r\n        }\r\n\t}\r\n\r\n\tstatic collectCycles() : void {\r\n\t    Vertex.markRoots();\r\n\t    Vertex.scanRoots();\r\n\t    Vertex.collectRoots();\r\n\t}\r\n\r\n\tstatic markRoots() : void {\r\n\t    const newRoots : Vertex[] = [];\r\n\t    for (let i = 0; i < roots.length; i++) {\r\n            if (verbose)\r\n                console.log(\"markRoots \"+roots[i].descr());  // ###\r\n\t        if (roots[i].color == Color.purple) {\r\n\t            roots[i].markGray();\r\n\t            newRoots.push(roots[i]);\r\n            }\r\n\t        else {\r\n\t            roots[i].buffered = false;\r\n\t            if (roots[i].color == Color.black && roots[i].refCount() == 0)\r\n\t                roots[i].free();\r\n            }\r\n\t    }\r\n\t    roots = newRoots;\r\n\t}\r\n\r\n\tstatic scanRoots() : void {\r\n\t    for (let i = 0; i < roots.length; i++)\r\n\t        roots[i].scan();\r\n\t}\r\n\r\n\tstatic collectRoots() : void {\r\n\t    for (let i = 0; i < roots.length; i++) {\r\n\t        roots[i].buffered = false;\r\n\t        roots[i].collectWhite();\r\n\t    }\r\n\t    roots = [];\r\n\t}\r\n\r\n\tmarkGray() : void {\r\n\t    if (this.color != Color.gray) {\r\n\t        this.color = Color.gray;\r\n\t        let chs = this.children();\r\n\t        for (let i = 0; i < chs.length; i++) {\r\n\t            chs[i].refCountAdj--;\r\n                if (verbose)\r\n                    console.log(\"markGray \"+this.descr());\r\n\t            chs[i].markGray();\r\n            }\r\n\t    }\r\n\t}\r\n\r\n\tscan() : void {\r\n\t    if (verbose)\r\n            console.log(\"scan \"+this.descr());\r\n\t    if (this.color == Color.gray) {\r\n\t        if (this.refCount()+this.refCountAdj > 0)\r\n\t            this.scanBlack();\r\n\t        else {\r\n\t            this.color = Color.white;\r\n                if (verbose)\r\n                    console.log(\"scan WHITE \"+this.descr());\r\n                let chs = this.children();\r\n                for (let i = 0; i < chs.length; i++)\r\n                    chs[i].scan();\r\n\t        }\r\n\t    }\r\n\t}\r\n\r\n\tscanBlack() : void {\r\n\t    this.color = Color.black;\r\n        let chs = this.children();\r\n        for (let i = 0; i < chs.length; i++) {\r\n            chs[i].refCountAdj++;\r\n            if (verbose)\r\n                console.log(\"scanBlack \"+this.descr());\r\n            if (chs[i].color != Color.black)\r\n                chs[i].scanBlack();\r\n        }\r\n\t}\r\n\r\n\tcollectWhite() : void {\r\n\t    if (this.color == Color.white && !this.buffered) {\r\n            if (verbose)\r\n                console.log(\"collectWhite \"+this.descr());\r\n\t        this.color = Color.black;\r\n\t        this.refCountAdj = 0;\r\n            let chs = this.children();\r\n            for (let i = 0; i < chs.length; i++)\r\n                chs[i].collectWhite();\r\n            this.free();\r\n\t    }\r\n\t}\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/Vertex.ts\n **/","import { Lambda1, Lambda1_deps, Lambda1_toFunction,\r\n         Lambda2, Lambda2_deps, Lambda2_toFunction,\r\n         toSources } from \"./Lambda\";\r\nimport { Source, Vertex } from \"./Vertex\";\r\nimport { Transaction, transactionally, currentTransaction } from \"./Transaction\";\r\nimport { CoalesceHandler } from \"./CoalesceHandler\";\r\nimport { Cell } from \"./Cell\";\r\n//import { StreamLoop } from \"./StreamLoop\";\r\nimport { Listener } from \"./Listener\";\r\nimport { Tuple2 } from \"./Tuple2\";\r\nimport { Lazy } from \"./Lazy\";\r\nimport { LazyCell } from \"./LazyCell\";\r\n\r\nexport class Stream<A> {\r\n    constructor(vertex? : Vertex) {\r\n        this.vertex = vertex ? vertex : new Vertex(\"Stream\", 0, []);\r\n    }\r\n\r\n    getVertex__() : Vertex {\r\n        return this.vertex;\r\n    }\r\n\r\n    protected vertex : Vertex;\r\n    protected listeners : Array<Listener<A>> = [];\r\n    protected firings : A[] = [];\r\n\r\n    /**\r\n     * Transform the stream's event values according to the supplied function, so the returned\r\n     * Stream's event values reflect the value of the function applied to the input\r\n     * Stream's event values.\r\n     * @param f Function to apply to convert the values. It may construct FRP logic or use\r\n     *    {@link Cell#sample()} in which case it is equivalent to {@link Stream#snapshot(Cell)}ing the\r\n     *    cell. Apart from this the function must be <em>referentially transparent</em>.\r\n     */\r\n    map<B>(f : ((a : A) => B) | Lambda1<A,B>) : Stream<B> {\r\n        const out = new StreamWithSend<B>(null);\r\n        const ff = Lambda1_toFunction(f);\r\n        out.vertex = new Vertex(\"map\", 0, [\r\n                new Source(\r\n                    this.vertex,\r\n                    () => {\r\n                        return this.listen_(out.vertex, (a : A) => {\r\n                            out.send_(ff(a));\r\n                        }, false);\r\n                    }\r\n                )\r\n            ].concat(toSources(Lambda1_deps(f)))\r\n        );\r\n        return out;\r\n    }\r\n\r\n    /**\r\n     * Transform the stream's event values into the specified constant value.\r\n     * @param b Constant value.\r\n     */\r\n    mapTo<B>(b : B) : Stream<B> {\r\n        const out = new StreamWithSend<B>(null);\r\n        out.vertex = new Vertex(\"mapTo\", 0, [\r\n                new Source(\r\n                    this.vertex,\r\n                    () => {\r\n                        return this.listen_(out.vertex, (a : A) => {\r\n                            out.send_(b);\r\n                        }, false);\r\n                    }\r\n                )\r\n            ]\r\n        );\r\n        return out;\r\n    }\r\n\r\n    /**\r\n     * Variant of {@link Stream#merge(Stream, Lambda2)} that merges two streams and will drop an event\r\n     * in the simultaneous case.\r\n     * <p>\r\n     * In the case where two events are simultaneous (i.e. both\r\n     * within the same transaction), the event from <em>this</em> will take precedence, and\r\n     * the event from <em>s</em> will be dropped.\r\n     * If you want to specify your own combining function, use {@link Stream#merge(Stream, Lambda2)}.\r\n     * s1.orElse(s2) is equivalent to s1.merge(s2, (l, r) -&gt; l).\r\n     * <p>\r\n     * The name orElse() is used instead of merge() to make it really clear that care should\r\n     * be taken, because events can be dropped.\r\n     */\r\n    orElse(s : Stream<A>) : Stream<A> {\r\n        return this.merge(s, (left : A, right: A) => {\r\n            return left;\r\n        });\r\n    }\r\n\r\n    private merge_(s : Stream<A>) : Stream<A> {\r\n        const out = new StreamWithSend<A>();\r\n        const left = new Vertex(\"merge\", 0, []);\r\n        left.sources.push(new Source(this.vertex, () => {\r\n            return this.listen_(left, (a : A) => {\r\n                    out.send_(a);\r\n                }, false);\r\n        }));\r\n        out.vertex.sources = out.vertex.sources.concat([\r\n                new Source(\r\n                    left,\r\n                    () => {\r\n                        left.register(out.vertex);\r\n                        return () => { left.deregister(out.vertex); }\r\n                    }\r\n                ),\r\n                new Source(\r\n                    s.vertex,\r\n                    () => {\r\n                        return s.listen_(out.vertex, (a : A) => {\r\n                            out.send_(a);\r\n                        }, false);\r\n                    }\r\n                )\r\n            ]);\r\n        return out;\r\n    }\r\n\r\n    coalesce__(f : ((left : A, right : A) => A) | Lambda2<A,A,A>) : Stream<A> {  // TO DO figure out how to hide this\r\n        const out = new StreamWithSend<A>();\r\n        const coalescer = new CoalesceHandler<A>(f, out);\r\n        out.vertex.sources = out.vertex.sources.concat([\r\n                new Source(\r\n                    this.vertex,\r\n                    () => {\r\n                        return this.listen_(out.vertex, (a : A) => {\r\n                            coalescer.send_(a);\r\n                        }, false);\r\n                    }\r\n                )\r\n            ]).concat(toSources(Lambda2_deps(f)));\r\n        return out;\r\n    }\r\n\r\n    /**\r\n     * Merge two streams of the same type into one, so that events on either input appear\r\n     * on the returned stream.\r\n     * <p>\r\n     * If the events are simultaneous (that is, one event from this and one from <em>s</em>\r\n     * occurring in the same transaction), combine them into one using the specified combining function\r\n     * so that the returned stream is guaranteed only ever to have one event per transaction.\r\n     * The event from <em>this</em> will appear at the left input of the combining function, and\r\n     * the event from <em>s</em> will appear at the right.\r\n     * @param f Function to combine the values. It may construct FRP logic or use\r\n     *    {@link Cell#sample()}. Apart from this the function must be <em>referentially transparent</em>.\r\n     */\r\n    merge(s : Stream<A>, f : ((left : A, right : A) => A) | Lambda2<A,A,A>) : Stream<A> {\r\n        return transactionally<Stream<A>>(() => {\r\n            return this.merge_(s).coalesce__(f);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Return a stream that only outputs events for which the predicate returns true.\r\n     */\r\n    filter(f : ((a : A) => boolean) | Lambda1<A,boolean>) : Stream<A> {\r\n        const out = new StreamWithSend<A>(null);\r\n        const ff = Lambda1_toFunction(f);\r\n        out.vertex = new Vertex(\"filter\", 0, [\r\n                new Source(\r\n                    this.vertex,\r\n                    () => {\r\n                        return this.listen_(out.vertex, (a : A) => {\r\n                            if (ff(a))\r\n                                out.send_(a);\r\n                        }, false);\r\n                    }\r\n                )\r\n            ].concat(toSources(Lambda1_deps(f)))\r\n        );\r\n        return out;\r\n    }\r\n\r\n    /**\r\n     * Return a stream that only outputs events that have present\r\n     * values, discarding null values.\r\n     */\r\n    filterNotNull() : Stream<A> {\r\n        const out = new StreamWithSend<A>(null);\r\n        out.vertex = new Vertex(\"filterNotNull\", 0, [\r\n                new Source(\r\n                    this.vertex,\r\n                    () => {\r\n                        return this.listen_(out.vertex, (a : A) => {\r\n                            if (a !== null)\r\n                                out.send_(a);\r\n                        }, false);\r\n                    }\r\n                )\r\n            ]\r\n        );\r\n        return out;\r\n    }\r\n\r\n    /**\r\n     * Return a stream that only outputs events from the input stream\r\n     * when the specified cell's value is true.\r\n     */\r\n    gate(c : Cell<boolean>) : Stream<A> {\r\n        return this.snapshot(c, (a : A, pred : boolean) => {\r\n            return pred ? a : null;\r\n        }).filterNotNull();\r\n    }\r\n\r\n\t/**\r\n\t * Variant of {@link snapshot(Cell, Lambda2)} that captures the cell's value\r\n\t * at the time of the event firing, ignoring the stream's value.\r\n\t */\r\n\tsnapshot1<B>(c : Cell<B>) : Stream<B> {\r\n        const out = new StreamWithSend<B>(null);\r\n        out.vertex = new Vertex(\"snapshot1\", 0, [\r\n                new Source(\r\n                    this.vertex,\r\n                    () => {\r\n                        return this.listen_(out.vertex, (a : A) => {\r\n                            out.send_(c.sampleNoTrans__());\r\n                        }, false);\r\n                    }\r\n                ),\r\n                new Source(c.getVertex__(), null)\r\n            ]\r\n        );\r\n        return out;\r\n\t}\r\n\r\n\t/**\r\n\t * Return a stream whose events are the result of the combination using the specified\r\n\t * function of the input stream's event value and the value of the cell at that time.\r\n     * <P>\r\n     * There is an implicit delay: State updates caused by event firings being held with\r\n     * {@link Stream#hold(Object)} don't become visible as the cell's current value until\r\n     * the following transaction. To put this another way, {@link Stream#snapshot(Cell, Lambda2)}\r\n     * always sees the value of a cell as it was before any state changes from the current\r\n     * transaction.\r\n     */\r\n\tsnapshot<B,C>(c : Cell<B>, f : ((a : A, b : B) => C) | Lambda2<A,B,C>) : Stream<C>\r\n\t{\r\n        const out = new StreamWithSend<C>(null);\r\n        const ff = Lambda2_toFunction(f);\r\n        out.vertex = new Vertex(\"snapshot\", 0, [\r\n                new Source(\r\n                    this.vertex,\r\n                    () => {\r\n                        return this.listen_(out.vertex, (a : A) => {\r\n                            out.send_(ff(a, c.sampleNoTrans__()));\r\n                        }, false);\r\n                    }\r\n                ),\r\n                new Source(c.getVertex__(), null)\r\n            ].concat(toSources(Lambda2_deps(f)))\r\n        );\r\n        return out;\r\n\t}\r\n\r\n\t/**\r\n\t * Create a {@link Cell} with the specified initial value, that is updated\r\n     * by this stream's event values.\r\n     * <p>\r\n     * There is an implicit delay: State updates caused by event firings don't become\r\n     * visible as the cell's current value as viewed by {@link Stream#snapshot(Cell, Lambda2)}\r\n     * until the following transaction. To put this another way,\r\n     * {@link Stream#snapshot(Cell, Lambda2)} always sees the value of a cell as it was before\r\n     * any state changes from the current transaction.\r\n     */\r\n    hold(initValue : A) : Cell<A> {\r\n        return new Cell<A>(initValue, this);\r\n\t}\r\n\r\n\t/**\r\n\t * A variant of {@link hold(Object)} with an initial value captured by {@link Cell#sampleLazy()}.\r\n\t */\r\n\tholdLazy(initValue : Lazy<A>) : Cell<A> {\r\n\t    return new LazyCell<A>(initValue, this);\r\n\t}\r\n\r\n    /**\r\n     * Transform an event with a generalized state loop (a Mealy machine). The function\r\n     * is passed the input and the old state and returns the new state and output value.\r\n     * @param f Function to apply to update the state. It may construct FRP logic or use\r\n     *    {@link Cell#sample()} in which case it is equivalent to {@link Stream#snapshot(Cell)}ing the\r\n     *    cell. Apart from this the function must be <em>referentially transparent</em>.\r\n     */\r\n    collect<B,S>(initState : S, f : ((a : A, s : S) => Tuple2<B,S>) | Lambda2<A,S,Tuple2<B,S>>) : Stream<B> {\r\n        return this.collectLazy(new Lazy<S>(() => { return initState; }), f);\r\n    }\r\n\r\n    /**\r\n     * A variant of {@link collect(Object, Lambda2)} that takes an initial state returned by\r\n     * {@link Cell#sampleLazy()}.\r\n     */\r\n    collectLazy<B,S>(initState : Lazy<S>, f : ((a : A, s : S) => Tuple2<B,S>) | Lambda2<A,S,Tuple2<B,S>>) : Stream<B> {\r\n        const ea = this;\r\n        return transactionally(() => {\r\n            const es = new StreamLoop<S>(),\r\n                s = es.holdLazy(initState),\r\n                ebs = ea.snapshot(s, f),\r\n                eb = ebs.map((bs : Tuple2<B,S>) => { return bs.a; }),\r\n                es_out = ebs.map((bs : Tuple2<B,S>) => { return bs.b; });\r\n            es.loop(es_out);\r\n            return eb;\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Accumulate on input event, outputting the new state each time.\r\n     * @param f Function to apply to update the state. It may construct FRP logic or use\r\n     *    {@link Cell#sample()} in which case it is equivalent to {@link Stream#snapshot(Cell)}ing the\r\n     *    cell. Apart from this the function must be <em>referentially transparent</em>.\r\n     */\r\n    accum<S>(initState : S, f : ((a : A, s : S) => S) | Lambda2<A,S,S>) : Cell<S> {\r\n        return this.accumLazy(new Lazy<S>(() => { return initState; }), f);\r\n    }\r\n\r\n    /**\r\n     * A variant of {@link accum(Object, Lambda2)} that takes an initial state returned by\r\n     * {@link Cell#sampleLazy()}.\r\n     */\r\n    accumLazy<S>(initState : Lazy<S>, f : ((a : A, s : S) => S) | Lambda2<A,S,S>) : Cell<S> {\r\n        const ea = this;\r\n        return transactionally(() => {\r\n            const es = new StreamLoop<S>(),\r\n                s = es.holdLazy(initState),\r\n                es_out = ea.snapshot(s, f);\r\n            es.loop(es_out);\r\n            return es_out.holdLazy(initState);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Return a stream that outputs only one value: the next event of the\r\n     * input stream, starting from the transaction in which once() was invoked.\r\n     */\r\n    once() : Stream<A> {\r\n    /*\r\n        return transactionally(() => {\r\n            const ev = this,\r\n                out = new StreamWithSend<A>();\r\n            let la : () => void = null;\r\n            la = ev.listen_(out.vertex, (a : A) => {\r\n                if (la !== null) {\r\n                    out.send_(a);\r\n                    la();\r\n                    la = null;\r\n                }\r\n            }, false);\r\n            return out;\r\n        });\r\n        */\r\n        // We can't use the implementation above, beacuse deregistering\r\n        // listeners triggers the exception\r\n        // \"send() was invoked before listeners were registered\"\r\n        // We can revisit this another time. For now we will use the less\r\n        // efficient implementation below.\r\n        const me = this;\r\n        return transactionally(() => me.gate(me.mapTo(false).hold(true)));\r\n    }\r\n\r\n    listen(h : (a : A) => void) : () => void {\r\n        return transactionally<() => void>(() => {\r\n            return this.listen_(Vertex.NULL, h, false);\r\n        });\r\n    }\r\n\r\n    listen_(target : Vertex,\r\n            h : (a : A) => void,\r\n            suppressEarlierFirings : boolean) : () => void {\r\n        if (this.vertex.register(target))\r\n            currentTransaction.requestRegen();\r\n        const listener = new Listener<A>(h, target);\r\n        this.listeners.push(listener);\r\n        if (!suppressEarlierFirings && this.firings.length != 0) {\r\n            const firings = this.firings.slice();\r\n            currentTransaction.prioritized(target, () => {\r\n                // Anything sent already in this transaction must be sent now so that\r\n                // there's no order dependency between send and listen.\r\n                for (let i = 0; i < firings.length; i++)\r\n                    h(firings[i]);\r\n            });\r\n        }\r\n        return () => {\r\n            let removed = false;\r\n            for (let i = 0; i < this.listeners.length; i++) {\r\n                if (this.listeners[i] == listener) {\r\n                    this.listeners.splice(i, 1);\r\n                    removed = true;\r\n                    break;\r\n                }\r\n            }\r\n            if (removed)\r\n                this.vertex.deregister(target);\r\n        };\r\n    }\r\n}\r\n\r\nexport class StreamWithSend<A> extends Stream<A> {\r\n    constructor(vertex? : Vertex) {\r\n        super(vertex);\r\n    }\r\n    \r\n    setVertex__(vertex : Vertex) {  // TO DO figure out how to hide this\r\n        this.vertex = vertex;\r\n    }\r\n\r\n    send_(a : A) : void {\r\n        // We throw this error if we send into FRP logic that has been constructed\r\n        // but nothing is listening to it yet. We need to do it this way because\r\n        // it's the only way to manage memory in a language with no finalizers.\r\n        if (this.vertex.refCount() == 0)\r\n            throw new Error(\"send() was invoked before listeners were registered\");\r\n\t\tif (this.firings.length == 0)\r\n\t\t\tcurrentTransaction.last(() => {\r\n\t\t\t    this.firings = [];\r\n            });\r\n\t\tthis.firings.push(a);\r\n\t\tconst listeners = this.listeners.slice();\r\n        for (let i = 0; i < listeners.length; i++) {\r\n            const h = listeners[i].h;\r\n            currentTransaction.prioritized(listeners[i].target, () => {\r\n                currentTransaction.inCallback++;\r\n                try {\r\n                    h(a);\r\n                    currentTransaction.inCallback--;\r\n                }\r\n                catch (err) {\r\n                    currentTransaction.inCallback--;\r\n                    throw err;\r\n                }\r\n            });\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * A forward reference for a {@link Stream} equivalent to the Stream that is referenced. \r\n */\r\nexport class StreamLoop<A> extends StreamWithSend<A> {\r\n    assigned__ : boolean = false;  // to do: Figure out how to hide this\r\n\r\n    constructor()\r\n    {\r\n        super();\r\n        this.vertex.name = \"StreamLoop\";\r\n    \tif (currentTransaction === null)\r\n    \t    throw new Error(\"StreamLoop/CellLoop must be used within an explicit transaction\");\r\n    }\r\n\r\n    /**\r\n     * Resolve the loop to specify what the StreamLoop was a forward reference to. It\r\n     * must be invoked inside the same transaction as the place where the StreamLoop is used.\r\n     * This requires you to create an explicit transaction with {@link Transaction#run(Lambda0)}\r\n     * or {@link Transaction#runVoid(Runnable)}.\r\n     */\r\n    loop(sa_out : Stream<A>) : void {\r\n        if (this.assigned__)\r\n            throw new Error(\"StreamLoop looped more than once\");\r\n        this.assigned__ = true;\r\n        this.vertex.addSource(\r\n            new Source(\r\n                sa_out.getVertex__(),\r\n                () => {\r\n                    return sa_out.listen_(this.vertex, (a : A) => {\r\n                        this.send_(a);\r\n                    }, false);\r\n                }\r\n            )\r\n        );\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/Stream.ts\n **/","import { Vertex } from './Vertex';\r\nimport { Set, PriorityQueue } from 'typescript-collections';\r\n\r\nexport class Entry {\r\n    constructor(rank : Vertex, action : () => void) {\r\n        this.rank = rank; \r\n        this.action = action;\r\n        this.seq = Entry.nextSeq++;\r\n    }\r\n    private static nextSeq : number = 0;\r\n    rank : Vertex;\r\n    action : () => void;\r\n    seq : number;\r\n    toString() : string {\r\n        return this.seq.toString();\r\n    }\r\n}\r\n\r\nexport class Transaction {\r\n    constructor() {}\r\n    inCallback : number = 0;\r\n    private toRegen : boolean = false;\r\n    requestRegen() : void { this.toRegen = true; }\r\n    prioritizedQ : PriorityQueue<Entry> = new PriorityQueue<Entry>((a, b) => {\r\n        // Note: Low priority numbers are treated as \"greater\" according to this\r\n        // comparison, so that the lowest numbers are highest priority and go first.\r\n        if (a.rank.rank < b.rank.rank) return 1;\r\n        if (a.rank.rank > b.rank.rank) return -1;\r\n        if (a.seq < b.seq) return 1;\r\n        if (a.seq > b.seq) return -1;\r\n        return 0;\r\n    });\r\n    private entries : Set<Entry> = new Set<Entry>((a) => a.toString());\r\n    private lastQ : Array<() => void> = [];\r\n    private postQ : Array<() => void> = null;\r\n\r\n    prioritized(target : Vertex, f : () => void) : void {\r\n        const e = new Entry(target, f);\r\n        this.prioritizedQ.enqueue(e);\r\n        this.entries.add(e);\r\n    }\r\n    \r\n    last(h : () => void) : void {\r\n        this.lastQ.push(h);\r\n    }\r\n\r\n\t/**\r\n     * Add an action to run after all last() actions.\r\n     */\r\n\tpost(childIx : number, action : () => void) : void {\r\n\t    if (this.postQ == null)\r\n\t        this.postQ = [];\r\n\t    // If an entry exists already, combine the old one with the new one.\r\n\t    while (this.postQ.length <= childIx)\r\n\t        this.postQ.push(null);\r\n\t    const existing = this.postQ[childIx],\r\n\t        neu =\r\n                existing === null ? action\r\n\t                         : () => {\r\n\t                               existing();\r\n\t                               action();\r\n                               };\r\n\t    this.postQ[childIx] = neu;\r\n\t}\r\n\r\n\t// If the priority queue has entries in it when we modify any of the nodes'\r\n\t// ranks, then we need to re-generate it to make sure it's up-to-date.\r\n\tprivate checkRegen() : void\r\n\t{\r\n\t    if (this.toRegen) {\r\n\t        this.toRegen = false;\r\n\t        this.prioritizedQ.clear();\r\n\t        const es = this.entries.toArray();\r\n\t        for (let i : number = 0; i < es.length; i++)\r\n\t            this.prioritizedQ.enqueue(es[i]);\r\n\t    }\r\n\t}\r\n\r\n    close() : void {\r\n\t    while (true) {\r\n\t        this.checkRegen();\r\n\t\t    if (this.prioritizedQ.isEmpty()) break;\r\n\t\t    const e = this.prioritizedQ.dequeue();\r\n\t\t    this.entries.remove(e);\r\n\t\t\te.action();\r\n\t\t}\r\n\t\tfor (let i = 0; i < this.lastQ.length; i++)\r\n\t\t    this.lastQ[i]();\r\n        this.lastQ = [];\r\n\t\tif (this.postQ != null) {\r\n\t\t    for (let i = 0; i < this.postQ.length; i++) {\r\n\t\t        if (this.postQ[i] != null) {\r\n                    const parent = currentTransaction;\r\n                    try {\r\n                        if (i > 0) {\r\n                            currentTransaction = new Transaction();\r\n                            try {\r\n                                this.postQ[i]();\r\n                                currentTransaction.close();\r\n                            }\r\n                            catch (err) {\r\n                                currentTransaction.close();\r\n                                throw err;\r\n                            }\r\n                        }\r\n                        else {\r\n                            currentTransaction = null;\r\n                            this.postQ[i]();\r\n                        }\r\n                        currentTransaction = parent;\r\n                    }\r\n                    catch (err) {\r\n                        currentTransaction = parent;\r\n                        throw err;\r\n                    }\r\n                }\r\n            }\r\n            this.postQ = null;\r\n\t\t}\r\n    }\r\n\r\n\t/**\r\n\t * Add a runnable that will be executed whenever a transaction is started.\r\n\t * That runnable may start transactions itself, which will not cause the\r\n\t * hooks to be run recursively.\r\n\t *\r\n\t * The main use case of this is the implementation of a time/alarm system.\r\n\t */\r\n\tstatic onStart(r : () => void) : void {\r\n        onStartHooks.push(r);\r\n\t}\r\n}\r\n\r\nexport let currentTransaction : Transaction = null;\r\nlet onStartHooks : (() => void)[] = [],\r\n    runningOnStartHooks : boolean = false;\r\n\r\nexport function transactionally<A>(f : () => A) : A {\r\n    const transWas : Transaction = currentTransaction;\r\n    if (transWas === null) {\r\n        if (!runningOnStartHooks) {\r\n            runningOnStartHooks = true;\r\n            try {\r\n                for (let i = 0; i < onStartHooks.length; i++)\r\n                    onStartHooks[i]();\r\n            }\r\n            finally {\r\n                runningOnStartHooks = false;\r\n            }\r\n        }\r\n        currentTransaction = new Transaction();\r\n    }\r\n    try {\r\n        const a : A = f();\r\n        if (transWas === null) {\r\n            currentTransaction.close();\r\n            currentTransaction = null;\r\n        }\r\n        return a;\r\n    }\r\n    catch (err) {\r\n        if (transWas === null) {\r\n            currentTransaction.close();\r\n            currentTransaction = null;\r\n        }\r\n        throw err;\r\n    }\r\n}\r\n\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/Transaction.ts\n **/","\"use strict\";\r\n// Copyright 2013 Basarat Ali Syed. All Rights Reserved.\r\n//\r\n// Licensed under MIT open source license http://opensource.org/licenses/MIT\r\n//\r\n// Orginal javascript code was by Mauricio Santos\r\n//\r\nvar _arrays = require('./arrays');\r\nexports.arrays = _arrays;\r\nvar Bag_1 = require('./Bag');\r\nexports.Bag = Bag_1.default;\r\nvar BSTree_1 = require('./BSTree');\r\nexports.BSTree = BSTree_1.default;\r\nvar Dictionary_1 = require('./Dictionary');\r\nexports.Dictionary = Dictionary_1.default;\r\nvar Heap_1 = require('./Heap');\r\nexports.Heap = Heap_1.default;\r\nvar LinkedDictionary_1 = require('./LinkedDictionary');\r\nexports.LinkedDictionary = LinkedDictionary_1.default;\r\nvar LinkedList_1 = require('./LinkedList');\r\nexports.LinkedList = LinkedList_1.default;\r\nvar MultiDictionary_1 = require('./MultiDictionary');\r\nexports.MultiDictionary = MultiDictionary_1.default;\r\nvar Queue_1 = require('./Queue');\r\nexports.Queue = Queue_1.default;\r\nvar PriorityQueue_1 = require('./PriorityQueue');\r\nexports.PriorityQueue = PriorityQueue_1.default;\r\nvar Set_1 = require('./Set');\r\nexports.Set = Set_1.default;\r\nvar Stack_1 = require('./Stack');\r\nexports.Stack = Stack_1.default;\r\nvar _util = require('./util');\r\nexports.util = _util;\r\n//# sourceMappingURL=index.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/typescript-collections/dist/lib/index.js\n ** module id = 5\n ** module chunks = 0\n **/","\"use strict\";\r\nvar util = require('./util');\r\n/**\r\n * Returns the position of the first occurrence of the specified item\r\n * within the specified array.4\r\n * @param {*} array the array in which to search the element.\r\n * @param {Object} item the element to search.\r\n * @param {function(Object,Object):boolean=} equalsFunction optional function used to\r\n * check equality between 2 elements.\r\n * @return {number} the position of the first occurrence of the specified element\r\n * within the specified array, or -1 if not found.\r\n */\r\nfunction indexOf(array, item, equalsFunction) {\r\n    var equals = equalsFunction || util.defaultEquals;\r\n    var length = array.length;\r\n    for (var i = 0; i < length; i++) {\r\n        if (equals(array[i], item)) {\r\n            return i;\r\n        }\r\n    }\r\n    return -1;\r\n}\r\nexports.indexOf = indexOf;\r\n/**\r\n * Returns the position of the last occurrence of the specified element\r\n * within the specified array.\r\n * @param {*} array the array in which to search the element.\r\n * @param {Object} item the element to search.\r\n * @param {function(Object,Object):boolean=} equalsFunction optional function used to\r\n * check equality between 2 elements.\r\n * @return {number} the position of the last occurrence of the specified element\r\n * within the specified array or -1 if not found.\r\n */\r\nfunction lastIndexOf(array, item, equalsFunction) {\r\n    var equals = equalsFunction || util.defaultEquals;\r\n    var length = array.length;\r\n    for (var i = length - 1; i >= 0; i--) {\r\n        if (equals(array[i], item)) {\r\n            return i;\r\n        }\r\n    }\r\n    return -1;\r\n}\r\nexports.lastIndexOf = lastIndexOf;\r\n/**\r\n * Returns true if the specified array contains the specified element.\r\n * @param {*} array the array in which to search the element.\r\n * @param {Object} item the element to search.\r\n * @param {function(Object,Object):boolean=} equalsFunction optional function to\r\n * check equality between 2 elements.\r\n * @return {boolean} true if the specified array contains the specified element.\r\n */\r\nfunction contains(array, item, equalsFunction) {\r\n    return indexOf(array, item, equalsFunction) >= 0;\r\n}\r\nexports.contains = contains;\r\n/**\r\n * Removes the first ocurrence of the specified element from the specified array.\r\n * @param {*} array the array in which to search element.\r\n * @param {Object} item the element to search.\r\n * @param {function(Object,Object):boolean=} equalsFunction optional function to\r\n * check equality between 2 elements.\r\n * @return {boolean} true if the array changed after this call.\r\n */\r\nfunction remove(array, item, equalsFunction) {\r\n    var index = indexOf(array, item, equalsFunction);\r\n    if (index < 0) {\r\n        return false;\r\n    }\r\n    array.splice(index, 1);\r\n    return true;\r\n}\r\nexports.remove = remove;\r\n/**\r\n * Returns the number of elements in the specified array equal\r\n * to the specified object.\r\n * @param {Array} array the array in which to determine the frequency of the element.\r\n * @param {Object} item the element whose frequency is to be determined.\r\n * @param {function(Object,Object):boolean=} equalsFunction optional function used to\r\n * check equality between 2 elements.\r\n * @return {number} the number of elements in the specified array\r\n * equal to the specified object.\r\n */\r\nfunction frequency(array, item, equalsFunction) {\r\n    var equals = equalsFunction || util.defaultEquals;\r\n    var length = array.length;\r\n    var freq = 0;\r\n    for (var i = 0; i < length; i++) {\r\n        if (equals(array[i], item)) {\r\n            freq++;\r\n        }\r\n    }\r\n    return freq;\r\n}\r\nexports.frequency = frequency;\r\n/**\r\n * Returns true if the two specified arrays are equal to one another.\r\n * Two arrays are considered equal if both arrays contain the same number\r\n * of elements, and all corresponding pairs of elements in the two\r\n * arrays are equal and are in the same order.\r\n * @param {Array} array1 one array to be tested for equality.\r\n * @param {Array} array2 the other array to be tested for equality.\r\n * @param {function(Object,Object):boolean=} equalsFunction optional function used to\r\n * check equality between elemements in the arrays.\r\n * @return {boolean} true if the two arrays are equal\r\n */\r\nfunction equals(array1, array2, equalsFunction) {\r\n    var equals = equalsFunction || util.defaultEquals;\r\n    if (array1.length !== array2.length) {\r\n        return false;\r\n    }\r\n    var length = array1.length;\r\n    for (var i = 0; i < length; i++) {\r\n        if (!equals(array1[i], array2[i])) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\nexports.equals = equals;\r\n/**\r\n * Returns shallow a copy of the specified array.\r\n * @param {*} array the array to copy.\r\n * @return {Array} a copy of the specified array\r\n */\r\nfunction copy(array) {\r\n    return array.concat();\r\n}\r\nexports.copy = copy;\r\n/**\r\n * Swaps the elements at the specified positions in the specified array.\r\n * @param {Array} array The array in which to swap elements.\r\n * @param {number} i the index of one element to be swapped.\r\n * @param {number} j the index of the other element to be swapped.\r\n * @return {boolean} true if the array is defined and the indexes are valid.\r\n */\r\nfunction swap(array, i, j) {\r\n    if (i < 0 || i >= array.length || j < 0 || j >= array.length) {\r\n        return false;\r\n    }\r\n    var temp = array[i];\r\n    array[i] = array[j];\r\n    array[j] = temp;\r\n    return true;\r\n}\r\nexports.swap = swap;\r\nfunction toString(array) {\r\n    return '[' + array.toString() + ']';\r\n}\r\nexports.toString = toString;\r\n/**\r\n * Executes the provided function once for each element present in this array\r\n * starting from index 0 to length - 1.\r\n * @param {Array} array The array in which to iterate.\r\n * @param {function(Object):*} callback function to execute, it is\r\n * invoked with one argument: the element value, to break the iteration you can\r\n * optionally return false.\r\n */\r\nfunction forEach(array, callback) {\r\n    for (var _i = 0, array_1 = array; _i < array_1.length; _i++) {\r\n        var ele = array_1[_i];\r\n        if (callback(ele) === false) {\r\n            return;\r\n        }\r\n    }\r\n}\r\nexports.forEach = forEach;\r\n//# sourceMappingURL=arrays.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/typescript-collections/dist/lib/arrays.js\n ** module id = 6\n ** module chunks = 0\n **/","\"use strict\";\r\nvar _hasOwnProperty = Object.prototype.hasOwnProperty;\r\nexports.has = function (obj, prop) {\r\n    return _hasOwnProperty.call(obj, prop);\r\n};\r\n/**\r\n * Default function to compare element order.\r\n * @function\r\n */\r\nfunction defaultCompare(a, b) {\r\n    if (a < b) {\r\n        return -1;\r\n    }\r\n    else if (a === b) {\r\n        return 0;\r\n    }\r\n    else {\r\n        return 1;\r\n    }\r\n}\r\nexports.defaultCompare = defaultCompare;\r\n/**\r\n * Default function to test equality.\r\n * @function\r\n */\r\nfunction defaultEquals(a, b) {\r\n    return a === b;\r\n}\r\nexports.defaultEquals = defaultEquals;\r\n/**\r\n * Default function to convert an object to a string.\r\n * @function\r\n */\r\nfunction defaultToString(item) {\r\n    if (item === null) {\r\n        return 'COLLECTION_NULL';\r\n    }\r\n    else if (isUndefined(item)) {\r\n        return 'COLLECTION_UNDEFINED';\r\n    }\r\n    else if (isString(item)) {\r\n        return '$s' + item;\r\n    }\r\n    else {\r\n        return '$o' + item.toString();\r\n    }\r\n}\r\nexports.defaultToString = defaultToString;\r\n/**\r\n* Joins all the properies of the object using the provided join string\r\n*/\r\nfunction makeString(item, join) {\r\n    if (join === void 0) { join = ','; }\r\n    if (item === null) {\r\n        return 'COLLECTION_NULL';\r\n    }\r\n    else if (isUndefined(item)) {\r\n        return 'COLLECTION_UNDEFINED';\r\n    }\r\n    else if (isString(item)) {\r\n        return item.toString();\r\n    }\r\n    else {\r\n        var toret = '{';\r\n        var first = true;\r\n        for (var prop in item) {\r\n            if (exports.has(item, prop)) {\r\n                if (first) {\r\n                    first = false;\r\n                }\r\n                else {\r\n                    toret = toret + join;\r\n                }\r\n                toret = toret + prop + ':' + item[prop];\r\n            }\r\n        }\r\n        return toret + '}';\r\n    }\r\n}\r\nexports.makeString = makeString;\r\n/**\r\n * Checks if the given argument is a function.\r\n * @function\r\n */\r\nfunction isFunction(func) {\r\n    return (typeof func) === 'function';\r\n}\r\nexports.isFunction = isFunction;\r\n/**\r\n * Checks if the given argument is undefined.\r\n * @function\r\n */\r\nfunction isUndefined(obj) {\r\n    return (typeof obj) === 'undefined';\r\n}\r\nexports.isUndefined = isUndefined;\r\n/**\r\n * Checks if the given argument is a string.\r\n * @function\r\n */\r\nfunction isString(obj) {\r\n    return Object.prototype.toString.call(obj) === '[object String]';\r\n}\r\nexports.isString = isString;\r\n/**\r\n * Reverses a compare function.\r\n * @function\r\n */\r\nfunction reverseCompareFunction(compareFunction) {\r\n    if (!isFunction(compareFunction)) {\r\n        return function (a, b) {\r\n            if (a < b) {\r\n                return 1;\r\n            }\r\n            else if (a === b) {\r\n                return 0;\r\n            }\r\n            else {\r\n                return -1;\r\n            }\r\n        };\r\n    }\r\n    else {\r\n        return function (d, v) {\r\n            return compareFunction(d, v) * -1;\r\n        };\r\n    }\r\n}\r\nexports.reverseCompareFunction = reverseCompareFunction;\r\n/**\r\n * Returns an equal function given a compare function.\r\n * @function\r\n */\r\nfunction compareToEquals(compareFunction) {\r\n    return function (a, b) {\r\n        return compareFunction(a, b) === 0;\r\n    };\r\n}\r\nexports.compareToEquals = compareToEquals;\r\n//# sourceMappingURL=util.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/typescript-collections/dist/lib/util.js\n ** module id = 7\n ** module chunks = 0\n **/","\"use strict\";\r\nvar util = require('./util');\r\nvar Dictionary_1 = require('./Dictionary');\r\nvar Set_1 = require('./Set');\r\nvar Bag = (function () {\r\n    /**\r\n     * Creates an empty bag.\r\n     * @class <p>A bag is a special kind of set in which members are\r\n     * allowed to appear more than once.</p>\r\n     * <p>If the inserted elements are custom objects a function\r\n     * which converts elements to unique strings must be provided. Example:</p>\r\n     *\r\n     * <pre>\r\n     * function petToString(pet) {\r\n     *  return pet.name;\r\n     * }\r\n     * </pre>\r\n     *\r\n     * @constructor\r\n     * @param {function(Object):string=} toStrFunction optional function used\r\n     * to convert elements to strings. If the elements aren't strings or if toString()\r\n     * is not appropriate, a custom function which receives an object and returns a\r\n     * unique string must be provided.\r\n     */\r\n    function Bag(toStrFunction) {\r\n        this.toStrF = toStrFunction || util.defaultToString;\r\n        this.dictionary = new Dictionary_1.default(this.toStrF);\r\n        this.nElements = 0;\r\n    }\r\n    /**\r\n    * Adds nCopies of the specified object to this bag.\r\n    * @param {Object} element element to add.\r\n    * @param {number=} nCopies the number of copies to add, if this argument is\r\n    * undefined 1 copy is added.\r\n    * @return {boolean} true unless element is undefined.\r\n    */\r\n    Bag.prototype.add = function (element, nCopies) {\r\n        if (nCopies === void 0) { nCopies = 1; }\r\n        if (util.isUndefined(element) || nCopies <= 0) {\r\n            return false;\r\n        }\r\n        if (!this.contains(element)) {\r\n            var node = {\r\n                value: element,\r\n                copies: nCopies\r\n            };\r\n            this.dictionary.setValue(element, node);\r\n        }\r\n        else {\r\n            this.dictionary.getValue(element).copies += nCopies;\r\n        }\r\n        this.nElements += nCopies;\r\n        return true;\r\n    };\r\n    /**\r\n    * Counts the number of copies of the specified object in this bag.\r\n    * @param {Object} element the object to search for..\r\n    * @return {number} the number of copies of the object, 0 if not found\r\n    */\r\n    Bag.prototype.count = function (element) {\r\n        if (!this.contains(element)) {\r\n            return 0;\r\n        }\r\n        else {\r\n            return this.dictionary.getValue(element).copies;\r\n        }\r\n    };\r\n    /**\r\n     * Returns true if this bag contains the specified element.\r\n     * @param {Object} element element to search for.\r\n     * @return {boolean} true if this bag contains the specified element,\r\n     * false otherwise.\r\n     */\r\n    Bag.prototype.contains = function (element) {\r\n        return this.dictionary.containsKey(element);\r\n    };\r\n    /**\r\n    * Removes nCopies of the specified object to this bag.\r\n    * If the number of copies to remove is greater than the actual number\r\n    * of copies in the Bag, all copies are removed.\r\n    * @param {Object} element element to remove.\r\n    * @param {number=} nCopies the number of copies to remove, if this argument is\r\n    * undefined 1 copy is removed.\r\n    * @return {boolean} true if at least 1 element was removed.\r\n    */\r\n    Bag.prototype.remove = function (element, nCopies) {\r\n        if (nCopies === void 0) { nCopies = 1; }\r\n        if (util.isUndefined(element) || nCopies <= 0) {\r\n            return false;\r\n        }\r\n        if (!this.contains(element)) {\r\n            return false;\r\n        }\r\n        else {\r\n            var node = this.dictionary.getValue(element);\r\n            if (nCopies > node.copies) {\r\n                this.nElements -= node.copies;\r\n            }\r\n            else {\r\n                this.nElements -= nCopies;\r\n            }\r\n            node.copies -= nCopies;\r\n            if (node.copies <= 0) {\r\n                this.dictionary.remove(element);\r\n            }\r\n            return true;\r\n        }\r\n    };\r\n    /**\r\n     * Returns an array containing all of the elements in this big in arbitrary order,\r\n     * including multiple copies.\r\n     * @return {Array} an array containing all of the elements in this bag.\r\n     */\r\n    Bag.prototype.toArray = function () {\r\n        var a = [];\r\n        var values = this.dictionary.values();\r\n        for (var _i = 0, values_1 = values; _i < values_1.length; _i++) {\r\n            var node = values_1[_i];\r\n            var element = node.value;\r\n            var copies = node.copies;\r\n            for (var j = 0; j < copies; j++) {\r\n                a.push(element);\r\n            }\r\n        }\r\n        return a;\r\n    };\r\n    /**\r\n     * Returns a set of unique elements in this bag.\r\n     * @return {collections.Set<T>} a set of unique elements in this bag.\r\n     */\r\n    Bag.prototype.toSet = function () {\r\n        var toret = new Set_1.default(this.toStrF);\r\n        var elements = this.dictionary.values();\r\n        for (var _i = 0, elements_1 = elements; _i < elements_1.length; _i++) {\r\n            var ele = elements_1[_i];\r\n            var value = ele.value;\r\n            toret.add(value);\r\n        }\r\n        return toret;\r\n    };\r\n    /**\r\n     * Executes the provided function once for each element\r\n     * present in this bag, including multiple copies.\r\n     * @param {function(Object):*} callback function to execute, it is\r\n     * invoked with one argument: the element. To break the iteration you can\r\n     * optionally return false.\r\n     */\r\n    Bag.prototype.forEach = function (callback) {\r\n        this.dictionary.forEach(function (k, v) {\r\n            var value = v.value;\r\n            var copies = v.copies;\r\n            for (var i = 0; i < copies; i++) {\r\n                if (callback(value) === false) {\r\n                    return false;\r\n                }\r\n            }\r\n            return true;\r\n        });\r\n    };\r\n    /**\r\n     * Returns the number of elements in this bag.\r\n     * @return {number} the number of elements in this bag.\r\n     */\r\n    Bag.prototype.size = function () {\r\n        return this.nElements;\r\n    };\r\n    /**\r\n     * Returns true if this bag contains no elements.\r\n     * @return {boolean} true if this bag contains no elements.\r\n     */\r\n    Bag.prototype.isEmpty = function () {\r\n        return this.nElements === 0;\r\n    };\r\n    /**\r\n     * Removes all of the elements from this bag.\r\n     */\r\n    Bag.prototype.clear = function () {\r\n        this.nElements = 0;\r\n        this.dictionary.clear();\r\n    };\r\n    return Bag;\r\n}());\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.default = Bag; // End of bag\r\n//# sourceMappingURL=Bag.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/typescript-collections/dist/lib/Bag.js\n ** module id = 8\n ** module chunks = 0\n **/","\"use strict\";\r\nvar util = require('./util');\r\nvar Dictionary = (function () {\r\n    /**\r\n     * Creates an empty dictionary.\r\n     * @class <p>Dictionaries map keys to values; each key can map to at most one value.\r\n     * This implementation accepts any kind of objects as keys.</p>\r\n     *\r\n     * <p>If the keys are custom objects a function which converts keys to unique\r\n     * strings must be provided. Example:</p>\r\n     * <pre>\r\n     * function petToString(pet) {\r\n     *  return pet.name;\r\n     * }\r\n     * </pre>\r\n     * @constructor\r\n     * @param {function(Object):string=} toStrFunction optional function used\r\n     * to convert keys to strings. If the keys aren't strings or if toString()\r\n     * is not appropriate, a custom function which receives a key and returns a\r\n     * unique string must be provided.\r\n     */\r\n    function Dictionary(toStrFunction) {\r\n        this.table = {};\r\n        this.nElements = 0;\r\n        this.toStr = toStrFunction || util.defaultToString;\r\n    }\r\n    /**\r\n     * Returns the value to which this dictionary maps the specified key.\r\n     * Returns undefined if this dictionary contains no mapping for this key.\r\n     * @param {Object} key key whose associated value is to be returned.\r\n     * @return {*} the value to which this dictionary maps the specified key or\r\n     * undefined if the map contains no mapping for this key.\r\n     */\r\n    Dictionary.prototype.getValue = function (key) {\r\n        var pair = this.table['$' + this.toStr(key)];\r\n        if (util.isUndefined(pair)) {\r\n            return undefined;\r\n        }\r\n        return pair.value;\r\n    };\r\n    /**\r\n     * Associates the specified value with the specified key in this dictionary.\r\n     * If the dictionary previously contained a mapping for this key, the old\r\n     * value is replaced by the specified value.\r\n     * @param {Object} key key with which the specified value is to be\r\n     * associated.\r\n     * @param {Object} value value to be associated with the specified key.\r\n     * @return {*} previous value associated with the specified key, or undefined if\r\n     * there was no mapping for the key or if the key/value are undefined.\r\n     */\r\n    Dictionary.prototype.setValue = function (key, value) {\r\n        if (util.isUndefined(key) || util.isUndefined(value)) {\r\n            return undefined;\r\n        }\r\n        var ret;\r\n        var k = '$' + this.toStr(key);\r\n        var previousElement = this.table[k];\r\n        if (util.isUndefined(previousElement)) {\r\n            this.nElements++;\r\n            ret = undefined;\r\n        }\r\n        else {\r\n            ret = previousElement.value;\r\n        }\r\n        this.table[k] = {\r\n            key: key,\r\n            value: value\r\n        };\r\n        return ret;\r\n    };\r\n    /**\r\n     * Removes the mapping for this key from this dictionary if it is present.\r\n     * @param {Object} key key whose mapping is to be removed from the\r\n     * dictionary.\r\n     * @return {*} previous value associated with specified key, or undefined if\r\n     * there was no mapping for key.\r\n     */\r\n    Dictionary.prototype.remove = function (key) {\r\n        var k = '$' + this.toStr(key);\r\n        var previousElement = this.table[k];\r\n        if (!util.isUndefined(previousElement)) {\r\n            delete this.table[k];\r\n            this.nElements--;\r\n            return previousElement.value;\r\n        }\r\n        return undefined;\r\n    };\r\n    /**\r\n     * Returns an array containing all of the keys in this dictionary.\r\n     * @return {Array} an array containing all of the keys in this dictionary.\r\n     */\r\n    Dictionary.prototype.keys = function () {\r\n        var array = [];\r\n        for (var name_1 in this.table) {\r\n            if (util.has(this.table, name_1)) {\r\n                var pair = this.table[name_1];\r\n                array.push(pair.key);\r\n            }\r\n        }\r\n        return array;\r\n    };\r\n    /**\r\n     * Returns an array containing all of the values in this dictionary.\r\n     * @return {Array} an array containing all of the values in this dictionary.\r\n     */\r\n    Dictionary.prototype.values = function () {\r\n        var array = [];\r\n        for (var name_2 in this.table) {\r\n            if (util.has(this.table, name_2)) {\r\n                var pair = this.table[name_2];\r\n                array.push(pair.value);\r\n            }\r\n        }\r\n        return array;\r\n    };\r\n    /**\r\n    * Executes the provided function once for each key-value pair\r\n    * present in this dictionary.\r\n    * @param {function(Object,Object):*} callback function to execute, it is\r\n    * invoked with two arguments: key and value. To break the iteration you can\r\n    * optionally return false.\r\n    */\r\n    Dictionary.prototype.forEach = function (callback) {\r\n        for (var name_3 in this.table) {\r\n            if (util.has(this.table, name_3)) {\r\n                var pair = this.table[name_3];\r\n                var ret = callback(pair.key, pair.value);\r\n                if (ret === false) {\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Returns true if this dictionary contains a mapping for the specified key.\r\n     * @param {Object} key key whose presence in this dictionary is to be\r\n     * tested.\r\n     * @return {boolean} true if this dictionary contains a mapping for the\r\n     * specified key.\r\n     */\r\n    Dictionary.prototype.containsKey = function (key) {\r\n        return !util.isUndefined(this.getValue(key));\r\n    };\r\n    /**\r\n    * Removes all mappings from this dictionary.\r\n    * @this {collections.Dictionary}\r\n    */\r\n    Dictionary.prototype.clear = function () {\r\n        this.table = {};\r\n        this.nElements = 0;\r\n    };\r\n    /**\r\n     * Returns the number of keys in this dictionary.\r\n     * @return {number} the number of key-value mappings in this dictionary.\r\n     */\r\n    Dictionary.prototype.size = function () {\r\n        return this.nElements;\r\n    };\r\n    /**\r\n     * Returns true if this dictionary contains no mappings.\r\n     * @return {boolean} true if this dictionary contains no mappings.\r\n     */\r\n    Dictionary.prototype.isEmpty = function () {\r\n        return this.nElements <= 0;\r\n    };\r\n    Dictionary.prototype.toString = function () {\r\n        var toret = '{';\r\n        this.forEach(function (k, v) {\r\n            toret += \"\\n\\t\" + k + \" : \" + v;\r\n        });\r\n        return toret + '\\n}';\r\n    };\r\n    return Dictionary;\r\n}());\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.default = Dictionary; // End of dictionary\r\n//# sourceMappingURL=Dictionary.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/typescript-collections/dist/lib/Dictionary.js\n ** module id = 9\n ** module chunks = 0\n **/","\"use strict\";\r\nvar util = require('./util');\r\nvar arrays = require('./arrays');\r\nvar Dictionary_1 = require('./Dictionary');\r\nvar Set = (function () {\r\n    /**\r\n     * Creates an empty set.\r\n     * @class <p>A set is a data structure that contains no duplicate items.</p>\r\n     * <p>If the inserted elements are custom objects a function\r\n     * which converts elements to strings must be provided. Example:</p>\r\n     *\r\n     * <pre>\r\n     * function petToString(pet) {\r\n     *  return pet.name;\r\n     * }\r\n     * </pre>\r\n     *\r\n     * @constructor\r\n     * @param {function(Object):string=} toStringFunction optional function used\r\n     * to convert elements to strings. If the elements aren't strings or if toString()\r\n     * is not appropriate, a custom function which receives a onject and returns a\r\n     * unique string must be provided.\r\n     */\r\n    function Set(toStringFunction) {\r\n        this.dictionary = new Dictionary_1.default(toStringFunction);\r\n    }\r\n    /**\r\n     * Returns true if this set contains the specified element.\r\n     * @param {Object} element element to search for.\r\n     * @return {boolean} true if this set contains the specified element,\r\n     * false otherwise.\r\n     */\r\n    Set.prototype.contains = function (element) {\r\n        return this.dictionary.containsKey(element);\r\n    };\r\n    /**\r\n     * Adds the specified element to this set if it is not already present.\r\n     * @param {Object} element the element to insert.\r\n     * @return {boolean} true if this set did not already contain the specified element.\r\n     */\r\n    Set.prototype.add = function (element) {\r\n        if (this.contains(element) || util.isUndefined(element)) {\r\n            return false;\r\n        }\r\n        else {\r\n            this.dictionary.setValue(element, element);\r\n            return true;\r\n        }\r\n    };\r\n    /**\r\n     * Performs an intersecion between this an another set.\r\n     * Removes all values that are not present this set and the given set.\r\n     * @param {collections.Set} otherSet other set.\r\n     */\r\n    Set.prototype.intersection = function (otherSet) {\r\n        var set = this;\r\n        this.forEach(function (element) {\r\n            if (!otherSet.contains(element)) {\r\n                set.remove(element);\r\n            }\r\n            return true;\r\n        });\r\n    };\r\n    /**\r\n     * Performs a union between this an another set.\r\n     * Adds all values from the given set to this set.\r\n     * @param {collections.Set} otherSet other set.\r\n     */\r\n    Set.prototype.union = function (otherSet) {\r\n        var set = this;\r\n        otherSet.forEach(function (element) {\r\n            set.add(element);\r\n            return true;\r\n        });\r\n    };\r\n    /**\r\n     * Performs a difference between this an another set.\r\n     * Removes from this set all the values that are present in the given set.\r\n     * @param {collections.Set} otherSet other set.\r\n     */\r\n    Set.prototype.difference = function (otherSet) {\r\n        var set = this;\r\n        otherSet.forEach(function (element) {\r\n            set.remove(element);\r\n            return true;\r\n        });\r\n    };\r\n    /**\r\n     * Checks whether the given set contains all the elements in this set.\r\n     * @param {collections.Set} otherSet other set.\r\n     * @return {boolean} true if this set is a subset of the given set.\r\n     */\r\n    Set.prototype.isSubsetOf = function (otherSet) {\r\n        if (this.size() > otherSet.size()) {\r\n            return false;\r\n        }\r\n        var isSub = true;\r\n        this.forEach(function (element) {\r\n            if (!otherSet.contains(element)) {\r\n                isSub = false;\r\n                return false;\r\n            }\r\n            return true;\r\n        });\r\n        return isSub;\r\n    };\r\n    /**\r\n     * Removes the specified element from this set if it is present.\r\n     * @return {boolean} true if this set contained the specified element.\r\n     */\r\n    Set.prototype.remove = function (element) {\r\n        if (!this.contains(element)) {\r\n            return false;\r\n        }\r\n        else {\r\n            this.dictionary.remove(element);\r\n            return true;\r\n        }\r\n    };\r\n    /**\r\n     * Executes the provided function once for each element\r\n     * present in this set.\r\n     * @param {function(Object):*} callback function to execute, it is\r\n     * invoked with one arguments: the element. To break the iteration you can\r\n     * optionally return false.\r\n     */\r\n    Set.prototype.forEach = function (callback) {\r\n        this.dictionary.forEach(function (k, v) {\r\n            return callback(v);\r\n        });\r\n    };\r\n    /**\r\n     * Returns an array containing all of the elements in this set in arbitrary order.\r\n     * @return {Array} an array containing all of the elements in this set.\r\n     */\r\n    Set.prototype.toArray = function () {\r\n        return this.dictionary.values();\r\n    };\r\n    /**\r\n     * Returns true if this set contains no elements.\r\n     * @return {boolean} true if this set contains no elements.\r\n     */\r\n    Set.prototype.isEmpty = function () {\r\n        return this.dictionary.isEmpty();\r\n    };\r\n    /**\r\n     * Returns the number of elements in this set.\r\n     * @return {number} the number of elements in this set.\r\n     */\r\n    Set.prototype.size = function () {\r\n        return this.dictionary.size();\r\n    };\r\n    /**\r\n     * Removes all of the elements from this set.\r\n     */\r\n    Set.prototype.clear = function () {\r\n        this.dictionary.clear();\r\n    };\r\n    /*\r\n    * Provides a string representation for display\r\n    */\r\n    Set.prototype.toString = function () {\r\n        return arrays.toString(this.toArray());\r\n    };\r\n    return Set;\r\n}());\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.default = Set; // end of Set\r\n//# sourceMappingURL=Set.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/typescript-collections/dist/lib/Set.js\n ** module id = 10\n ** module chunks = 0\n **/","\"use strict\";\r\nvar util = require('./util');\r\nvar Queue_1 = require('./Queue');\r\nvar BSTree = (function () {\r\n    /**\r\n     * Creates an empty binary search tree.\r\n     * @class <p>A binary search tree is a binary tree in which each\r\n     * internal node stores an element such that the elements stored in the\r\n     * left subtree are less than it and the elements\r\n     * stored in the right subtree are greater.</p>\r\n     * <p>Formally, a binary search tree is a node-based binary tree data structure which\r\n     * has the following properties:</p>\r\n     * <ul>\r\n     * <li>The left subtree of a node contains only nodes with elements less\r\n     * than the node's element</li>\r\n     * <li>The right subtree of a node contains only nodes with elements greater\r\n     * than the node's element</li>\r\n     * <li>Both the left and right subtrees must also be binary search trees.</li>\r\n     * </ul>\r\n     * <p>If the inserted elements are custom objects a compare function must\r\n     * be provided at construction time, otherwise the <=, === and >= operators are\r\n     * used to compare elements. Example:</p>\r\n     * <pre>\r\n     * function compare(a, b) {\r\n     *  if (a is less than b by some ordering criterion) {\r\n     *     return -1;\r\n     *  } if (a is greater than b by the ordering criterion) {\r\n     *     return 1;\r\n     *  }\r\n     *  // a must be equal to b\r\n     *  return 0;\r\n     * }\r\n     * </pre>\r\n     * @constructor\r\n     * @param {function(Object,Object):number=} compareFunction optional\r\n     * function used to compare two elements. Must return a negative integer,\r\n     * zero, or a positive integer as the first argument is less than, equal to,\r\n     * or greater than the second.\r\n     */\r\n    function BSTree(compareFunction) {\r\n        this.root = null;\r\n        this.compare = compareFunction || util.defaultCompare;\r\n        this.nElements = 0;\r\n    }\r\n    /**\r\n     * Adds the specified element to this tree if it is not already present.\r\n     * @param {Object} element the element to insert.\r\n     * @return {boolean} true if this tree did not already contain the specified element.\r\n     */\r\n    BSTree.prototype.add = function (element) {\r\n        if (util.isUndefined(element)) {\r\n            return false;\r\n        }\r\n        if (this.insertNode(this.createNode(element)) !== null) {\r\n            this.nElements++;\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    /**\r\n     * Removes all of the elements from this tree.\r\n     */\r\n    BSTree.prototype.clear = function () {\r\n        this.root = null;\r\n        this.nElements = 0;\r\n    };\r\n    /**\r\n     * Returns true if this tree contains no elements.\r\n     * @return {boolean} true if this tree contains no elements.\r\n     */\r\n    BSTree.prototype.isEmpty = function () {\r\n        return this.nElements === 0;\r\n    };\r\n    /**\r\n     * Returns the number of elements in this tree.\r\n     * @return {number} the number of elements in this tree.\r\n     */\r\n    BSTree.prototype.size = function () {\r\n        return this.nElements;\r\n    };\r\n    /**\r\n     * Returns true if this tree contains the specified element.\r\n     * @param {Object} element element to search for.\r\n     * @return {boolean} true if this tree contains the specified element,\r\n     * false otherwise.\r\n     */\r\n    BSTree.prototype.contains = function (element) {\r\n        if (util.isUndefined(element)) {\r\n            return false;\r\n        }\r\n        return this.searchNode(this.root, element) !== null;\r\n    };\r\n    /**\r\n     * Removes the specified element from this tree if it is present.\r\n     * @return {boolean} true if this tree contained the specified element.\r\n     */\r\n    BSTree.prototype.remove = function (element) {\r\n        var node = this.searchNode(this.root, element);\r\n        if (node === null) {\r\n            return false;\r\n        }\r\n        this.removeNode(node);\r\n        this.nElements--;\r\n        return true;\r\n    };\r\n    /**\r\n     * Executes the provided function once for each element present in this tree in\r\n     * in-order.\r\n     * @param {function(Object):*} callback function to execute, it is invoked with one\r\n     * argument: the element value, to break the iteration you can optionally return false.\r\n     */\r\n    BSTree.prototype.inorderTraversal = function (callback) {\r\n        this.inorderTraversalAux(this.root, callback, {\r\n            stop: false\r\n        });\r\n    };\r\n    /**\r\n     * Executes the provided function once for each element present in this tree in pre-order.\r\n     * @param {function(Object):*} callback function to execute, it is invoked with one\r\n     * argument: the element value, to break the iteration you can optionally return false.\r\n     */\r\n    BSTree.prototype.preorderTraversal = function (callback) {\r\n        this.preorderTraversalAux(this.root, callback, {\r\n            stop: false\r\n        });\r\n    };\r\n    /**\r\n     * Executes the provided function once for each element present in this tree in post-order.\r\n     * @param {function(Object):*} callback function to execute, it is invoked with one\r\n     * argument: the element value, to break the iteration you can optionally return false.\r\n     */\r\n    BSTree.prototype.postorderTraversal = function (callback) {\r\n        this.postorderTraversalAux(this.root, callback, {\r\n            stop: false\r\n        });\r\n    };\r\n    /**\r\n     * Executes the provided function once for each element present in this tree in\r\n     * level-order.\r\n     * @param {function(Object):*} callback function to execute, it is invoked with one\r\n     * argument: the element value, to break the iteration you can optionally return false.\r\n     */\r\n    BSTree.prototype.levelTraversal = function (callback) {\r\n        this.levelTraversalAux(this.root, callback);\r\n    };\r\n    /**\r\n     * Returns the minimum element of this tree.\r\n     * @return {*} the minimum element of this tree or undefined if this tree is\r\n     * is empty.\r\n     */\r\n    BSTree.prototype.minimum = function () {\r\n        if (this.isEmpty()) {\r\n            return undefined;\r\n        }\r\n        return this.minimumAux(this.root).element;\r\n    };\r\n    /**\r\n     * Returns the maximum element of this tree.\r\n     * @return {*} the maximum element of this tree or undefined if this tree is\r\n     * is empty.\r\n     */\r\n    BSTree.prototype.maximum = function () {\r\n        if (this.isEmpty()) {\r\n            return undefined;\r\n        }\r\n        return this.maximumAux(this.root).element;\r\n    };\r\n    /**\r\n     * Executes the provided function once for each element present in this tree in inorder.\r\n     * Equivalent to inorderTraversal.\r\n     * @param {function(Object):*} callback function to execute, it is\r\n     * invoked with one argument: the element value, to break the iteration you can\r\n     * optionally return false.\r\n     */\r\n    BSTree.prototype.forEach = function (callback) {\r\n        this.inorderTraversal(callback);\r\n    };\r\n    /**\r\n     * Returns an array containing all of the elements in this tree in in-order.\r\n     * @return {Array} an array containing all of the elements in this tree in in-order.\r\n     */\r\n    BSTree.prototype.toArray = function () {\r\n        var array = [];\r\n        this.inorderTraversal(function (element) {\r\n            array.push(element);\r\n            return true;\r\n        });\r\n        return array;\r\n    };\r\n    /**\r\n     * Returns the height of this tree.\r\n     * @return {number} the height of this tree or -1 if is empty.\r\n     */\r\n    BSTree.prototype.height = function () {\r\n        return this.heightAux(this.root);\r\n    };\r\n    /**\r\n    * @private\r\n    */\r\n    BSTree.prototype.searchNode = function (node, element) {\r\n        var cmp = null;\r\n        while (node !== null && cmp !== 0) {\r\n            cmp = this.compare(element, node.element);\r\n            if (cmp < 0) {\r\n                node = node.leftCh;\r\n            }\r\n            else if (cmp > 0) {\r\n                node = node.rightCh;\r\n            }\r\n        }\r\n        return node;\r\n    };\r\n    /**\r\n    * @private\r\n    */\r\n    BSTree.prototype.transplant = function (n1, n2) {\r\n        if (n1.parent === null) {\r\n            this.root = n2;\r\n        }\r\n        else if (n1 === n1.parent.leftCh) {\r\n            n1.parent.leftCh = n2;\r\n        }\r\n        else {\r\n            n1.parent.rightCh = n2;\r\n        }\r\n        if (n2 !== null) {\r\n            n2.parent = n1.parent;\r\n        }\r\n    };\r\n    /**\r\n    * @private\r\n    */\r\n    BSTree.prototype.removeNode = function (node) {\r\n        if (node.leftCh === null) {\r\n            this.transplant(node, node.rightCh);\r\n        }\r\n        else if (node.rightCh === null) {\r\n            this.transplant(node, node.leftCh);\r\n        }\r\n        else {\r\n            var y = this.minimumAux(node.rightCh);\r\n            if (y.parent !== node) {\r\n                this.transplant(y, y.rightCh);\r\n                y.rightCh = node.rightCh;\r\n                y.rightCh.parent = y;\r\n            }\r\n            this.transplant(node, y);\r\n            y.leftCh = node.leftCh;\r\n            y.leftCh.parent = y;\r\n        }\r\n    };\r\n    /**\r\n    * @private\r\n    */\r\n    BSTree.prototype.inorderTraversalAux = function (node, callback, signal) {\r\n        if (node === null || signal.stop) {\r\n            return;\r\n        }\r\n        this.inorderTraversalAux(node.leftCh, callback, signal);\r\n        if (signal.stop) {\r\n            return;\r\n        }\r\n        signal.stop = callback(node.element) === false;\r\n        if (signal.stop) {\r\n            return;\r\n        }\r\n        this.inorderTraversalAux(node.rightCh, callback, signal);\r\n    };\r\n    /**\r\n    * @private\r\n    */\r\n    BSTree.prototype.levelTraversalAux = function (node, callback) {\r\n        var queue = new Queue_1.default();\r\n        if (node !== null) {\r\n            queue.enqueue(node);\r\n        }\r\n        while (!queue.isEmpty()) {\r\n            node = queue.dequeue();\r\n            if (callback(node.element) === false) {\r\n                return;\r\n            }\r\n            if (node.leftCh !== null) {\r\n                queue.enqueue(node.leftCh);\r\n            }\r\n            if (node.rightCh !== null) {\r\n                queue.enqueue(node.rightCh);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n    * @private\r\n    */\r\n    BSTree.prototype.preorderTraversalAux = function (node, callback, signal) {\r\n        if (node === null || signal.stop) {\r\n            return;\r\n        }\r\n        signal.stop = callback(node.element) === false;\r\n        if (signal.stop) {\r\n            return;\r\n        }\r\n        this.preorderTraversalAux(node.leftCh, callback, signal);\r\n        if (signal.stop) {\r\n            return;\r\n        }\r\n        this.preorderTraversalAux(node.rightCh, callback, signal);\r\n    };\r\n    /**\r\n    * @private\r\n    */\r\n    BSTree.prototype.postorderTraversalAux = function (node, callback, signal) {\r\n        if (node === null || signal.stop) {\r\n            return;\r\n        }\r\n        this.postorderTraversalAux(node.leftCh, callback, signal);\r\n        if (signal.stop) {\r\n            return;\r\n        }\r\n        this.postorderTraversalAux(node.rightCh, callback, signal);\r\n        if (signal.stop) {\r\n            return;\r\n        }\r\n        signal.stop = callback(node.element) === false;\r\n    };\r\n    /**\r\n    * @private\r\n    */\r\n    BSTree.prototype.minimumAux = function (node) {\r\n        while (node.leftCh !== null) {\r\n            node = node.leftCh;\r\n        }\r\n        return node;\r\n    };\r\n    /**\r\n    * @private\r\n    */\r\n    BSTree.prototype.maximumAux = function (node) {\r\n        while (node.rightCh !== null) {\r\n            node = node.rightCh;\r\n        }\r\n        return node;\r\n    };\r\n    /**\r\n      * @private\r\n      */\r\n    BSTree.prototype.heightAux = function (node) {\r\n        if (node === null) {\r\n            return -1;\r\n        }\r\n        return Math.max(this.heightAux(node.leftCh), this.heightAux(node.rightCh)) + 1;\r\n    };\r\n    /*\r\n    * @private\r\n    */\r\n    BSTree.prototype.insertNode = function (node) {\r\n        var parent = null;\r\n        var position = this.root;\r\n        var cmp = null;\r\n        while (position !== null) {\r\n            cmp = this.compare(node.element, position.element);\r\n            if (cmp === 0) {\r\n                return null;\r\n            }\r\n            else if (cmp < 0) {\r\n                parent = position;\r\n                position = position.leftCh;\r\n            }\r\n            else {\r\n                parent = position;\r\n                position = position.rightCh;\r\n            }\r\n        }\r\n        node.parent = parent;\r\n        if (parent === null) {\r\n            // tree is empty\r\n            this.root = node;\r\n        }\r\n        else if (this.compare(node.element, parent.element) < 0) {\r\n            parent.leftCh = node;\r\n        }\r\n        else {\r\n            parent.rightCh = node;\r\n        }\r\n        return node;\r\n    };\r\n    /**\r\n    * @private\r\n    */\r\n    BSTree.prototype.createNode = function (element) {\r\n        return {\r\n            element: element,\r\n            leftCh: null,\r\n            rightCh: null,\r\n            parent: null\r\n        };\r\n    };\r\n    return BSTree;\r\n}());\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.default = BSTree;\r\n//# sourceMappingURL=BSTree.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/typescript-collections/dist/lib/BSTree.js\n ** module id = 11\n ** module chunks = 0\n **/","\"use strict\";\r\nvar LinkedList_1 = require('./LinkedList');\r\nvar Queue = (function () {\r\n    /**\r\n     * Creates an empty queue.\r\n     * @class A queue is a First-In-First-Out (FIFO) data structure, the first\r\n     * element added to the queue will be the first one to be removed. This\r\n     * implementation uses a linked list as a container.\r\n     * @constructor\r\n     */\r\n    function Queue() {\r\n        this.list = new LinkedList_1.default();\r\n    }\r\n    /**\r\n     * Inserts the specified element into the end of this queue.\r\n     * @param {Object} elem the element to insert.\r\n     * @return {boolean} true if the element was inserted, or false if it is undefined.\r\n     */\r\n    Queue.prototype.enqueue = function (elem) {\r\n        return this.list.add(elem);\r\n    };\r\n    /**\r\n     * Inserts the specified element into the end of this queue.\r\n     * @param {Object} elem the element to insert.\r\n     * @return {boolean} true if the element was inserted, or false if it is undefined.\r\n     */\r\n    Queue.prototype.add = function (elem) {\r\n        return this.list.add(elem);\r\n    };\r\n    /**\r\n     * Retrieves and removes the head of this queue.\r\n     * @return {*} the head of this queue, or undefined if this queue is empty.\r\n     */\r\n    Queue.prototype.dequeue = function () {\r\n        if (this.list.size() !== 0) {\r\n            var el = this.list.first();\r\n            this.list.removeElementAtIndex(0);\r\n            return el;\r\n        }\r\n        return undefined;\r\n    };\r\n    /**\r\n     * Retrieves, but does not remove, the head of this queue.\r\n     * @return {*} the head of this queue, or undefined if this queue is empty.\r\n     */\r\n    Queue.prototype.peek = function () {\r\n        if (this.list.size() !== 0) {\r\n            return this.list.first();\r\n        }\r\n        return undefined;\r\n    };\r\n    /**\r\n     * Returns the number of elements in this queue.\r\n     * @return {number} the number of elements in this queue.\r\n     */\r\n    Queue.prototype.size = function () {\r\n        return this.list.size();\r\n    };\r\n    /**\r\n     * Returns true if this queue contains the specified element.\r\n     * <p>If the elements inside this stack are\r\n     * not comparable with the === operator, a custom equals function should be\r\n     * provided to perform searches, the function must receive two arguments and\r\n     * return true if they are equal, false otherwise. Example:</p>\r\n     *\r\n     * <pre>\r\n     * const petsAreEqualByName (pet1, pet2) {\r\n     *  return pet1.name === pet2.name;\r\n     * }\r\n     * </pre>\r\n     * @param {Object} elem element to search for.\r\n     * @param {function(Object,Object):boolean=} equalsFunction optional\r\n     * function to check if two elements are equal.\r\n     * @return {boolean} true if this queue contains the specified element,\r\n     * false otherwise.\r\n     */\r\n    Queue.prototype.contains = function (elem, equalsFunction) {\r\n        return this.list.contains(elem, equalsFunction);\r\n    };\r\n    /**\r\n     * Checks if this queue is empty.\r\n     * @return {boolean} true if and only if this queue contains no items; false\r\n     * otherwise.\r\n     */\r\n    Queue.prototype.isEmpty = function () {\r\n        return this.list.size() <= 0;\r\n    };\r\n    /**\r\n     * Removes all of the elements from this queue.\r\n     */\r\n    Queue.prototype.clear = function () {\r\n        this.list.clear();\r\n    };\r\n    /**\r\n     * Executes the provided function once for each element present in this queue in\r\n     * FIFO order.\r\n     * @param {function(Object):*} callback function to execute, it is\r\n     * invoked with one argument: the element value, to break the iteration you can\r\n     * optionally return false.\r\n     */\r\n    Queue.prototype.forEach = function (callback) {\r\n        this.list.forEach(callback);\r\n    };\r\n    return Queue;\r\n}());\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.default = Queue; // End of queue\r\n//# sourceMappingURL=Queue.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/typescript-collections/dist/lib/Queue.js\n ** module id = 12\n ** module chunks = 0\n **/","\"use strict\";\r\nvar util = require('./util');\r\nvar arrays = require('./arrays');\r\nvar LinkedList = (function () {\r\n    /**\r\n    * Creates an empty Linked List.\r\n    * @class A linked list is a data structure consisting of a group of nodes\r\n    * which together represent a sequence.\r\n    * @constructor\r\n    */\r\n    function LinkedList() {\r\n        /**\r\n        * First node in the list\r\n        * @type {Object}\r\n        * @private\r\n        */\r\n        this.firstNode = null;\r\n        /**\r\n        * Last node in the list\r\n        * @type {Object}\r\n        * @private\r\n        */\r\n        this.lastNode = null;\r\n        /**\r\n        * Number of elements in the list\r\n        * @type {number}\r\n        * @private\r\n        */\r\n        this.nElements = 0;\r\n    }\r\n    /**\r\n    * Adds an element to this list.\r\n    * @param {Object} item element to be added.\r\n    * @param {number=} index optional index to add the element. If no index is specified\r\n    * the element is added to the end of this list.\r\n    * @return {boolean} true if the element was added or false if the index is invalid\r\n    * or if the element is undefined.\r\n    */\r\n    LinkedList.prototype.add = function (item, index) {\r\n        if (util.isUndefined(index)) {\r\n            index = this.nElements;\r\n        }\r\n        if (index < 0 || index > this.nElements || util.isUndefined(item)) {\r\n            return false;\r\n        }\r\n        var newNode = this.createNode(item);\r\n        if (this.nElements === 0) {\r\n            // First node in the list.\r\n            this.firstNode = newNode;\r\n            this.lastNode = newNode;\r\n        }\r\n        else if (index === this.nElements) {\r\n            // Insert at the end.\r\n            this.lastNode.next = newNode;\r\n            this.lastNode = newNode;\r\n        }\r\n        else if (index === 0) {\r\n            // Change first node.\r\n            newNode.next = this.firstNode;\r\n            this.firstNode = newNode;\r\n        }\r\n        else {\r\n            var prev = this.nodeAtIndex(index - 1);\r\n            newNode.next = prev.next;\r\n            prev.next = newNode;\r\n        }\r\n        this.nElements++;\r\n        return true;\r\n    };\r\n    /**\r\n    * Returns the first element in this list.\r\n    * @return {*} the first element of the list or undefined if the list is\r\n    * empty.\r\n    */\r\n    LinkedList.prototype.first = function () {\r\n        if (this.firstNode !== null) {\r\n            return this.firstNode.element;\r\n        }\r\n        return undefined;\r\n    };\r\n    /**\r\n    * Returns the last element in this list.\r\n    * @return {*} the last element in the list or undefined if the list is\r\n    * empty.\r\n    */\r\n    LinkedList.prototype.last = function () {\r\n        if (this.lastNode !== null) {\r\n            return this.lastNode.element;\r\n        }\r\n        return undefined;\r\n    };\r\n    /**\r\n     * Returns the element at the specified position in this list.\r\n     * @param {number} index desired index.\r\n     * @return {*} the element at the given index or undefined if the index is\r\n     * out of bounds.\r\n     */\r\n    LinkedList.prototype.elementAtIndex = function (index) {\r\n        var node = this.nodeAtIndex(index);\r\n        if (node === null) {\r\n            return undefined;\r\n        }\r\n        return node.element;\r\n    };\r\n    /**\r\n     * Returns the index in this list of the first occurrence of the\r\n     * specified element, or -1 if the List does not contain this element.\r\n     * <p>If the elements inside this list are\r\n     * not comparable with the === operator a custom equals function should be\r\n     * provided to perform searches, the function must receive two arguments and\r\n     * return true if they are equal, false otherwise. Example:</p>\r\n     *\r\n     * <pre>\r\n     * const petsAreEqualByName = function(pet1, pet2) {\r\n     *  return pet1.name === pet2.name;\r\n     * }\r\n     * </pre>\r\n     * @param {Object} item element to search for.\r\n     * @param {function(Object,Object):boolean=} equalsFunction Optional\r\n     * function used to check if two elements are equal.\r\n     * @return {number} the index in this list of the first occurrence\r\n     * of the specified element, or -1 if this list does not contain the\r\n     * element.\r\n     */\r\n    LinkedList.prototype.indexOf = function (item, equalsFunction) {\r\n        var equalsF = equalsFunction || util.defaultEquals;\r\n        if (util.isUndefined(item)) {\r\n            return -1;\r\n        }\r\n        var currentNode = this.firstNode;\r\n        var index = 0;\r\n        while (currentNode !== null) {\r\n            if (equalsF(currentNode.element, item)) {\r\n                return index;\r\n            }\r\n            index++;\r\n            currentNode = currentNode.next;\r\n        }\r\n        return -1;\r\n    };\r\n    /**\r\n       * Returns true if this list contains the specified element.\r\n       * <p>If the elements inside the list are\r\n       * not comparable with the === operator a custom equals function should be\r\n       * provided to perform searches, the function must receive two arguments and\r\n       * return true if they are equal, false otherwise. Example:</p>\r\n       *\r\n       * <pre>\r\n       * const petsAreEqualByName = function(pet1, pet2) {\r\n       *  return pet1.name === pet2.name;\r\n       * }\r\n       * </pre>\r\n       * @param {Object} item element to search for.\r\n       * @param {function(Object,Object):boolean=} equalsFunction Optional\r\n       * function used to check if two elements are equal.\r\n       * @return {boolean} true if this list contains the specified element, false\r\n       * otherwise.\r\n       */\r\n    LinkedList.prototype.contains = function (item, equalsFunction) {\r\n        return (this.indexOf(item, equalsFunction) >= 0);\r\n    };\r\n    /**\r\n     * Removes the first occurrence of the specified element in this list.\r\n     * <p>If the elements inside the list are\r\n     * not comparable with the === operator a custom equals function should be\r\n     * provided to perform searches, the function must receive two arguments and\r\n     * return true if they are equal, false otherwise. Example:</p>\r\n     *\r\n     * <pre>\r\n     * const petsAreEqualByName = function(pet1, pet2) {\r\n     *  return pet1.name === pet2.name;\r\n     * }\r\n     * </pre>\r\n     * @param {Object} item element to be removed from this list, if present.\r\n     * @return {boolean} true if the list contained the specified element.\r\n     */\r\n    LinkedList.prototype.remove = function (item, equalsFunction) {\r\n        var equalsF = equalsFunction || util.defaultEquals;\r\n        if (this.nElements < 1 || util.isUndefined(item)) {\r\n            return false;\r\n        }\r\n        var previous = null;\r\n        var currentNode = this.firstNode;\r\n        while (currentNode !== null) {\r\n            if (equalsF(currentNode.element, item)) {\r\n                if (currentNode === this.firstNode) {\r\n                    this.firstNode = this.firstNode.next;\r\n                    if (currentNode === this.lastNode) {\r\n                        this.lastNode = null;\r\n                    }\r\n                }\r\n                else if (currentNode === this.lastNode) {\r\n                    this.lastNode = previous;\r\n                    previous.next = currentNode.next;\r\n                    currentNode.next = null;\r\n                }\r\n                else {\r\n                    previous.next = currentNode.next;\r\n                    currentNode.next = null;\r\n                }\r\n                this.nElements--;\r\n                return true;\r\n            }\r\n            previous = currentNode;\r\n            currentNode = currentNode.next;\r\n        }\r\n        return false;\r\n    };\r\n    /**\r\n     * Removes all of the elements from this list.\r\n     */\r\n    LinkedList.prototype.clear = function () {\r\n        this.firstNode = null;\r\n        this.lastNode = null;\r\n        this.nElements = 0;\r\n    };\r\n    /**\r\n     * Returns true if this list is equal to the given list.\r\n     * Two lists are equal if they have the same elements in the same order.\r\n     * @param {LinkedList} other the other list.\r\n     * @param {function(Object,Object):boolean=} equalsFunction optional\r\n     * function used to check if two elements are equal. If the elements in the lists\r\n     * are custom objects you should provide a function, otherwise\r\n     * the === operator is used to check equality between elements.\r\n     * @return {boolean} true if this list is equal to the given list.\r\n     */\r\n    LinkedList.prototype.equals = function (other, equalsFunction) {\r\n        var eqF = equalsFunction || util.defaultEquals;\r\n        if (!(other instanceof LinkedList)) {\r\n            return false;\r\n        }\r\n        if (this.size() !== other.size()) {\r\n            return false;\r\n        }\r\n        return this.equalsAux(this.firstNode, other.firstNode, eqF);\r\n    };\r\n    /**\r\n    * @private\r\n    */\r\n    LinkedList.prototype.equalsAux = function (n1, n2, eqF) {\r\n        while (n1 !== null) {\r\n            if (!eqF(n1.element, n2.element)) {\r\n                return false;\r\n            }\r\n            n1 = n1.next;\r\n            n2 = n2.next;\r\n        }\r\n        return true;\r\n    };\r\n    /**\r\n     * Removes the element at the specified position in this list.\r\n     * @param {number} index given index.\r\n     * @return {*} removed element or undefined if the index is out of bounds.\r\n     */\r\n    LinkedList.prototype.removeElementAtIndex = function (index) {\r\n        if (index < 0 || index >= this.nElements) {\r\n            return undefined;\r\n        }\r\n        var element;\r\n        if (this.nElements === 1) {\r\n            //First node in the list.\r\n            element = this.firstNode.element;\r\n            this.firstNode = null;\r\n            this.lastNode = null;\r\n        }\r\n        else {\r\n            var previous = this.nodeAtIndex(index - 1);\r\n            if (previous === null) {\r\n                element = this.firstNode.element;\r\n                this.firstNode = this.firstNode.next;\r\n            }\r\n            else if (previous.next === this.lastNode) {\r\n                element = this.lastNode.element;\r\n                this.lastNode = previous;\r\n            }\r\n            if (previous !== null) {\r\n                element = previous.next.element;\r\n                previous.next = previous.next.next;\r\n            }\r\n        }\r\n        this.nElements--;\r\n        return element;\r\n    };\r\n    /**\r\n     * Executes the provided function once for each element present in this list in order.\r\n     * @param {function(Object):*} callback function to execute, it is\r\n     * invoked with one argument: the element value, to break the iteration you can\r\n     * optionally return false.\r\n     */\r\n    LinkedList.prototype.forEach = function (callback) {\r\n        var currentNode = this.firstNode;\r\n        while (currentNode !== null) {\r\n            if (callback(currentNode.element) === false) {\r\n                break;\r\n            }\r\n            currentNode = currentNode.next;\r\n        }\r\n    };\r\n    /**\r\n     * Reverses the order of the elements in this linked list (makes the last\r\n     * element first, and the first element last).\r\n     */\r\n    LinkedList.prototype.reverse = function () {\r\n        var previous = null;\r\n        var current = this.firstNode;\r\n        var temp = null;\r\n        while (current !== null) {\r\n            temp = current.next;\r\n            current.next = previous;\r\n            previous = current;\r\n            current = temp;\r\n        }\r\n        temp = this.firstNode;\r\n        this.firstNode = this.lastNode;\r\n        this.lastNode = temp;\r\n    };\r\n    /**\r\n     * Returns an array containing all of the elements in this list in proper\r\n     * sequence.\r\n     * @return {Array.<*>} an array containing all of the elements in this list,\r\n     * in proper sequence.\r\n     */\r\n    LinkedList.prototype.toArray = function () {\r\n        var array = [];\r\n        var currentNode = this.firstNode;\r\n        while (currentNode !== null) {\r\n            array.push(currentNode.element);\r\n            currentNode = currentNode.next;\r\n        }\r\n        return array;\r\n    };\r\n    /**\r\n     * Returns the number of elements in this list.\r\n     * @return {number} the number of elements in this list.\r\n     */\r\n    LinkedList.prototype.size = function () {\r\n        return this.nElements;\r\n    };\r\n    /**\r\n     * Returns true if this list contains no elements.\r\n     * @return {boolean} true if this list contains no elements.\r\n     */\r\n    LinkedList.prototype.isEmpty = function () {\r\n        return this.nElements <= 0;\r\n    };\r\n    LinkedList.prototype.toString = function () {\r\n        return arrays.toString(this.toArray());\r\n    };\r\n    /**\r\n     * @private\r\n     */\r\n    LinkedList.prototype.nodeAtIndex = function (index) {\r\n        if (index < 0 || index >= this.nElements) {\r\n            return null;\r\n        }\r\n        if (index === (this.nElements - 1)) {\r\n            return this.lastNode;\r\n        }\r\n        var node = this.firstNode;\r\n        for (var i = 0; i < index; i++) {\r\n            node = node.next;\r\n        }\r\n        return node;\r\n    };\r\n    /**\r\n     * @private\r\n     */\r\n    LinkedList.prototype.createNode = function (item) {\r\n        return {\r\n            element: item,\r\n            next: null\r\n        };\r\n    };\r\n    return LinkedList;\r\n}());\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.default = LinkedList; // End of linked list\r\n//# sourceMappingURL=LinkedList.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/typescript-collections/dist/lib/LinkedList.js\n ** module id = 13\n ** module chunks = 0\n **/","\"use strict\";\r\nvar collections = require('./util');\r\nvar arrays = require('./arrays');\r\nvar Heap = (function () {\r\n    /**\r\n     * Creates an empty Heap.\r\n     * @class\r\n     * <p>A heap is a binary tree, where the nodes maintain the heap property:\r\n     * each node is smaller than each of its children and therefore a MinHeap\r\n     * This implementation uses an array to store elements.</p>\r\n     * <p>If the inserted elements are custom objects a compare function must be provided,\r\n     *  at construction time, otherwise the <=, === and >= operators are\r\n     * used to compare elements. Example:</p>\r\n     *\r\n     * <pre>\r\n     * function compare(a, b) {\r\n     *  if (a is less than b by some ordering criterion) {\r\n     *     return -1;\r\n     *  } if (a is greater than b by the ordering criterion) {\r\n     *     return 1;\r\n     *  }\r\n     *  // a must be equal to b\r\n     *  return 0;\r\n     * }\r\n     * </pre>\r\n     *\r\n     * <p>If a Max-Heap is wanted (greater elements on top) you can a provide a\r\n     * reverse compare function to accomplish that behavior. Example:</p>\r\n     *\r\n     * <pre>\r\n     * function reverseCompare(a, b) {\r\n     *  if (a is less than b by some ordering criterion) {\r\n     *     return 1;\r\n     *  } if (a is greater than b by the ordering criterion) {\r\n     *     return -1;\r\n     *  }\r\n     *  // a must be equal to b\r\n     *  return 0;\r\n     * }\r\n     * </pre>\r\n     *\r\n     * @constructor\r\n     * @param {function(Object,Object):number=} compareFunction optional\r\n     * function used to compare two elements. Must return a negative integer,\r\n     * zero, or a positive integer as the first argument is less than, equal to,\r\n     * or greater than the second.\r\n     */\r\n    function Heap(compareFunction) {\r\n        /**\r\n         * Array used to store the elements od the heap.\r\n         * @type {Array.<Object>}\r\n         * @private\r\n         */\r\n        this.data = [];\r\n        this.compare = compareFunction || collections.defaultCompare;\r\n    }\r\n    /**\r\n     * Returns the index of the left child of the node at the given index.\r\n     * @param {number} nodeIndex The index of the node to get the left child\r\n     * for.\r\n     * @return {number} The index of the left child.\r\n     * @private\r\n     */\r\n    Heap.prototype.leftChildIndex = function (nodeIndex) {\r\n        return (2 * nodeIndex) + 1;\r\n    };\r\n    /**\r\n     * Returns the index of the right child of the node at the given index.\r\n     * @param {number} nodeIndex The index of the node to get the right child\r\n     * for.\r\n     * @return {number} The index of the right child.\r\n     * @private\r\n     */\r\n    Heap.prototype.rightChildIndex = function (nodeIndex) {\r\n        return (2 * nodeIndex) + 2;\r\n    };\r\n    /**\r\n     * Returns the index of the parent of the node at the given index.\r\n     * @param {number} nodeIndex The index of the node to get the parent for.\r\n     * @return {number} The index of the parent.\r\n     * @private\r\n     */\r\n    Heap.prototype.parentIndex = function (nodeIndex) {\r\n        return Math.floor((nodeIndex - 1) / 2);\r\n    };\r\n    /**\r\n     * Returns the index of the smaller child node (if it exists).\r\n     * @param {number} leftChild left child index.\r\n     * @param {number} rightChild right child index.\r\n     * @return {number} the index with the minimum value or -1 if it doesn't\r\n     * exists.\r\n     * @private\r\n     */\r\n    Heap.prototype.minIndex = function (leftChild, rightChild) {\r\n        if (rightChild >= this.data.length) {\r\n            if (leftChild >= this.data.length) {\r\n                return -1;\r\n            }\r\n            else {\r\n                return leftChild;\r\n            }\r\n        }\r\n        else {\r\n            if (this.compare(this.data[leftChild], this.data[rightChild]) <= 0) {\r\n                return leftChild;\r\n            }\r\n            else {\r\n                return rightChild;\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Moves the node at the given index up to its proper place in the heap.\r\n     * @param {number} index The index of the node to move up.\r\n     * @private\r\n     */\r\n    Heap.prototype.siftUp = function (index) {\r\n        var parent = this.parentIndex(index);\r\n        while (index > 0 && this.compare(this.data[parent], this.data[index]) > 0) {\r\n            arrays.swap(this.data, parent, index);\r\n            index = parent;\r\n            parent = this.parentIndex(index);\r\n        }\r\n    };\r\n    /**\r\n     * Moves the node at the given index down to its proper place in the heap.\r\n     * @param {number} nodeIndex The index of the node to move down.\r\n     * @private\r\n     */\r\n    Heap.prototype.siftDown = function (nodeIndex) {\r\n        //smaller child index\r\n        var min = this.minIndex(this.leftChildIndex(nodeIndex), this.rightChildIndex(nodeIndex));\r\n        while (min >= 0 && this.compare(this.data[nodeIndex], this.data[min]) > 0) {\r\n            arrays.swap(this.data, min, nodeIndex);\r\n            nodeIndex = min;\r\n            min = this.minIndex(this.leftChildIndex(nodeIndex), this.rightChildIndex(nodeIndex));\r\n        }\r\n    };\r\n    /**\r\n     * Retrieves but does not remove the root element of this heap.\r\n     * @return {*} The value at the root of the heap. Returns undefined if the\r\n     * heap is empty.\r\n     */\r\n    Heap.prototype.peek = function () {\r\n        if (this.data.length > 0) {\r\n            return this.data[0];\r\n        }\r\n        else {\r\n            return undefined;\r\n        }\r\n    };\r\n    /**\r\n     * Adds the given element into the heap.\r\n     * @param {*} element the element.\r\n     * @return true if the element was added or fals if it is undefined.\r\n     */\r\n    Heap.prototype.add = function (element) {\r\n        if (collections.isUndefined(element)) {\r\n            return undefined;\r\n        }\r\n        this.data.push(element);\r\n        this.siftUp(this.data.length - 1);\r\n        return true;\r\n    };\r\n    /**\r\n     * Retrieves and removes the root element of this heap.\r\n     * @return {*} The value removed from the root of the heap. Returns\r\n     * undefined if the heap is empty.\r\n     */\r\n    Heap.prototype.removeRoot = function () {\r\n        if (this.data.length > 0) {\r\n            var obj = this.data[0];\r\n            this.data[0] = this.data[this.data.length - 1];\r\n            this.data.splice(this.data.length - 1, 1);\r\n            if (this.data.length > 0) {\r\n                this.siftDown(0);\r\n            }\r\n            return obj;\r\n        }\r\n        return undefined;\r\n    };\r\n    /**\r\n     * Returns true if this heap contains the specified element.\r\n     * @param {Object} element element to search for.\r\n     * @return {boolean} true if this Heap contains the specified element, false\r\n     * otherwise.\r\n     */\r\n    Heap.prototype.contains = function (element) {\r\n        var equF = collections.compareToEquals(this.compare);\r\n        return arrays.contains(this.data, element, equF);\r\n    };\r\n    /**\r\n     * Returns the number of elements in this heap.\r\n     * @return {number} the number of elements in this heap.\r\n     */\r\n    Heap.prototype.size = function () {\r\n        return this.data.length;\r\n    };\r\n    /**\r\n     * Checks if this heap is empty.\r\n     * @return {boolean} true if and only if this heap contains no items; false\r\n     * otherwise.\r\n     */\r\n    Heap.prototype.isEmpty = function () {\r\n        return this.data.length <= 0;\r\n    };\r\n    /**\r\n     * Removes all of the elements from this heap.\r\n     */\r\n    Heap.prototype.clear = function () {\r\n        this.data.length = 0;\r\n    };\r\n    /**\r\n     * Executes the provided function once for each element present in this heap in\r\n     * no particular order.\r\n     * @param {function(Object):*} callback function to execute, it is\r\n     * invoked with one argument: the element value, to break the iteration you can\r\n     * optionally return false.\r\n     */\r\n    Heap.prototype.forEach = function (callback) {\r\n        arrays.forEach(this.data, callback);\r\n    };\r\n    return Heap;\r\n}());\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.default = Heap;\r\n//# sourceMappingURL=Heap.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/typescript-collections/dist/lib/Heap.js\n ** module id = 14\n ** module chunks = 0\n **/","\"use strict\";\r\nvar __extends = (this && this.__extends) || function (d, b) {\r\n    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n};\r\nvar Dictionary_1 = require('./Dictionary');\r\nvar util = require('./util');\r\n/**\r\n * This class is used by the LinkedDictionary Internally\r\n * Has to be a class, not an interface, because it needs to have\r\n * the 'unlink' function defined.\r\n */\r\nvar LinkedDictionaryPair = (function () {\r\n    function LinkedDictionaryPair(key, value) {\r\n        this.key = key;\r\n        this.value = value;\r\n    }\r\n    LinkedDictionaryPair.prototype.unlink = function () {\r\n        this.prev.next = this.next;\r\n        this.next.prev = this.prev;\r\n    };\r\n    return LinkedDictionaryPair;\r\n}());\r\nvar LinkedDictionary = (function (_super) {\r\n    __extends(LinkedDictionary, _super);\r\n    function LinkedDictionary(toStrFunction) {\r\n        _super.call(this, toStrFunction);\r\n        this.head = new LinkedDictionaryPair(null, null);\r\n        this.tail = new LinkedDictionaryPair(null, null);\r\n        this.head.next = this.tail;\r\n        this.tail.prev = this.head;\r\n    }\r\n    /**\r\n     * Inserts the new node to the 'tail' of the list, updating the\r\n     * neighbors, and moving 'this.tail' (the End of List indicator) that\r\n     * to the end.\r\n     */\r\n    LinkedDictionary.prototype.appendToTail = function (entry) {\r\n        var lastNode = this.tail.prev;\r\n        lastNode.next = entry;\r\n        entry.prev = lastNode;\r\n        entry.next = this.tail;\r\n        this.tail.prev = entry;\r\n    };\r\n    /**\r\n     * Retrieves a linked dictionary from the table internally\r\n     */\r\n    LinkedDictionary.prototype.getLinkedDictionaryPair = function (key) {\r\n        if (util.isUndefined(key)) {\r\n            return undefined;\r\n        }\r\n        var k = '$' + this.toStr(key);\r\n        var pair = (this.table[k]);\r\n        return pair;\r\n    };\r\n    /**\r\n     * Returns the value to which this dictionary maps the specified key.\r\n     * Returns undefined if this dictionary contains no mapping for this key.\r\n     * @param {Object} key key whose associated value is to be returned.\r\n     * @return {*} the value to which this dictionary maps the specified key or\r\n     * undefined if the map contains no mapping for this key.\r\n     */\r\n    LinkedDictionary.prototype.getValue = function (key) {\r\n        var pair = this.getLinkedDictionaryPair(key);\r\n        if (!util.isUndefined(pair)) {\r\n            return pair.value;\r\n        }\r\n        return undefined;\r\n    };\r\n    /**\r\n     * Removes the mapping for this key from this dictionary if it is present.\r\n     * Also, if a value is present for this key, the entry is removed from the\r\n     * insertion ordering.\r\n     * @param {Object} key key whose mapping is to be removed from the\r\n     * dictionary.\r\n     * @return {*} previous value associated with specified key, or undefined if\r\n     * there was no mapping for key.\r\n     */\r\n    LinkedDictionary.prototype.remove = function (key) {\r\n        var pair = this.getLinkedDictionaryPair(key);\r\n        if (!util.isUndefined(pair)) {\r\n            _super.prototype.remove.call(this, key); // This will remove it from the table\r\n            pair.unlink(); // This will unlink it from the chain\r\n            return pair.value;\r\n        }\r\n        return undefined;\r\n    };\r\n    /**\r\n    * Removes all mappings from this LinkedDictionary.\r\n    * @this {collections.LinkedDictionary}\r\n    */\r\n    LinkedDictionary.prototype.clear = function () {\r\n        _super.prototype.clear.call(this);\r\n        this.head.next = this.tail;\r\n        this.tail.prev = this.head;\r\n    };\r\n    /**\r\n     * Internal function used when updating an existing KeyValue pair.\r\n     * It places the new value indexed by key into the table, but maintains\r\n     * its place in the linked ordering.\r\n     */\r\n    LinkedDictionary.prototype.replace = function (oldPair, newPair) {\r\n        var k = '$' + this.toStr(newPair.key);\r\n        // set the new Pair's links to existingPair's links\r\n        newPair.next = oldPair.next;\r\n        newPair.prev = oldPair.prev;\r\n        // Delete Existing Pair from the table, unlink it from chain.\r\n        // As a result, the nElements gets decremented by this operation\r\n        this.remove(oldPair.key);\r\n        // Link new Pair in place of where oldPair was,\r\n        // by pointing the old pair's neighbors to it.\r\n        newPair.prev.next = newPair;\r\n        newPair.next.prev = newPair;\r\n        this.table[k] = newPair;\r\n        // To make up for the fact that the number of elements was decremented,\r\n        // We need to increase it by one.\r\n        ++this.nElements;\r\n    };\r\n    /**\r\n     * Associates the specified value with the specified key in this dictionary.\r\n     * If the dictionary previously contained a mapping for this key, the old\r\n     * value is replaced by the specified value.\r\n     * Updating of a key that already exists maintains its place in the\r\n     * insertion order into the map.\r\n     * @param {Object} key key with which the specified value is to be\r\n     * associated.\r\n     * @param {Object} value value to be associated with the specified key.\r\n     * @return {*} previous value associated with the specified key, or undefined if\r\n     * there was no mapping for the key or if the key/value are undefined.\r\n     */\r\n    LinkedDictionary.prototype.setValue = function (key, value) {\r\n        if (util.isUndefined(key) || util.isUndefined(value)) {\r\n            return undefined;\r\n        }\r\n        var existingPair = this.getLinkedDictionaryPair(key);\r\n        var newPair = new LinkedDictionaryPair(key, value);\r\n        var k = '$' + this.toStr(key);\r\n        // If there is already an element for that key, we\r\n        // keep it's place in the LinkedList\r\n        if (!util.isUndefined(existingPair)) {\r\n            this.replace(existingPair, newPair);\r\n            return existingPair.value;\r\n        }\r\n        else {\r\n            this.appendToTail(newPair);\r\n            this.table[k] = newPair;\r\n            ++this.nElements;\r\n            return undefined;\r\n        }\r\n    };\r\n    /**\r\n     * Returns an array containing all of the keys in this LinkedDictionary, ordered\r\n     * by insertion order.\r\n     * @return {Array} an array containing all of the keys in this LinkedDictionary,\r\n     * ordered by insertion order.\r\n     */\r\n    LinkedDictionary.prototype.keys = function () {\r\n        var array = [];\r\n        this.forEach(function (key, value) {\r\n            array.push(key);\r\n        });\r\n        return array;\r\n    };\r\n    /**\r\n     * Returns an array containing all of the values in this LinkedDictionary, ordered by\r\n     * insertion order.\r\n     * @return {Array} an array containing all of the values in this LinkedDictionary,\r\n     * ordered by insertion order.\r\n     */\r\n    LinkedDictionary.prototype.values = function () {\r\n        var array = [];\r\n        this.forEach(function (key, value) {\r\n            array.push(value);\r\n        });\r\n        return array;\r\n    };\r\n    /**\r\n    * Executes the provided function once for each key-value pair\r\n    * present in this LinkedDictionary. It is done in the order of insertion\r\n    * into the LinkedDictionary\r\n    * @param {function(Object,Object):*} callback function to execute, it is\r\n    * invoked with two arguments: key and value. To break the iteration you can\r\n    * optionally return false.\r\n    */\r\n    LinkedDictionary.prototype.forEach = function (callback) {\r\n        var crawlNode = this.head.next;\r\n        while (crawlNode.next != null) {\r\n            var ret = callback(crawlNode.key, crawlNode.value);\r\n            if (ret === false) {\r\n                return;\r\n            }\r\n            crawlNode = crawlNode.next;\r\n        }\r\n    };\r\n    return LinkedDictionary;\r\n}(Dictionary_1.default));\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.default = LinkedDictionary; // End of LinkedDictionary\r\n// /**\r\n//  * Returns true if this dictionary is equal to the given dictionary.\r\n//  * Two dictionaries are equal if they contain the same mappings.\r\n//  * @param {collections.Dictionary} other the other dictionary.\r\n//  * @param {function(Object,Object):boolean=} valuesEqualFunction optional\r\n//  * function used to check if two values are equal.\r\n//  * @return {boolean} true if this dictionary is equal to the given dictionary.\r\n//  */\r\n// collections.Dictionary.prototype.equals = function(other,valuesEqualFunction) {\r\n// \tconst eqF = valuesEqualFunction || collections.defaultEquals;\r\n// \tif(!(other instanceof collections.Dictionary)){\r\n// \t\treturn false;\r\n// \t}\r\n// \tif(this.size() !== other.size()){\r\n// \t\treturn false;\r\n// \t}\r\n// \treturn this.equalsAux(this.firstNode,other.firstNode,eqF);\r\n// }\r\n//# sourceMappingURL=LinkedDictionary.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/typescript-collections/dist/lib/LinkedDictionary.js\n ** module id = 15\n ** module chunks = 0\n **/","\"use strict\";\r\nvar util = require('./util');\r\nvar Dictionary_1 = require('./Dictionary');\r\nvar arrays = require('./arrays');\r\nvar MultiDictionary = (function () {\r\n    /**\r\n     * Creates an empty multi dictionary.\r\n     * @class <p>A multi dictionary is a special kind of dictionary that holds\r\n     * multiple values against each key. Setting a value into the dictionary will\r\n     * add the value to an array at that key. Getting a key will return an array,\r\n     * holding all the values set to that key.\r\n     * You can configure to allow duplicates in the values.\r\n     * This implementation accepts any kind of objects as keys.</p>\r\n     *\r\n     * <p>If the keys are custom objects a function which converts keys to strings must be\r\n     * provided. Example:</p>\r\n     *\r\n     * <pre>\r\n     * function petToString(pet) {\r\n       *  return pet.name;\r\n       * }\r\n     * </pre>\r\n     * <p>If the values are custom objects a function to check equality between values\r\n     * must be provided. Example:</p>\r\n     *\r\n     * <pre>\r\n     * function petsAreEqualByAge(pet1,pet2) {\r\n       *  return pet1.age===pet2.age;\r\n       * }\r\n     * </pre>\r\n     * @constructor\r\n     * @param {function(Object):string=} toStrFunction optional function\r\n     * to convert keys to strings. If the keys aren't strings or if toString()\r\n     * is not appropriate, a custom function which receives a key and returns a\r\n     * unique string must be provided.\r\n     * @param {function(Object,Object):boolean=} valuesEqualsFunction optional\r\n     * function to check if two values are equal.\r\n     *\r\n     * @param allowDuplicateValues\r\n     */\r\n    function MultiDictionary(toStrFunction, valuesEqualsFunction, allowDuplicateValues) {\r\n        if (allowDuplicateValues === void 0) { allowDuplicateValues = false; }\r\n        this.dict = new Dictionary_1.default(toStrFunction);\r\n        this.equalsF = valuesEqualsFunction || util.defaultEquals;\r\n        this.allowDuplicate = allowDuplicateValues;\r\n    }\r\n    /**\r\n    * Returns an array holding the values to which this dictionary maps\r\n    * the specified key.\r\n    * Returns an empty array if this dictionary contains no mappings for this key.\r\n    * @param {Object} key key whose associated values are to be returned.\r\n    * @return {Array} an array holding the values to which this dictionary maps\r\n    * the specified key.\r\n    */\r\n    MultiDictionary.prototype.getValue = function (key) {\r\n        var values = this.dict.getValue(key);\r\n        if (util.isUndefined(values)) {\r\n            return [];\r\n        }\r\n        return arrays.copy(values);\r\n    };\r\n    /**\r\n     * Adds the value to the array associated with the specified key, if\r\n     * it is not already present.\r\n     * @param {Object} key key with which the specified value is to be\r\n     * associated.\r\n     * @param {Object} value the value to add to the array at the key\r\n     * @return {boolean} true if the value was not already associated with that key.\r\n     */\r\n    MultiDictionary.prototype.setValue = function (key, value) {\r\n        if (util.isUndefined(key) || util.isUndefined(value)) {\r\n            return false;\r\n        }\r\n        if (!this.containsKey(key)) {\r\n            this.dict.setValue(key, [value]);\r\n            return true;\r\n        }\r\n        var array = this.dict.getValue(key);\r\n        if (!this.allowDuplicate) {\r\n            if (arrays.contains(array, value, this.equalsF)) {\r\n                return false;\r\n            }\r\n        }\r\n        array.push(value);\r\n        return true;\r\n    };\r\n    /**\r\n     * Removes the specified values from the array of values associated with the\r\n     * specified key. If a value isn't given, all values associated with the specified\r\n     * key are removed.\r\n     * @param {Object} key key whose mapping is to be removed from the\r\n     * dictionary.\r\n     * @param {Object=} value optional argument to specify the value to remove\r\n     * from the array associated with the specified key.\r\n     * @return {*} true if the dictionary changed, false if the key doesn't exist or\r\n     * if the specified value isn't associated with the specified key.\r\n     */\r\n    MultiDictionary.prototype.remove = function (key, value) {\r\n        if (util.isUndefined(value)) {\r\n            var v = this.dict.remove(key);\r\n            return !util.isUndefined(v);\r\n        }\r\n        var array = this.dict.getValue(key);\r\n        if (arrays.remove(array, value, this.equalsF)) {\r\n            if (array.length === 0) {\r\n                this.dict.remove(key);\r\n            }\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    /**\r\n     * Returns an array containing all of the keys in this dictionary.\r\n     * @return {Array} an array containing all of the keys in this dictionary.\r\n     */\r\n    MultiDictionary.prototype.keys = function () {\r\n        return this.dict.keys();\r\n    };\r\n    /**\r\n     * Returns an array containing all of the values in this dictionary.\r\n     * @return {Array} an array containing all of the values in this dictionary.\r\n     */\r\n    MultiDictionary.prototype.values = function () {\r\n        var values = this.dict.values();\r\n        var array = [];\r\n        for (var _i = 0, values_1 = values; _i < values_1.length; _i++) {\r\n            var v = values_1[_i];\r\n            for (var _a = 0, v_1 = v; _a < v_1.length; _a++) {\r\n                var w = v_1[_a];\r\n                array.push(w);\r\n            }\r\n        }\r\n        return array;\r\n    };\r\n    /**\r\n     * Returns true if this dictionary at least one value associatted the specified key.\r\n     * @param {Object} key key whose presence in this dictionary is to be\r\n     * tested.\r\n     * @return {boolean} true if this dictionary at least one value associatted\r\n     * the specified key.\r\n     */\r\n    MultiDictionary.prototype.containsKey = function (key) {\r\n        return this.dict.containsKey(key);\r\n    };\r\n    /**\r\n     * Removes all mappings from this dictionary.\r\n     */\r\n    MultiDictionary.prototype.clear = function () {\r\n        this.dict.clear();\r\n    };\r\n    /**\r\n     * Returns the number of keys in this dictionary.\r\n     * @return {number} the number of key-value mappings in this dictionary.\r\n     */\r\n    MultiDictionary.prototype.size = function () {\r\n        return this.dict.size();\r\n    };\r\n    /**\r\n     * Returns true if this dictionary contains no mappings.\r\n     * @return {boolean} true if this dictionary contains no mappings.\r\n     */\r\n    MultiDictionary.prototype.isEmpty = function () {\r\n        return this.dict.isEmpty();\r\n    };\r\n    return MultiDictionary;\r\n}());\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.default = MultiDictionary; // end of multi dictionary\r\n//# sourceMappingURL=MultiDictionary.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/typescript-collections/dist/lib/MultiDictionary.js\n ** module id = 16\n ** module chunks = 0\n **/","\"use strict\";\r\nvar util = require('./util');\r\nvar Heap_1 = require('./Heap');\r\nvar PriorityQueue = (function () {\r\n    /**\r\n     * Creates an empty priority queue.\r\n     * @class <p>In a priority queue each element is associated with a \"priority\",\r\n     * elements are dequeued in highest-priority-first order (the elements with the\r\n     * highest priority are dequeued first). Priority Queues are implemented as heaps.\r\n     * If the inserted elements are custom objects a compare function must be provided,\r\n     * otherwise the <=, === and >= operators are used to compare object priority.</p>\r\n     * <pre>\r\n     * function compare(a, b) {\r\n     *  if (a is less than b by some ordering criterion) {\r\n     *     return -1;\r\n     *  } if (a is greater than b by the ordering criterion) {\r\n     *     return 1;\r\n     *  }\r\n     *  // a must be equal to b\r\n     *  return 0;\r\n     * }\r\n     * </pre>\r\n     * @constructor\r\n     * @param {function(Object,Object):number=} compareFunction optional\r\n     * function used to compare two element priorities. Must return a negative integer,\r\n     * zero, or a positive integer as the first argument is less than, equal to,\r\n     * or greater than the second.\r\n     */\r\n    function PriorityQueue(compareFunction) {\r\n        this.heap = new Heap_1.default(util.reverseCompareFunction(compareFunction));\r\n    }\r\n    /**\r\n     * Inserts the specified element into this priority queue.\r\n     * @param {Object} element the element to insert.\r\n     * @return {boolean} true if the element was inserted, or false if it is undefined.\r\n     */\r\n    PriorityQueue.prototype.enqueue = function (element) {\r\n        return this.heap.add(element);\r\n    };\r\n    /**\r\n     * Inserts the specified element into this priority queue.\r\n     * @param {Object} element the element to insert.\r\n     * @return {boolean} true if the element was inserted, or false if it is undefined.\r\n     */\r\n    PriorityQueue.prototype.add = function (element) {\r\n        return this.heap.add(element);\r\n    };\r\n    /**\r\n     * Retrieves and removes the highest priority element of this queue.\r\n     * @return {*} the the highest priority element of this queue,\r\n     *  or undefined if this queue is empty.\r\n     */\r\n    PriorityQueue.prototype.dequeue = function () {\r\n        if (this.heap.size() !== 0) {\r\n            var el = this.heap.peek();\r\n            this.heap.removeRoot();\r\n            return el;\r\n        }\r\n        return undefined;\r\n    };\r\n    /**\r\n     * Retrieves, but does not remove, the highest priority element of this queue.\r\n     * @return {*} the highest priority element of this queue, or undefined if this queue is empty.\r\n     */\r\n    PriorityQueue.prototype.peek = function () {\r\n        return this.heap.peek();\r\n    };\r\n    /**\r\n     * Returns true if this priority queue contains the specified element.\r\n     * @param {Object} element element to search for.\r\n     * @return {boolean} true if this priority queue contains the specified element,\r\n     * false otherwise.\r\n     */\r\n    PriorityQueue.prototype.contains = function (element) {\r\n        return this.heap.contains(element);\r\n    };\r\n    /**\r\n     * Checks if this priority queue is empty.\r\n     * @return {boolean} true if and only if this priority queue contains no items; false\r\n     * otherwise.\r\n     */\r\n    PriorityQueue.prototype.isEmpty = function () {\r\n        return this.heap.isEmpty();\r\n    };\r\n    /**\r\n     * Returns the number of elements in this priority queue.\r\n     * @return {number} the number of elements in this priority queue.\r\n     */\r\n    PriorityQueue.prototype.size = function () {\r\n        return this.heap.size();\r\n    };\r\n    /**\r\n     * Removes all of the elements from this priority queue.\r\n     */\r\n    PriorityQueue.prototype.clear = function () {\r\n        this.heap.clear();\r\n    };\r\n    /**\r\n     * Executes the provided function once for each element present in this queue in\r\n     * no particular order.\r\n     * @param {function(Object):*} callback function to execute, it is\r\n     * invoked with one argument: the element value, to break the iteration you can\r\n     * optionally return false.\r\n     */\r\n    PriorityQueue.prototype.forEach = function (callback) {\r\n        this.heap.forEach(callback);\r\n    };\r\n    return PriorityQueue;\r\n}());\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.default = PriorityQueue; // end of priority queue\r\n//# sourceMappingURL=PriorityQueue.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/typescript-collections/dist/lib/PriorityQueue.js\n ** module id = 17\n ** module chunks = 0\n **/","\"use strict\";\r\nvar LinkedList_1 = require('./LinkedList');\r\nvar Stack = (function () {\r\n    /**\r\n     * Creates an empty Stack.\r\n     * @class A Stack is a Last-In-First-Out (LIFO) data structure, the last\r\n     * element added to the stack will be the first one to be removed. This\r\n     * implementation uses a linked list as a container.\r\n     * @constructor\r\n     */\r\n    function Stack() {\r\n        this.list = new LinkedList_1.default();\r\n    }\r\n    /**\r\n     * Pushes an item onto the top of this stack.\r\n     * @param {Object} elem the element to be pushed onto this stack.\r\n     * @return {boolean} true if the element was pushed or false if it is undefined.\r\n     */\r\n    Stack.prototype.push = function (elem) {\r\n        return this.list.add(elem, 0);\r\n    };\r\n    /**\r\n     * Pushes an item onto the top of this stack.\r\n     * @param {Object} elem the element to be pushed onto this stack.\r\n     * @return {boolean} true if the element was pushed or false if it is undefined.\r\n     */\r\n    Stack.prototype.add = function (elem) {\r\n        return this.list.add(elem, 0);\r\n    };\r\n    /**\r\n     * Removes the object at the top of this stack and returns that object.\r\n     * @return {*} the object at the top of this stack or undefined if the\r\n     * stack is empty.\r\n     */\r\n    Stack.prototype.pop = function () {\r\n        return this.list.removeElementAtIndex(0);\r\n    };\r\n    /**\r\n     * Looks at the object at the top of this stack without removing it from the\r\n     * stack.\r\n     * @return {*} the object at the top of this stack or undefined if the\r\n     * stack is empty.\r\n     */\r\n    Stack.prototype.peek = function () {\r\n        return this.list.first();\r\n    };\r\n    /**\r\n     * Returns the number of elements in this stack.\r\n     * @return {number} the number of elements in this stack.\r\n     */\r\n    Stack.prototype.size = function () {\r\n        return this.list.size();\r\n    };\r\n    /**\r\n     * Returns true if this stack contains the specified element.\r\n     * <p>If the elements inside this stack are\r\n     * not comparable with the === operator, a custom equals function should be\r\n     * provided to perform searches, the function must receive two arguments and\r\n     * return true if they are equal, false otherwise. Example:</p>\r\n     *\r\n     * <pre>\r\n     * const petsAreEqualByName (pet1, pet2) {\r\n     *  return pet1.name === pet2.name;\r\n     * }\r\n     * </pre>\r\n     * @param {Object} elem element to search for.\r\n     * @param {function(Object,Object):boolean=} equalsFunction optional\r\n     * function to check if two elements are equal.\r\n     * @return {boolean} true if this stack contains the specified element,\r\n     * false otherwise.\r\n     */\r\n    Stack.prototype.contains = function (elem, equalsFunction) {\r\n        return this.list.contains(elem, equalsFunction);\r\n    };\r\n    /**\r\n     * Checks if this stack is empty.\r\n     * @return {boolean} true if and only if this stack contains no items; false\r\n     * otherwise.\r\n     */\r\n    Stack.prototype.isEmpty = function () {\r\n        return this.list.isEmpty();\r\n    };\r\n    /**\r\n     * Removes all of the elements from this stack.\r\n     */\r\n    Stack.prototype.clear = function () {\r\n        this.list.clear();\r\n    };\r\n    /**\r\n     * Executes the provided function once for each element present in this stack in\r\n     * LIFO order.\r\n     * @param {function(Object):*} callback function to execute, it is\r\n     * invoked with one argument: the element value, to break the iteration you can\r\n     * optionally return false.\r\n     */\r\n    Stack.prototype.forEach = function (callback) {\r\n        this.list.forEach(callback);\r\n    };\r\n    return Stack;\r\n}());\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.default = Stack; // End of stack\r\n//# sourceMappingURL=Stack.js.map\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/typescript-collections/dist/lib/Stack.js\n ** module id = 18\n ** module chunks = 0\n **/","import { Lambda1, Lambda1_deps, Lambda1_toFunction,\r\n         Lambda2, Lambda2_deps, Lambda2_toFunction,\r\n         toSources } from \"./Lambda\";\r\nimport { Transaction, transactionally, currentTransaction } from \"./Transaction\";\r\nimport { StreamWithSend } from \"./Stream\";\r\nimport { Vertex } from \"./Vertex\";\r\n\r\nexport class CoalesceHandler<A>\r\n{\r\n\tconstructor(f : ((l : A, r : A) => A) | Lambda2<A,A,A>, out : StreamWithSend<A>)\r\n\t{\r\n\t    this.f = Lambda2_toFunction(f);\r\n\t    this.out = out;\r\n        this.out.getVertex__().sources = this.out.getVertex__().sources.concat(\r\n            toSources(Lambda2_deps(f)));\r\n        this.accumValid = false;\r\n    }\r\n\tprivate f : (l : A, r : A) => A;\r\n\tprivate out : StreamWithSend<A>;\r\n\tprivate accumValid : boolean;\r\n    private accum : A;\r\n    private verbose : boolean;\r\n    send_(a : A) {\r\n        if (this.accumValid)\r\n            this.accum = this.f(this.accum, a);\r\n        else {\r\n            currentTransaction.prioritized(this.out.getVertex__(), () => {\r\n                this.out.send_(this.accum);\r\n                this.accumValid = false;\r\n                this.accum = null;\r\n            });\r\n            this.accum = a;\r\n            this.accumValid = true;\r\n        }\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/CoalesceHandler.ts\n **/","import { Lambda1, Lambda1_deps, Lambda1_toFunction,\r\n         Lambda2, Lambda2_deps, Lambda2_toFunction,\r\n         Lambda3, Lambda3_deps, Lambda3_toFunction,\r\n         Lambda4, Lambda4_deps, Lambda4_toFunction,\r\n         Lambda5, Lambda5_deps, Lambda5_toFunction,\r\n         Lambda6, Lambda6_deps, Lambda6_toFunction,\r\n         toSources } from \"./Lambda\";\r\nimport { Source, Vertex } from \"./Vertex\";\r\nimport { Transaction, transactionally, currentTransaction } from \"./Transaction\";\r\nimport { Lazy } from \"./Lazy\";\r\nimport { Listener } from \"./Listener\";\r\nimport { Stream, StreamWithSend } from \"./Stream\";\r\nimport { Operational } from \"./Operational\";\r\n\r\nclass LazySample<A> {\r\n    constructor(cell : Cell<A>) {\r\n        this.cell = cell;\r\n    }\r\n    cell : Cell<A>;\r\n    hasValue : boolean = false;\r\n    value : A = null;\r\n}\r\n\r\nclass ApplyState<A,B> {\r\n    constructor() {}\r\n    f : (a : A) => B = null;\r\n    f_present : boolean = false;\r\n    a : A = null;\r\n    a_present : boolean = false;\r\n}\r\n\r\nexport class Cell<A> {\r\n\tprivate str : Stream<A>;\r\n\tprotected value : A;\r\n\tprotected valueUpdate : A;\r\n\tprivate cleanup : () => void;\r\n\tprotected lazyInitValue : Lazy<A>;  // Used by LazyCell\r\n\tprivate vertex : Vertex;\r\n\r\n    constructor(initValue : A, str? : Stream<A>) {\r\n        this.value = initValue;\r\n        if (!str) {\r\n            this.str = new Stream<A>();\r\n            this.vertex = new Vertex(\"ConstCell\", 0, []);\r\n        }\r\n        else\r\n            transactionally(() => this.setStream(str));\r\n    }\r\n\r\n    protected setStream(str : Stream<A>) {\r\n        this.str = str;\r\n        const me = this,\r\n              src = new Source(\r\n                str.getVertex__(),\r\n                () => {\r\n                    return str.listen_(me.vertex, (a : A) => {\r\n                        if (me.valueUpdate == null) {\r\n                            currentTransaction.last(() => {\r\n                                me.value = me.valueUpdate;\r\n                                me.lazyInitValue = null;\r\n                                me.valueUpdate = null;\r\n                            });\r\n                        }\r\n                        me.valueUpdate = a;\r\n                    }, false);\r\n                }\r\n            );\r\n        this.vertex = new Vertex(\"Cell\", 0, [src]);\r\n        // We do a trick here of registering the source for the duration of the current\r\n        // transaction so that we are guaranteed to catch any stream events that\r\n        // occur in the same transaction.\r\n        this.vertex.register(Vertex.NULL);\r\n        currentTransaction.last(() => {\r\n            this.vertex.deregister(Vertex.NULL);\r\n        });\r\n    }\r\n\r\n    getVertex__() : Vertex {\r\n        return this.vertex;\r\n    }\r\n\r\n    getStream__() : Stream<A> {  // TO DO: Figure out how to hide this\r\n        return this.str;\r\n    }\r\n\r\n    /**\r\n     * Sample the cell's current value.\r\n     * <p>\r\n     * It may be used inside the functions passed to primitives that apply them to {@link Stream}s,\r\n     * including {@link Stream#map(Lambda1)} in which case it is equivalent to snapshotting the cell,\r\n     * {@link Stream#snapshot(Cell, Lambda2)}, {@link Stream#filter(Lambda1)} and\r\n     * {@link Stream#merge(Stream, Lambda2)}.\r\n     * It should generally be avoided in favour of {@link listen(Handler)} so you don't\r\n     * miss any updates, but in many circumstances it makes sense.\r\n     */\r\n    sample() : A {\r\n        return transactionally(() => { return this.sampleNoTrans__(); });\r\n    }\r\n\r\n    sampleNoTrans__() : A {  // TO DO figure out how to hide this\r\n        return this.value;\r\n    }\r\n\r\n    /**\r\n     * A variant of {@link sample()} that works with {@link CellLoop}s when they haven't been looped yet.\r\n     * It should be used in any code that's general enough that it could be passed a {@link CellLoop}.\r\n     * @see Stream#holdLazy(Lazy) Stream.holdLazy()\r\n     */\r\n    sampleLazy() : Lazy<A> {\r\n        const me = this;\r\n        return transactionally(() => me.sampleLazyNoTrans__());\r\n    }\r\n\r\n    sampleLazyNoTrans__() : Lazy<A> {  // TO DO figure out how to hide this\r\n        const me = this,\r\n            s = new LazySample<A>(me);\r\n        currentTransaction.last(() => {\r\n            s.value = me.valueUpdate != null ? me.valueUpdate : me.sampleNoTrans__();\r\n            s.hasValue = true;\r\n            s.cell = null;\r\n        });\r\n        return new Lazy<A>(() => {\r\n            if (s.hasValue)\r\n                return s.value;\r\n            else\r\n                return s.cell.sample();\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Transform the cell's value according to the supplied function, so the returned Cell\r\n     * always reflects the value of the function applied to the input Cell's value.\r\n     * @param f Function to apply to convert the values. It must be <em>referentially transparent</em>.\r\n     */\r\n    map<B>(f : ((a : A) => B) | Lambda1<A,B>) : Cell<B> {\r\n        const c = this;\r\n        return transactionally(() =>\r\n            Operational.updates(c).map(f).holdLazy(c.sampleLazy().map(Lambda1_toFunction(f)))\r\n        );\r\n    }\r\n\r\n\t/**\r\n\t * Lift a binary function into cells, so the returned Cell always reflects the specified\r\n\t * function applied to the input cells' values.\r\n\t * @param fn Function to apply. It must be <em>referentially transparent</em>.\r\n\t */\r\n\tlift<B,C>(b : Cell<B>,\r\n\t          fn0 : ((a : A, b : B) => C) |\r\n\t                Lambda2<A,B,C>) : Cell<C> {\r\n        const fn = Lambda2_toFunction(fn0),\r\n            cf = this.map((aa : A) => (bb : B) => fn(aa, bb));\r\n        return Cell.apply(cf, b,\r\n            toSources(Lambda2_deps(fn0)));\r\n\t}\r\n\r\n\t/**\r\n\t * Lift a ternary function into cells, so the returned Cell always reflects the specified\r\n\t * function applied to the input cells' values.\r\n\t * @param fn Function to apply. It must be <em>referentially transparent</em>.\r\n\t */\r\n\tlift3<B,C,D>(b : Cell<B>, c : Cell<C>,\r\n\t             fn0 : ((a : A, b : B, c : C) => D) |\r\n\t                   Lambda3<A,B,C,D>) : Cell<D> {\r\n        const fn = Lambda3_toFunction(fn0),\r\n            mf : (aa : A) => (bb : B) => (cc : C) => D =\r\n                 (aa : A) => (bb : B) => (cc : C) => fn(aa, bb, cc),\r\n            cf = this.map(mf);\r\n        return Cell.apply(\r\n                   Cell.apply<B, (c : C) => D>(cf, b),\r\n                   c,\r\n                   toSources(Lambda3_deps(fn0)));\r\n\t}\r\n\r\n\t/**\r\n\t * Lift a quaternary function into cells, so the returned Cell always reflects the specified\r\n\t * function applied to the input cells' values.\r\n\t * @param fn Function to apply. It must be <em>referentially transparent</em>.\r\n\t */\r\n\tlift4<B,C,D,E>(b : Cell<B>, c : Cell<C>, d : Cell<D>,\r\n\t               fn0 : ((a : A, b : B, c : C, d : D) => E) |\r\n\t                     Lambda4<A,B,C,D,E>) : Cell<E> {\r\n        const fn = Lambda4_toFunction(fn0),\r\n            mf : (aa : A) => (bb : B) => (cc : C) => (dd : D) => E =\r\n                 (aa : A) => (bb : B) => (cc : C) => (dd : D) => fn(aa, bb, cc, dd),\r\n            cf = this.map(mf);\r\n        return Cell.apply(\r\n                   Cell.apply(\r\n                       Cell.apply<B, (c : C) => (d : D) => E>(cf, b),\r\n                       c),\r\n                   d,\r\n                   toSources(Lambda4_deps(fn0)));\r\n\t}\r\n\r\n\t/**\r\n\t * Lift a 5-argument function into cells, so the returned Cell always reflects the specified\r\n\t * function applied to the input cells' values.\r\n\t * @param fn Function to apply. It must be <em>referentially transparent</em>.\r\n\t */\r\n\tlift5<B,C,D,E,F>(b : Cell<B>, c : Cell<C>, d : Cell<D>, e : Cell<E>,\r\n\t                 fn0 : ((a : A, b : B, c : C, d : D, e : E) => F) |\r\n\t                       Lambda5<A,B,C,D,E,F>) : Cell<F> {\r\n        const fn = Lambda5_toFunction(fn0),\r\n            mf : (aa : A) => (bb : B) => (cc : C) => (dd : D) => (ee : E) => F =\r\n                 (aa : A) => (bb : B) => (cc : C) => (dd : D) => (ee : E) => fn(aa, bb, cc, dd, ee),\r\n            cf = this.map(mf);\r\n        return Cell.apply(\r\n                   Cell.apply(\r\n                       Cell.apply(\r\n                           Cell.apply<B, (c : C) => (d : D) => (e : E) => F>(cf, b),\r\n                           c),\r\n                       d),\r\n                   e,\r\n                   toSources(Lambda5_deps(fn0)));\r\n\t}\r\n\r\n\t/**\r\n\t * Lift a 6-argument function into cells, so the returned Cell always reflects the specified\r\n\t * function applied to the input cells' values.\r\n\t * @param fn Function to apply. It must be <em>referentially transparent</em>.\r\n\t */\r\n\tlift6<B,C,D,E,F,G>(b : Cell<B>, c : Cell<C>, d : Cell<D>, e : Cell<E>, f : Cell<F>,\r\n\t                   fn0 : ((a : A, b : B, c : C, d : D, e : E, f : F) => G) |\r\n\t                         Lambda6<A,B,C,D,E,F,G>) : Cell<G> {\r\n        const fn = Lambda6_toFunction(fn0),\r\n            mf : (aa : A) => (bb : B) => (cc : C) => (dd : D) => (ee : E) => (ff : F) => G =\r\n                 (aa : A) => (bb : B) => (cc : C) => (dd : D) => (ee : E) => (ff : F) => fn(aa, bb, cc, dd, ee, ff),\r\n            cf = this.map(mf);\r\n        return Cell.apply(\r\n                   Cell.apply(\r\n                       Cell.apply(\r\n                           Cell.apply(\r\n                               Cell.apply<B, (c : C) => (d : D) => (e : E) => (f : F) => G>(cf, b),\r\n                               c),\r\n                           d),\r\n                       e),\r\n                   f,\r\n                   toSources(Lambda6_deps(fn0)));\r\n\t}\r\n\r\n\t/**\r\n\t * Apply a value inside a cell to a function inside a cell. This is the\r\n\t * primitive for all function lifting.\r\n\t */\r\n\tstatic apply<A,B>(cf : Cell<(a : A) => B>, ca : Cell<A>, sources? : Source[]) : Cell<B> {\r\n    \treturn transactionally(() => {\r\n    \t    const state = new ApplyState<A,B>(),\r\n                out = new StreamWithSend<B>(),\r\n                cf_value = Operational.value(cf),\r\n                ca_value = Operational.value(ca),\r\n                src1 = new Source(\r\n                        cf_value.getVertex__(),\r\n                        () => {\r\n                            return cf_value.listen_(out.getVertex__(), (f : (a : A) => B) => {\r\n                                state.f = f;\r\n                                state.f_present = true;\r\n                                if (state.a_present)\r\n                                    out.send_(state.f(state.a));\r\n                            }, false);\r\n                        }\r\n                    ),\r\n                src2 = new Source(\r\n                        ca_value.getVertex__(),\r\n                        () => {\r\n                            return ca_value.listen_(out.getVertex__(), (a : A) => {\r\n                                state.a = a;\r\n                                state.a_present = true;\r\n                                if (state.f_present)\r\n                                    out.send_(state.f(state.a));\r\n                            }, false);\r\n                        }\r\n                    );\r\n            out.setVertex__(new Vertex(\"apply\", 0,\r\n                [src1, src2].concat(sources ? sources : []) \r\n            ));\r\n            return out.coalesce__((l, r) => r).holdLazy(new Lazy<B>(() =>\r\n                    cf.sampleNoTrans__()(ca.sampleNoTrans__())\r\n                ));\r\n        });\r\n\t}\r\n\r\n\t/**\r\n\t * Unwrap a cell inside another cell to give a time-varying cell implementation.\r\n\t */\r\n    static switchC<A>(cca : Cell<Cell<A>>) : Cell<A> {\r\n\t    return transactionally(() => {\r\n            const za = cca.sampleLazy().map((ba : Cell<A>) => ba.sample()),\r\n                out = new StreamWithSend<A>();\r\n            let last_ca : Cell<A> = null;\r\n            const cca_value = Operational.value(cca),\r\n                  src = new Source(\r\n                        cca_value.getVertex__(),\r\n                        () => {\r\n                            let kill2 : () => void = last_ca === null ? null :\r\n                                    Operational.value(last_ca).listen_(out.getVertex__(),\r\n                                        (a : A) => out.send_(a), false);\r\n                            const kill1 = cca_value.listen_(out.getVertex__(), (ca : Cell<A>) => {\r\n                                // Note: If any switch takes place during a transaction, then the\r\n                                // coalesce__() below will always cause a sample to be fetched\r\n                                // from the one we just switched to. So anything from the old input cell\r\n                                // that might have happened during this transaction will be suppressed.\r\n                                last_ca = ca;\r\n                                if (kill2 !== null)\r\n                                    kill2();\r\n                                kill2 = Operational.value(ca).listen_(out.getVertex__(),\r\n                                    (a : A) => out.send_(a), false);\r\n                            }, false);\r\n                            return () => { kill1(); kill2(); }; \r\n                        }\r\n                    );\r\n            out.setVertex__(new Vertex(\"switchC\", 0, [src]));\r\n            return out.coalesce__((l, r) => r).holdLazy(za);\r\n        });\r\n\t}\r\n\r\n\t/**\r\n\t * Unwrap a stream inside a cell to give a time-varying stream implementation.\r\n\t */\r\n\tstatic switchS<A>(csa : Cell<Stream<A>>) : Stream<A> {\r\n\t    return transactionally(() => {\r\n            const out = new StreamWithSend<A>(),\r\n                  h2 = (a : A) => {\r\n                          out.send_(a);\r\n                      },\r\n                  src = new Source(\r\n                      csa.getVertex__(),\r\n                      () => {\r\n                          let kill2 = csa.sampleNoTrans__().listen_(out.getVertex__(), h2, false);\r\n                          const kill1 = csa.getStream__().listen_(out.getVertex__(), (sa : Stream<A>) => {\r\n                              kill2();\r\n                              kill2 = sa.listen_(out.getVertex__(), h2, true);\r\n                          }, false);\r\n                          return () => { kill1(); kill2(); }; \r\n                      }\r\n                  );\r\n\t        out.setVertex__(new Vertex(\"switchS\", 0, [src]));\r\n\t        return out;\r\n\t    });\r\n    }\r\n\r\n\t/**\r\n\t * Listen for updates to the value of this cell. This is the observer pattern. The\r\n\t * returned {@link Listener} has a {@link Listener#unlisten()} method to cause the\r\n\t * listener to be removed. This is an OPERATIONAL mechanism is for interfacing between\r\n\t * the world of I/O and for FRP.\r\n\t * @param h The handler to execute when there's a new value.\r\n\t *   You should make no assumptions about what thread you are called on, and the\r\n\t *   handler should not block. You are not allowed to use {@link CellSink#send(Object)}\r\n\t *   or {@link StreamSink#send(Object)} in the handler.\r\n\t *   An exception will be thrown, because you are not meant to use this to create\r\n\t *   your own primitives.\r\n     */\r\n    listen(h : (a : A) => void) : () => void {\r\n        return transactionally(() => {\r\n            return Operational.value(this).listen(h);\r\n        });\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/Cell.ts\n **/","/**\r\n * A representation for a value that may not be available until the current\r\n * transaction is closed.\r\n */\r\nexport class Lazy<A> {\r\n    constructor(f : () => A) {\r\n        this.f = f;\r\n    }\r\n\r\n    private f : () => A;\r\n\r\n    /**\r\n     * Get the value if available, throwing an exception if not.\r\n     * In the general case this should only be used in subsequent transactions to\r\n     * when the Lazy was obtained.\r\n     */\r\n    get() : A {\r\n        return this.f();\r\n    }\r\n\r\n    /**\r\n     * Map the lazy value according to the specified function, so the returned Lazy reflects\r\n     * the value of the function applied to the input Lazy's value.\r\n     * @param f Function to apply to the contained value. It must be <em>referentially transparent</em>.\r\n     */\r\n    map<B>(f : (a : A) => B) {\r\n        return new Lazy<B>(() => { return f(this.f()); });\r\n    }\r\n\r\n\t/**\r\n\t * Lift a binary function into lazy values, so the returned Lazy reflects\r\n     * the value of the function applied to the input Lazys' values.\r\n\t */\r\n    lift<B,C>(b : Lazy<B>, f : (a : A, b : B) => C) : Lazy<C> {\r\n        return new Lazy<C>(() => { return f(this.f(), b.f()); });\r\n    }\r\n\r\n\t/**\r\n\t * Lift a ternary function into lazy values, so the returned Lazy reflects\r\n     * the value of the function applied to the input Lazys' values.\r\n\t */\r\n    lift3<B,C,D>(b : Lazy<B>, c : Lazy<C>, f : (a : A, b : B, c : C) => D) : Lazy<D> {\r\n        return new Lazy<D>(() => { return f(this.f(), b.f(), c.f()); });\r\n    }\r\n\r\n\t/**\r\n\t * Lift a quaternary function into lazy values, so the returned Lazy reflects\r\n     * the value of the function applied to the input Lazys' values.\r\n\t */\r\n    lift4<B,C,D,E>(b : Lazy<B>, c : Lazy<C>, d : Lazy<D>, f : (a : A, b : B, c : C, d : D) => E) : Lazy<E> {\r\n        return new Lazy<E>(() => { return f(this.f(), b.f(), c.f(), d.f()); });\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/Lazy.ts\n **/","import { Stream, StreamWithSend } from \"./Stream\";\r\nimport { Cell } from \"./Cell\";\r\nimport { transactionally, currentTransaction } from \"./Transaction\";\r\nimport { Unit } from \"./Unit\";\r\nimport { Source, Vertex } from \"./Vertex\";\r\n\r\nexport class Operational {\r\n    /**\r\n     * A stream that gives the updates/steps for a {@link Cell}.\r\n     * <P>\r\n     * This is an OPERATIONAL primitive, which is not part of the main Sodium\r\n     * API. It breaks the property of non-detectability of cell steps/updates.\r\n     * The rule with this primitive is that you should only use it in functions\r\n     * that do not allow the caller to detect the cell updates.\r\n     */\r\n    static updates<A>(c : Cell<A>) : Stream<A> {\r\n        /*  Don't think this is needed\r\n        const out = new StreamWithSend<A>(null);\r\n        out.setVertex__(new Vertex(\"updates\", 0, [\r\n                new Source(\r\n                    c.getStream__().getVertex__(),\r\n                    () => {\r\n                        return c.getStream__().listen_(out.getVertex__(), (a : A) => {\r\n                            out.send_(a);\r\n                        }, false);\r\n                    }\r\n                ),\r\n                new Source(\r\n                    c.getVertex__(),\r\n                    () => {\r\n                        return () => { };\r\n                    }\r\n                )\r\n            ]\r\n        ));\r\n        return out;\r\n        */\r\n        return c.getStream__();\r\n    }\r\n\r\n    /**\r\n     * A stream that is guaranteed to fire once in the transaction where value() is invoked, giving\r\n     * the current value of the cell, and thereafter behaves like {@link updates(Cell)},\r\n     * firing for each update/step of the cell's value.\r\n     * <P>\r\n     * This is an OPERATIONAL primitive, which is not part of the main Sodium\r\n     * API. It breaks the property of non-detectability of cell steps/updates.\r\n     * The rule with this primitive is that you should only use it in functions\r\n     * that do not allow the caller to detect the cell updates.\r\n     */\r\n    static value<A>(c : Cell<A>) : Stream<A> {\r\n        return transactionally(() => {\r\n            const sSpark = new StreamWithSend<Unit>();\r\n            currentTransaction.prioritized(sSpark.getVertex__(), () => {\r\n                sSpark.send_(Unit.UNIT);\r\n            });\r\n            const sInitial = sSpark.snapshot1(c);\r\n            return Operational.updates(c).orElse(sInitial);\r\n        });\r\n    }\r\n\r\n\t/**\r\n\t * Push each event onto a new transaction guaranteed to come before the next externally\r\n\t * initiated transaction. Same as {@link split(Stream)} but it works on a single value.\r\n\t */\r\n\tstatic defer<A>(s : Stream<A>) : Stream<A> {\r\n\t    return Operational.split<A>(s.map((a : A) => {\r\n\t        return [a];\r\n\t    }));\r\n    }\r\n\r\n\t/**\r\n\t * Push each event in the list onto a newly created transaction guaranteed\r\n\t * to come before the next externally initiated transaction. Note that the semantics\r\n\t * are such that two different invocations of split() can put events into the same\r\n\t * new transaction, so the resulting stream's events could be simultaneous with\r\n\t * events output by split() or {@link defer(Stream)} invoked elsewhere in the code.\r\n\t */\r\n\tstatic split<A>(s : Stream<Array<A>>) : Stream<A> {\r\n\t    const out = new StreamWithSend<A>(null);\r\n        out.setVertex__(new Vertex(\"split\", 0, [\r\n                new Source(\r\n                    s.getVertex__(),\r\n                    () => {\r\n                        return s.listen_(out.getVertex__(), (as : Array<A>) => {\r\n                            for (let i = 0; i < as.length; i++) {\r\n                                currentTransaction.post(i, () => {\r\n                                    transactionally(() => {\r\n                                        out.send_(as[i]);\r\n                                    });\r\n                                });\r\n                            }\r\n                        }, false);\r\n                    }\r\n                )\r\n            ]\r\n        ));\r\n        return out;\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/Operational.ts\n **/","export class Unit {\r\n    static UNIT : Unit = new Unit();\r\n    constructor() {}\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/Unit.ts\n **/","import { Source, Vertex } from \"./Vertex\";\r\n\r\nexport class Listener<A> {\r\n    constructor(h : (a : A) => void, target : Vertex) {\r\n        this.h = h;\r\n        this.target = target;\r\n    }\r\n    h : (a : A) => void;\r\n    target : Vertex;\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/Listener.ts\n **/","import { Lazy } from \"./Lazy\";\r\nimport { Cell } from \"./Cell\";\r\nimport { Stream } from \"./Stream\";\r\nimport { transactionally } from \"./Transaction\";\r\n\r\nexport class LazyCell<A> extends Cell<A> {\r\n    constructor(lazyInitValue : Lazy<A>, str? : Stream<A>) {\r\n        super(null, null);\r\n        transactionally(() => {\r\n            if (str)\r\n                this.setStream(str);\r\n            this.lazyInitValue = lazyInitValue;\r\n        });\r\n    }\r\n\r\n    sampleNoTrans__() : A {  // Override\r\n        if (this.value == null && this.lazyInitValue != null) {\r\n            this.value = this.lazyInitValue.get();\r\n            this.lazyInitValue = null;\r\n        }\r\n        return this.value;\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/LazyCell.ts\n **/","import { Lambda1, Lambda1_deps, Lambda1_toFunction,\r\n         Lambda2, Lambda2_deps, Lambda2_toFunction } from \"./Lambda\";\r\nimport { StreamWithSend } from \"./Stream\";\r\nimport { CoalesceHandler } from \"./CoalesceHandler\";\r\nimport { transactionally, currentTransaction } from \"./Transaction\";\r\n\r\n/**\r\n * A stream that allows values to be pushed into it, acting as an interface between the\r\n * world of I/O and the world of FRP. Code that exports StreamSinks for read-only use\r\n * should downcast to {@link Stream}.\r\n */\r\nexport class StreamSink<A> extends StreamWithSend<A> {\r\n    constructor(f? : ((l : A, r : A) => A) | Lambda2<A, A, A>) {\r\n        super();\r\n        if (!f)\r\n            f = <(l : A, r : A) => A>((l : A, r : A) => {\r\n                throw new Error(\"send() called more than once per transaction, which isn't allowed. Did you want to combine the events? Then pass a combining function to your StreamSink constructor.\");\r\n            });\r\n        this.coalescer = new CoalesceHandler<A>(f, this);\r\n    }\r\n\r\n    private coalescer : CoalesceHandler<A>;\r\n\r\n    send(a : A) : void {\r\n        transactionally<void>(\r\n            () => {\r\n                if (currentTransaction.inCallback > 0)\r\n                    throw new Error(\"You are not allowed to use send() inside a Sodium callback\");\r\n                this.coalescer.send_(a);\r\n            }\r\n        )\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/StreamSink.ts\n **/","import { Cell } from \"./Cell\";\r\nimport { Lazy } from \"./Lazy\";\r\nimport { LazyCell } from \"./LazyCell\";\r\nimport { transactionally } from \"./Transaction\";\r\nimport { StreamLoop } from \"./Stream\";\r\n\r\n/**\r\n * A forward reference for a {@link Cell} equivalent to the Cell that is referenced. \r\n */\r\nexport class CellLoop<A> extends LazyCell<A> {\r\n    constructor() {\r\n    \tsuper(null, new StreamLoop<A>());\r\n    }\r\n\r\n    /**\r\n     * Resolve the loop to specify what the CellLoop was a forward reference to. It\r\n     * must be invoked inside the same transaction as the place where the CellLoop is used.\r\n     * This requires you to create an explicit transaction with {@link Transaction#run(Lambda0)}\r\n     * or {@link Transaction#runVoid(Runnable)}.\r\n     */\r\n    loop(a_out : Cell<A>) : void {\r\n        const me = this;\r\n        transactionally(() => {\r\n            (<StreamLoop<A>>me.getStream__()).loop(a_out.getStream__());\r\n            me.lazyInitValue = a_out.sampleLazy();\r\n        });\r\n    }\r\n\r\n    sampleNoTrans__() : A\r\n    {\r\n        if (!(<StreamLoop<A>>this.getStream__()).assigned__)\r\n            throw new Error(\"CellLoop sampled before it was looped\");\r\n        return super.sampleNoTrans__();\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/CellLoop.ts\n **/","import { Lambda1, Lambda1_deps, Lambda1_toFunction,\r\n         Lambda2, Lambda2_deps, Lambda2_toFunction } from \"./Lambda\";\r\nimport { Cell } from \"./Cell\";\r\nimport { StreamSink } from \"./StreamSink\";\r\nimport { transactionally } from \"./Transaction\";\r\n\r\n/**\r\n * A cell that allows values to be pushed into it, acting as an interface between the\r\n * world of I/O and the world of FRP. Code that exports CellSinks for read-only use\r\n * should downcast to {@link Cell}.\r\n */\r\nexport class CellSink<A> extends Cell<A> {\r\n    /**\r\n     * Construct a writable cell with the specified initial value. If multiple values are\r\n     * sent in the same transaction, the specified function is used to combine them.\r\n     *\r\n     * If the function is not supplied, then an exception will be thrown in this case.\r\n     */\r\n    constructor(initValue : A, f? : ((l : A, r : A) => A) | Lambda2<A, A, A>) {\r\n    \tsuper(initValue, new StreamSink<A>(f));\r\n    }\r\n\r\n    /**\r\n     * Send a value, modifying the value of the cell. send(A) may not be used inside\r\n     * handlers registered with {@link Stream#listen(Handler)} or {@link Cell#listen(Handler)}.\r\n     * An exception will be thrown, because CellSink is for interfacing I/O to FRP only.\r\n     * You are not meant to use this to define your own primitives.\r\n     * @param a Value to push into the cell.\r\n     */\r\n    send(a : A) : void {\r\n        (<StreamSink<A>>this.getStream__()).send(a);\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/CellSink.ts\n **/","export class Tuple2<A,B> {\r\n    constructor(a : A, b : B) {\r\n        this.a = a;\r\n        this.b = b;\r\n    }\r\n    a : A;\r\n    b : B;\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/Tuple2.ts\n **/","import { Vertex, Source } from \"./Vertex\";\r\nimport { BSTree } from 'typescript-collections';\r\nimport { Stream, StreamWithSend } from \"./Stream\";\r\nimport { StreamSink } from \"./StreamSink\";\r\nimport { Cell } from \"./Cell\";\r\nimport { CellSink } from \"./CellSink\";\r\nimport { Transaction, transactionally, currentTransaction } from \"./Transaction\";\r\n\r\n/**\r\n * An interface for implementations of FRP timer systems.\r\n */\r\nexport abstract class TimerSystemImpl {\r\n    /**\r\n     * Set a timer that will execute the specified callback at the specified time.\r\n     * @return A function that can be used to cancel the timer.\r\n     */\r\n    abstract setTimer(t : number, callback : () => void) : () => void;\r\n\r\n    /**\r\n     * Return the current clock time.\r\n     */\r\n    abstract now() : number;\r\n}\r\n\r\nlet nextSeq : number = 0;\r\n\r\nclass Event {\r\n    constructor(t : number, sAlarm : StreamWithSend<number>) {\r\n        this.t = t;\r\n        this.sAlarm = sAlarm;\r\n        this.seq = ++nextSeq;\r\n    }\r\n    t : number;\r\n    sAlarm : StreamWithSend<number>;\r\n    seq : number;  // Used to guarantee uniqueness\r\n}\r\n\r\nexport class TimerSystem {\r\n    constructor(impl : TimerSystemImpl) {\r\n        transactionally(() => {\r\n            this.impl = impl;\r\n            const timeSnk = new CellSink<number>(impl.now());\r\n            this.time = timeSnk;\r\n            // A dummy listener to time to keep it alive even when there are no other listeners.\r\n            this.time.listen((t : number) => { });\r\n            Transaction.onStart(() => {\r\n                const t = impl.now();\r\n                // Pop and execute all events earlier than or equal to t (the current time).\r\n                while (true) {\r\n                    let ev : Event = null;\r\n                    if (!this.eventQueue.isEmpty()) {\r\n                        let mev = this.eventQueue.minimum();\r\n                        if (mev.t <= t) {\r\n                            ev = mev;\r\n                            // TO DO: Detect infinite loops!\r\n                            //this.eventQueue.remove(mev);\r\n                        }\r\n                    }\r\n                    if (ev != null) {\r\n                        timeSnk.send(ev.t);\r\n                        transactionally(() => ev.sAlarm.send_(ev.t));\r\n                    }\r\n                    else\r\n                        break;\r\n                }\r\n                timeSnk.send(t);\r\n            });\r\n        });\r\n    }\r\n\r\n    private impl : TimerSystemImpl;\r\n\r\n    /**\r\n     * A cell giving the current clock time.\r\n     */\r\n    time : Cell<number>;\r\n\r\n    private eventQueue : BSTree<Event> = new BSTree<Event>((a, b) => {\r\n        if (a.t < b.t) return -1;\r\n        if (a.t > b.t) return 1;\r\n        if (a.seq < b.seq) return -1;\r\n        if (a.seq > b.seq) return 1;\r\n        return 0;\r\n    });\r\n\r\n    /**\r\n     * A timer that fires at the specified time, which can be null, meaning\r\n     * that the alarm is not set.\r\n     */\r\n    at(tAlarm : Cell<number>) : Stream<number> {\r\n        let current : Event = null,\r\n            cancelCurrent : () => void = null,\r\n            active : boolean = false,\r\n            tAl : number = null,\r\n            sampled : boolean = false;\r\n        const sAlarm = new StreamWithSend<number>(null),\r\n            updateTimer = () => {\r\n                if (cancelCurrent !== null) {\r\n                    cancelCurrent();\r\n                    this.eventQueue.remove(current);\r\n                }\r\n                cancelCurrent = null;\r\n                current = null;\r\n                if (active) {\r\n                    if (!sampled) {\r\n                        sampled = true;\r\n                        tAl = tAlarm.sampleNoTrans__();\r\n                    }\r\n                    if (tAl !== null) {\r\n                        current = new Event(tAl, sAlarm);\r\n                        this.eventQueue.add(current);\r\n                        cancelCurrent = this.impl.setTimer(tAl, () => {\r\n                                    // Open and close a transaction to trigger queued\r\n                                    // events to run.\r\n                                    transactionally(() => {});\r\n                                });\r\n                    }\r\n                }\r\n            };\r\n        sAlarm.setVertex__(new Vertex(\"at\", 0, [\r\n                new Source(\r\n                    tAlarm.getVertex__(),\r\n                    () => {\r\n                        active = true;\r\n                        sampled = false;\r\n                        currentTransaction.prioritized(sAlarm.getVertex__(), updateTimer);\r\n                        const kill = tAlarm.getStream__().listen_(sAlarm.getVertex__(), (oAlarm : number) => {\r\n                            tAl = oAlarm;\r\n                            sampled = true;\r\n                            updateTimer();\r\n                        }, false);\r\n                        return () => {\r\n                            active = false;\r\n                            updateTimer();\r\n                            kill();\r\n                        };\r\n                    }\r\n                )\r\n            ]\r\n        ));\r\n        return sAlarm;\r\n    }\r\n}\r\n\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/TimerSystem.ts\n **/","import { TimerSystem, TimerSystemImpl } from \"./TimerSystem\";\r\n\r\n/**\r\n * A timer system implementation using seconds as the time unit.\r\n */\r\nexport class SecondsTimerSystem extends TimerSystem {\r\n    constructor() {\r\n        super(new SecondsTimerSystemImpl());\r\n    }\r\n}\r\n\r\nclass SecondsTimerSystemImpl extends TimerSystemImpl {\r\n    /**\r\n     * Set a timer that will execute the specified callback at the specified time.\r\n     * @return A function that can be used to cancel the timer.\r\n     */\r\n    setTimer(t : number, callback : () => void) : () => void\r\n    {\r\n        let timeout = setTimeout(callback, (t - this.now()) * 1000);\r\n        return () => { clearTimeout(timeout); }\r\n    }\r\n\r\n    /**\r\n     * Return the current clock time.\r\n     */\r\n    now() : number\r\n    {\r\n        return Date.now() * 0.001;\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/SecondsTimerSystem.ts\n **/","import { TimerSystem, TimerSystemImpl } from \"./TimerSystem\";\r\n\r\n/**\r\n * A timer system implementation using milliseconds as the time unit.\r\n */\r\nexport class MillisecondsTimerSystem extends TimerSystem {\r\n    constructor() {\r\n        super(new MillisecondsTimerSystemImpl());\r\n    }\r\n}\r\n\r\nclass MillisecondsTimerSystemImpl extends TimerSystemImpl {\r\n    /**\r\n     * Set a timer that will execute the specified callback at the specified time.\r\n     * @return A function that can be used to cancel the timer.\r\n     */\r\n    setTimer(t : number, callback : () => void) : () => void\r\n    {\r\n        let timeout = setTimeout(callback, t - this.now());\r\n        return () => { clearTimeout(timeout); }\r\n    }\r\n\r\n    /**\r\n     * Return the current clock time.\r\n     */\r\n    now() : number\r\n    {\r\n        return Date.now();\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/MillisecondsTimerSystem.ts\n **/","import { Stream, StreamWithSend } from \"./Stream\";\r\nimport { Vertex, Source } from \"./Vertex\";\r\nimport { transactionally } from \"./Transaction\";\r\n\r\nexport class IOAction {\r\n    /*!\r\n     * Convert a function that performs asynchronous I/O taking input A\r\n     * and returning a value of type B into an I/O action of type\r\n     * (sa : Stream<A>) => Stream<B>\r\n     */\r\n    static fromAsync<A,B>(performIO : (a : A, result : (b : B) => void) => void)\r\n            : (sa : Stream<A>) => Stream<B> {\r\n        return (sa : Stream<A>) => {\r\n            const out = new StreamWithSend<B>(null);\r\n            out.setVertex__(new Vertex(\"map\", 0, [\r\n                    new Source(\r\n                        sa.getVertex__(),\r\n                        () => {\r\n                            return sa.listen_(out.getVertex__(), (a : A) => {\r\n                                performIO(a, (b : B) => {\r\n                                    transactionally(() => {\r\n                                        out.send_(b);\r\n                                    });\r\n                                });\r\n                            }, false);\r\n                        }\r\n                    )\r\n                ]\r\n            ));\r\n            return out;\r\n        }\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/lib/IOAction.ts\n **/"],"sourceRoot":""}