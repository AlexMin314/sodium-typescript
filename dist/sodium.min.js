"object"==typeof global&&(global.require=require);var _bd14502b={};_bd14502b.f={},_bd14502b.m={},_bd14502b.r=function(t){var n=_bd14502b.m[t];if(n)return n.m.exports;var e=_bd14502b.f[t];if(e)return n=_bd14502b.m[t]={},n.exports={},n.m={exports:n.exports},e(n.m,n.exports),n.m.exports},_bd14502b.f[0]=function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=_bd14502b.r(1);n.lambda1=e.lambda1,n.lambda2=e.lambda2,n.lambda3=e.lambda3,n.lambda4=e.lambda4,n.lambda5=e.lambda5,n.lambda6=e.lambda6;var r=_bd14502b.r(3);n.Stream=r.Stream,n.StreamLoop=r.StreamLoop;var o=_bd14502b.r(13);n.StreamSink=o.StreamSink;var i=_bd14502b.r(6);n.Cell=i.Cell;var u=_bd14502b.r(14);n.CellLoop=u.CellLoop;var s=_bd14502b.r(15);n.CellSink=s.CellSink;var a=_bd14502b.r(4);n.Transaction=a.Transaction;var c=_bd14502b.r(16);n.Tuple2=c.Tuple2;var f=_bd14502b.r(9);n.Unit=f.Unit;var l=_bd14502b.r(8);n.Operational=l.Operational;var p=_bd14502b.r(2);n.getTotalRegistrations=p.getTotalRegistrations,n.Vertex=p.Vertex;var h=_bd14502b.r(17);n.TimerSystemImpl=h.TimerSystemImpl,n.TimerSystem=h.TimerSystem;var d=_bd14502b.r(18);n.SecondsTimerSystem=d.SecondsTimerSystem;var y=_bd14502b.r(19);n.MillisecondsTimerSystem=y.MillisecondsTimerSystem;var _=_bd14502b.r(20);n.IOAction=_.IOAction},_bd14502b.f[1]=function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=_bd14502b.r(2),r=function(){return function(t,n){this.f=t,this.deps=n}}();n.lambda1=function(t,n){return new r(t,n)},n.Lambda1_deps=function(t){return t instanceof r?t.deps:[]},n.Lambda1_toFunction=function(t){return t instanceof r?t.f:t};var o=function(){return function(t,n){this.f=t,this.deps=n}}();n.lambda2=function(t,n){return new o(t,n)},n.Lambda2_deps=function(t){return t instanceof o?t.deps:[]},n.Lambda2_toFunction=function(t){return t instanceof o?t.f:t};var i=function(){return function(t,n){this.f=t,this.deps=n}}();n.lambda3=function(t,n){return new i(t,n)},n.Lambda3_deps=function(t){return t instanceof i?t.deps:[]},n.Lambda3_toFunction=function(t){return t instanceof i?t.f:t};var u=function(){return function(t,n){this.f=t,this.deps=n}}();n.lambda4=function(t,n){return new u(t,n)},n.Lambda4_deps=function(t){return t instanceof u?t.deps:[]},n.Lambda4_toFunction=function(t){return t instanceof u?t.f:t};var s=function(){return function(t,n){this.f=t,this.deps=n}}();n.lambda5=function(t,n){return new s(t,n)},n.Lambda5_deps=function(t){return t instanceof s?t.deps:[]},n.Lambda5_toFunction=function(t){return t instanceof s?t.f:t};var a=function(){return function(t,n){this.f=t,this.deps=n}}();n.lambda6=function(t,n){return new a(t,n)},n.Lambda6_deps=function(t){return t instanceof a?t.deps:[]},n.Lambda6_toFunction=function(t){return t instanceof a?t.f:t},n.toSources=function(t){for(var n=[],r=0;r<t.length;r++){var o=t[r];n.push(new e.Source(o.getVertex__(),null))}return n}},_bd14502b.f[2]=function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=0;n.getTotalRegistrations=function(){return e};var r=function(){function t(t,n){if(this.registered=!1,this.deregister_=null,null===t)throw new Error("null origin!");this.origin=t,this.register_=n}return t.prototype.register=function(t){var n=this;this.registered||(this.registered=!0,null!==this.register_?this.deregister_=this.register_():(this.origin.increment(t),this.deregister_=function(){return n.origin.decrement(t)}))},t.prototype.deregister=function(t){this.registered&&(this.registered=!1,null!==this.deregister_&&this.deregister_())},t}();n.Source=r;var o;!function(t){t[t.black=0]="black",t[t.gray=1]="gray",t[t.white=2]="white",t[t.purple=3]="purple"}(o=n.Color||(n.Color={}));var i=[],u=0,s=!1,a=function(){function t(t,n,e){this.targets=[],this.childrn=[],this.visited=!1,this.color=o.black,this.buffered=!1,this.refCountAdj=0,this.name=t,this.rank=n,this.sources=e,this.id=u++}return t.prototype.refCount=function(){return this.targets.length},t.prototype.register=function(t){return this.increment(t)},t.prototype.deregister=function(n){s&&console.log("deregister "+this.descr()+" => "+n.descr()),this.decrement(n),t.collectCycles()},t.prototype.incRefCount=function(t){var n=!1;if(0==this.refCount())for(var r=0;r<this.sources.length;r++)this.sources[r].register(this);return this.targets.push(t),t.childrn.push(this),t.ensureBiggerThan(this.rank)&&(n=!0),e++,n},t.prototype.decRefCount=function(t){s&&console.log("DEC "+this.descr());for(var n=!1,r=0;r<t.childrn.length;r++)t.childrn[r]===this&&t.childrn.splice(r,1);for(r=0;r<this.targets.length;r++)if(this.targets[r]===t){this.targets.splice(r,1),n=!0;break}if(n){if(0==this.refCount())for(r=0;r<this.sources.length;r++)this.sources[r].deregister(this);e--}},t.prototype.addSource=function(t){this.sources.push(t),this.refCount()>0&&t.register(this)},t.prototype.ensureBiggerThan=function(t){if(this.rank>t||this.visited)return!1;this.visited=!0,this.rank=t+1;for(var n=0;n<this.targets.length;n++)this.targets[n].ensureBiggerThan(this.rank);return this.visited=!1,!0},t.prototype.descr=function(){var t=null;switch(this.color){case o.black:t="black";break;case o.gray:t="gray";break;case o.white:t="white";break;case o.purple:t="purple"}for(var n=this.id+" "+this.name+" ["+this.refCount()+"/"+this.refCountAdj+"] "+t+" ->",e=this.children(),r=0;r<e.length;r++)n=n+" "+e[r].id;return n},t.prototype.children=function(){return this.childrn},t.prototype.increment=function(t){return this.incRefCount(t)},t.prototype.decrement=function(t){this.decRefCount(t),0==this.refCount()?this.release():this.possibleRoots()},t.prototype.release=function(){this.color=o.black,this.buffered||this.free()},t.prototype.free=function(){for(;this.targets.length>0;)this.decRefCount(this.targets[0])},t.prototype.possibleRoots=function(){this.color!=o.purple&&(this.color=o.purple,this.buffered||(this.buffered=!0,i.push(this)))},t.collectCycles=function(){t.markRoots(),t.scanRoots(),t.collectRoots()},t.markRoots=function(){for(var t=[],n=0;n<i.length;n++)s&&console.log("markRoots "+i[n].descr()),i[n].color==o.purple?(i[n].markGray(),t.push(i[n])):(i[n].buffered=!1,i[n].color==o.black&&0==i[n].refCount()&&i[n].free());i=t},t.scanRoots=function(){for(var t=0;t<i.length;t++)i[t].scan()},t.collectRoots=function(){for(var t=0;t<i.length;t++)i[t].buffered=!1,i[t].collectWhite();i=[]},t.prototype.markGray=function(){if(this.color!=o.gray){this.color=o.gray;for(var t=this.children(),n=0;n<t.length;n++)t[n].refCountAdj--,s&&console.log("markGray "+this.descr()),t[n].markGray()}},t.prototype.scan=function(){if(s&&console.log("scan "+this.descr()),this.color==o.gray)if(this.refCount()+this.refCountAdj>0)this.scanBlack();else{this.color=o.white,s&&console.log("scan WHITE "+this.descr());for(var t=this.children(),n=0;n<t.length;n++)t[n].scan()}},t.prototype.scanBlack=function(){this.color=o.black;for(var t=this.children(),n=0;n<t.length;n++)t[n].refCountAdj++,s&&console.log("scanBlack "+this.descr()),t[n].color!=o.black&&t[n].scanBlack()},t.prototype.collectWhite=function(){if(this.color==o.white&&!this.buffered){s&&console.log("collectWhite "+this.descr()),this.color=o.black,this.refCountAdj=0;for(var t=this.children(),n=0;n<t.length;n++)t[n].collectWhite();this.free()}},t.NULL=new t("user",1e12,[]),t}();n.Vertex=a},_bd14502b.f[3]=function(t,n){"use strict";var e=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=_bd14502b.r(1),o=_bd14502b.r(2),i=_bd14502b.r(4),u=_bd14502b.r(5),s=_bd14502b.r(6),a=_bd14502b.r(10),c=_bd14502b.r(7),f=_bd14502b.r(11),l=_bd14502b.r(12),p=function(){function t(t){this.listeners=[],this.firings=[],this.vertex=t||new o.Vertex("Stream",0,[])}return t.prototype.getVertex__=function(){return this.vertex},t.prototype.map=function(t){var n=this,e=new h(null),i=r.Lambda1_toFunction(t);return e.vertex=new o.Vertex("map",0,[new o.Source(this.vertex,function(){return n.listen_(e.vertex,function(t){e.send_(i(t))},!1)})].concat(r.toSources(r.Lambda1_deps(t)))),e},t.prototype.mapTo=function(t){var n=this,e=new h(null);return e.vertex=new o.Vertex("mapTo",0,[new o.Source(this.vertex,function(){return n.listen_(e.vertex,function(n){e.send_(t)},!1)})]),e},t.prototype.orElse=function(t){return this.merge(t,function(t,n){return t})},t.prototype.merge_=function(t){var n=this,e=new h,r=new o.Vertex("merge",0,[]);return r.sources.push(new o.Source(this.vertex,function(){return n.listen_(r,function(t){e.send_(t)},!1)})),e.vertex.sources=e.vertex.sources.concat([new o.Source(r,function(){return r.register(e.vertex),function(){r.deregister(e.vertex)}}),new o.Source(t.vertex,function(){return t.listen_(e.vertex,function(t){e.send_(t)},!1)})]),e},t.prototype.coalesce__=function(t){var n=this,e=new h,i=new u.CoalesceHandler(t,e);return e.vertex.sources=e.vertex.sources.concat([new o.Source(this.vertex,function(){return n.listen_(e.vertex,function(t){i.send_(t)},!1)})]).concat(r.toSources(r.Lambda2_deps(t))),e},t.prototype.merge=function(t,n){var e=this;return i.Transaction.run(function(){return e.merge_(t).coalesce__(n)})},t.prototype.filter=function(t){var n=this,e=new h(null),i=r.Lambda1_toFunction(t);return e.vertex=new o.Vertex("filter",0,[new o.Source(this.vertex,function(){return n.listen_(e.vertex,function(t){i(t)&&e.send_(t)},!1)})].concat(r.toSources(r.Lambda1_deps(t)))),e},t.prototype.filterNotNull=function(){var t=this,n=new h(null);return n.vertex=new o.Vertex("filterNotNull",0,[new o.Source(this.vertex,function(){return t.listen_(n.vertex,function(t){null!==t&&n.send_(t)},!1)})]),n},t.prototype.gate=function(t){return this.snapshot(t,function(t,n){return n?t:null}).filterNotNull()},t.prototype.snapshot1=function(t){var n=this,e=new h(null);return e.vertex=new o.Vertex("snapshot1",0,[new o.Source(this.vertex,function(){return n.listen_(e.vertex,function(n){e.send_(t.sampleNoTrans__())},!1)}),new o.Source(t.getVertex__(),null)]),e},t.prototype.snapshot=function(t,n){var e=this,i=new h(null),u=r.Lambda2_toFunction(n);return i.vertex=new o.Vertex("snapshot",0,[new o.Source(this.vertex,function(){return e.listen_(i.vertex,function(n){i.send_(u(n,t.sampleNoTrans__()))},!1)}),new o.Source(t.getVertex__(),null)].concat(r.toSources(r.Lambda2_deps(n)))),i},t.prototype.snapshot3=function(t,n,e){var i=this,u=new h(null),s=r.Lambda3_toFunction(e);return u.vertex=new o.Vertex("snapshot",0,[new o.Source(this.vertex,function(){return i.listen_(u.vertex,function(e){u.send_(s(e,t.sampleNoTrans__(),n.sampleNoTrans__()))},!1)}),new o.Source(t.getVertex__(),null),new o.Source(n.getVertex__(),null)].concat(r.toSources(r.Lambda3_deps(e)))),u},t.prototype.snapshot4=function(t,n,e,i){var u=this,s=new h(null),a=r.Lambda4_toFunction(i);return s.vertex=new o.Vertex("snapshot",0,[new o.Source(this.vertex,function(){return u.listen_(s.vertex,function(r){s.send_(a(r,t.sampleNoTrans__(),n.sampleNoTrans__(),e.sampleNoTrans__()))},!1)}),new o.Source(t.getVertex__(),null),new o.Source(n.getVertex__(),null),new o.Source(e.getVertex__(),null)].concat(r.toSources(r.Lambda4_deps(i)))),s},t.prototype.snapshot5=function(t,n,e,i,u){var s=this,a=new h(null),c=r.Lambda5_toFunction(u);return a.vertex=new o.Vertex("snapshot",0,[new o.Source(this.vertex,function(){return s.listen_(a.vertex,function(r){a.send_(c(r,t.sampleNoTrans__(),n.sampleNoTrans__(),e.sampleNoTrans__(),i.sampleNoTrans__()))},!1)}),new o.Source(t.getVertex__(),null),new o.Source(n.getVertex__(),null),new o.Source(e.getVertex__(),null),new o.Source(i.getVertex__(),null)].concat(r.toSources(r.Lambda5_deps(u)))),a},t.prototype.snapshot6=function(t,n,e,i,u,s){var a=this,c=new h(null),f=r.Lambda6_toFunction(s);return c.vertex=new o.Vertex("snapshot",0,[new o.Source(this.vertex,function(){return a.listen_(c.vertex,function(r){c.send_(f(r,t.sampleNoTrans__(),n.sampleNoTrans__(),e.sampleNoTrans__(),i.sampleNoTrans__(),u.sampleNoTrans__()))},!1)}),new o.Source(t.getVertex__(),null),new o.Source(n.getVertex__(),null),new o.Source(e.getVertex__(),null),new o.Source(i.getVertex__(),null),new o.Source(u.getVertex__(),null)].concat(r.toSources(r.Lambda6_deps(s)))),c},t.prototype.hold=function(t){return new s.Cell(t,this)},t.prototype.holdLazy=function(t){return new f.LazyCell(t,this)},t.prototype.collect=function(t,n){return this.collectLazy(new c.Lazy(function(){return t}),n)},t.prototype.collectLazy=function(t,n){var e=this;return i.Transaction.run(function(){var r=new d,o=r.holdLazy(t),i=e.snapshot(o,n),u=i.map(function(t){return t.a}),s=i.map(function(t){return t.b});return r.loop(s),u})},t.prototype.accum=function(t,n){return this.accumLazy(new c.Lazy(function(){return t}),n)},t.prototype.accumLazy=function(t,n){var e=this;return i.Transaction.run(function(){var r=new d,o=r.holdLazy(t),i=e.snapshot(o,n);return r.loop(i),i.holdLazy(t)})},t.prototype.once=function(){var t=this;return i.Transaction.run(function(){return t.gate(t.mapTo(!1).hold(!0))})},t.prototype.listen=function(t){var n=this;return i.Transaction.run(function(){return n.listen_(o.Vertex.NULL,t,!1)})},t.prototype.listen_=function(t,n,e){var r=this;this.vertex.register(t)&&i.Transaction.currentTransaction.requestRegen();var o=new a.Listener(n,t);if(this.listeners.push(o),!e&&0!=this.firings.length){var u=this.firings.slice();i.Transaction.currentTransaction.prioritized(t,function(){for(var t=0;t<u.length;t++)n(u[t])})}return function(){for(var n=!1,e=0;e<r.listeners.length;e++)if(r.listeners[e]==o){r.listeners.splice(e,1),n=!0;break}n&&r.vertex.deregister(t)}},t.prototype["fantasy-land/map"]=function(t){return this.map(t)},t.prototype["fantasy-land/concat"]=function(t){return this.merge(t,function(t,n){return l.Z.Semigroup.test(t)?l.Z.concat(t,n):t})},t.prototype["fantasy-land/empty"]=function(){return new t},t}();n.Stream=p;var h=function(t){function n(n){return t.call(this,n)||this}return e(n,t),n.prototype.setVertex__=function(t){this.vertex=t},n.prototype.send_=function(t){var n=this;if(0==this.vertex.refCount())throw new Error("send() was invoked before listeners were registered");0==this.firings.length&&i.Transaction.currentTransaction.last(function(){n.firings=[]}),this.firings.push(t);for(var e=this.listeners.slice(),r=0;r<e.length;r++)!function(n){var r=e[n].h;i.Transaction.currentTransaction.prioritized(e[n].target,function(){i.Transaction.currentTransaction.inCallback++;try{r(t),i.Transaction.currentTransaction.inCallback--}catch(t){throw i.Transaction.currentTransaction.inCallback--,t}})}(r)},n}(p);n.StreamWithSend=h;var d=function(t){function n(){var n=t.call(this)||this;if(n.assigned__=!1,n.vertex.name="StreamLoop",null===i.Transaction.currentTransaction)throw new Error("StreamLoop/CellLoop must be used within an explicit transaction");return n}return e(n,t),n.prototype.loop=function(t){var n=this;if(this.assigned__)throw new Error("StreamLoop looped more than once");this.assigned__=!0,this.vertex.addSource(new o.Source(t.getVertex__(),function(){return t.listen_(n.vertex,function(t){n.send_(t)},!1)}))},n}(h);n.StreamLoop=d},_bd14502b.f[4]=function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=_bd14502b.r(21),r=function(){function t(n,e){this.rank=n,this.action=e,this.seq=t.nextSeq++}return t.prototype.toString=function(){return this.seq.toString()},t.nextSeq=0,t}(),o=function(){function t(){this.inCallback=0,this.toRegen=!1,this.prioritizedQ=new e.PriorityQueue(function(t,n){return t.rank.rank<n.rank.rank?1:t.rank.rank>n.rank.rank?-1:t.seq<n.seq?1:t.seq>n.seq?-1:0}),this.entries=new e.Set(function(t){return t.toString()}),this.lastQ=[],this.postQ=null}return t.prototype.requestRegen=function(){this.toRegen=!0},t.prototype.prioritized=function(t,n){var e=new r(t,n);this.prioritizedQ.enqueue(e),this.entries.add(e)},t.prototype.last=function(t){this.lastQ.push(t)},t.prototype.post=function(t,n){for(null==this.postQ&&(this.postQ=[]);this.postQ.length<=t;)this.postQ.push(null);var e=this.postQ[t],r=null===e?n:function(){e(),n()};this.postQ[t]=r},t.prototype.checkRegen=function(){if(this.toRegen){this.toRegen=!1,this.prioritizedQ.clear();for(var t=this.entries.toArray(),n=0;n<t.length;n++)this.prioritizedQ.enqueue(t[n])}},t.prototype.isActive=function(){return!!t.currentTransaction},t.prototype.close=function(){for(;;){if(this.checkRegen(),this.prioritizedQ.isEmpty())break;var n=this.prioritizedQ.dequeue();this.entries.remove(n),n.action()}for(e=0;e<this.lastQ.length;e++)this.lastQ[e]();if(this.lastQ=[],null!=this.postQ){for(var e=0;e<this.postQ.length;e++)if(null!=this.postQ[e]){var r=t.currentTransaction;try{if(e>0){t.currentTransaction=new t;try{this.postQ[e](),t.currentTransaction.close()}catch(n){throw t.currentTransaction.close(),n}}else t.currentTransaction=null,this.postQ[e]();t.currentTransaction=r}catch(n){throw t.currentTransaction=r,n}}this.postQ=null}},t.onStart=function(n){t.onStartHooks.push(n)},t.run=function(n){var e=t.currentTransaction;if(null===e){if(!t.runningOnStartHooks){t.runningOnStartHooks=!0;try{for(var r=0;r<t.onStartHooks.length;r++)t.onStartHooks[r]()}finally{t.runningOnStartHooks=!1}}t.currentTransaction=new t}try{var o=n();return null===e&&(t.currentTransaction.close(),t.currentTransaction=null),o}catch(n){throw null===e&&(t.currentTransaction.close(),t.currentTransaction=null),n}},t.currentTransaction=null,t.onStartHooks=[],t.runningOnStartHooks=!1,t}();n.Transaction=o},_bd14502b.f[5]=function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=_bd14502b.r(1),r=_bd14502b.r(4),o=function(){function t(t,n){this.f=e.Lambda2_toFunction(t),this.out=n,this.out.getVertex__().sources=this.out.getVertex__().sources.concat(e.toSources(e.Lambda2_deps(t))),this.accumValid=!1}return t.prototype.send_=function(t){var n=this;this.accumValid?this.accum=this.f(this.accum,t):(r.Transaction.currentTransaction.prioritized(this.out.getVertex__(),function(){n.out.send_(n.accum),n.accumValid=!1,n.accum=null}),this.accum=t,this.accumValid=!0)},t}();n.CoalesceHandler=o},_bd14502b.f[6]=function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=_bd14502b.r(1),r=_bd14502b.r(2),o=_bd14502b.r(4),i=_bd14502b.r(7),u=_bd14502b.r(3),s=_bd14502b.r(8),a=function(){return function(t){this.hasValue=!1,this.value=null,this.cell=t}}(),c=function(){return function(){this.f=null,this.f_present=!1,this.a=null,this.a_present=!1}}(),f=function(){function t(t,n){var e=this;this.value=t,n?o.Transaction.run(function(){return e.setStream(n)}):(this.str=new u.Stream,this.vertex=new r.Vertex("ConstCell",0,[]))}return t.prototype.setStream=function(t){var n=this;this.str=t;var e=this,i=new r.Source(t.getVertex__(),function(){return t.listen_(e.vertex,function(t){null==e.valueUpdate&&o.Transaction.currentTransaction.last(function(){e.value=e.valueUpdate,e.lazyInitValue=null,e.valueUpdate=null}),e.valueUpdate=t},!1)});this.vertex=new r.Vertex("Cell",0,[i]),this.vertex.register(r.Vertex.NULL),o.Transaction.currentTransaction.last(function(){n.vertex.deregister(r.Vertex.NULL)})},t.prototype.getVertex__=function(){return this.vertex},t.prototype.getStream__=function(){return this.str},t.prototype.sample=function(){var t=this;return o.Transaction.run(function(){return t.sampleNoTrans__()})},t.prototype.sampleNoTrans__=function(){return this.value},t.prototype.sampleLazy=function(){var t=this;return o.Transaction.run(function(){return t.sampleLazyNoTrans__()})},t.prototype.sampleLazyNoTrans__=function(){var t=this,n=new a(t);return o.Transaction.currentTransaction.last(function(){n.value=null!=t.valueUpdate?t.valueUpdate:t.sampleNoTrans__(),n.hasValue=!0,n.cell=null}),new i.Lazy(function(){return n.hasValue?n.value:n.cell.sample()})},t.prototype.map=function(t){var n=this;return o.Transaction.run(function(){return s.Operational.updates(n).map(t).holdLazy(n.sampleLazy().map(e.Lambda1_toFunction(t)))})},t.prototype.lift=function(n,r){var o=e.Lambda2_toFunction(r),i=this.map(function(t){return function(n){return o(t,n)}});return t.apply(i,n,e.toSources(e.Lambda2_deps(r)))},t.prototype.lift3=function(n,r,o){var i=e.Lambda3_toFunction(o),u=this.map(function(t){return function(n){return function(e){return i(t,n,e)}}});return t.apply(t.apply(u,n),r,e.toSources(e.Lambda3_deps(o)))},t.prototype.lift4=function(n,r,o,i){var u=e.Lambda4_toFunction(i),s=this.map(function(t){return function(n){return function(e){return function(r){return u(t,n,e,r)}}}});return t.apply(t.apply(t.apply(s,n),r),o,e.toSources(e.Lambda4_deps(i)))},t.prototype.lift5=function(n,r,o,i,u){var s=e.Lambda5_toFunction(u),a=this.map(function(t){return function(n){return function(e){return function(r){return function(o){return s(t,n,e,r,o)}}}}});return t.apply(t.apply(t.apply(t.apply(a,n),r),o),i,e.toSources(e.Lambda5_deps(u)))},t.prototype.lift6=function(n,r,o,i,u,s){var a=e.Lambda6_toFunction(s),c=this.map(function(t){return function(n){return function(e){return function(r){return function(o){return function(i){return a(t,n,e,r,o,i)}}}}}});return t.apply(t.apply(t.apply(t.apply(t.apply(c,n),r),o),i),u,e.toSources(e.Lambda6_deps(s)))},t.apply=function(t,n,e){return o.Transaction.run(function(){var o=new c,a=new u.StreamWithSend,f=s.Operational.value(t),l=s.Operational.value(n),p=new r.Source(f.getVertex__(),function(){return f.listen_(a.getVertex__(),function(t){o.f=t,o.f_present=!0,o.a_present&&a.send_(o.f(o.a))},!1)}),h=new r.Source(l.getVertex__(),function(){return l.listen_(a.getVertex__(),function(t){o.a=t,o.a_present=!0,o.f_present&&a.send_(o.f(o.a))},!1)});return a.setVertex__(new r.Vertex("apply",0,[p,h].concat(e||[]))),a.coalesce__(function(t,n){return n}).holdLazy(new i.Lazy(function(){return t.sampleNoTrans__()(n.sampleNoTrans__())}))})},t.switchC=function(t){return o.Transaction.run(function(){var n=t.sampleLazy().map(function(t){return t.sample()}),e=new u.StreamWithSend,o=null,i=s.Operational.value(t),a=new r.Source(i.getVertex__(),function(){var t=null===o?null:s.Operational.value(o).listen_(e.getVertex__(),function(t){return e.send_(t)},!1),n=i.listen_(e.getVertex__(),function(n){o=n,null!==t&&t(),t=s.Operational.value(n).listen_(e.getVertex__(),function(t){return e.send_(t)},!1)},!1);return function(){n(),t()}});return e.setVertex__(new r.Vertex("switchC",0,[a])),e.coalesce__(function(t,n){return n}).holdLazy(n)})},t.switchS=function(t){return o.Transaction.run(function(){var n=new u.StreamWithSend,e=function(t){n.send_(t)},o=new r.Source(t.getVertex__(),function(){var r=t.sampleNoTrans__().listen_(n.getVertex__(),e,!1),o=t.getStream__().listen_(n.getVertex__(),function(t){r(),r=t.listen_(n.getVertex__(),e,!0)},!1);return function(){o(),r()}});return n.setVertex__(new r.Vertex("switchS",0,[o])),n})},t.prototype.listen=function(t){var n=this;return o.Transaction.run(function(){return s.Operational.value(n).listen(t)})},t["fantasy-land/of"]=function(n){return new t(n)},t.prototype["fantasy-land/map"]=function(t){return this.map(t)},t.prototype["fantasy-land/ap"]=function(n){return t.apply(n,this)},t.prototype["fantasy-land/chain"]=function(n){return t.switchC(this.map(n))},t.prototype["fantasy-land/extend"]=function(n){return new t(n(this))},t.prototype["fantasy-land/extract"]=function(){return this.sample()},t}();n.Cell=f},_bd14502b.f[7]=function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=function(){function t(t){this.f=t}return t.prototype.get=function(){return this.f()},t.prototype.map=function(n){var e=this;return new t(function(){return n(e.f())})},t.prototype.lift=function(n,e){var r=this;return new t(function(){return e(r.f(),n.f())})},t.prototype.lift3=function(n,e,r){var o=this;return new t(function(){return r(o.f(),n.f(),e.f())})},t.prototype.lift4=function(n,e,r,o){var i=this;return new t(function(){return o(i.f(),n.f(),e.f(),r.f())})},t}();n.Lazy=e},_bd14502b.f[8]=function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=_bd14502b.r(3),r=_bd14502b.r(4),o=_bd14502b.r(9),i=_bd14502b.r(2),u=function(){function t(){}return t.updates=function(t){return t.getStream__()},t.value=function(n){return r.Transaction.run(function(){var i=new e.StreamWithSend;r.Transaction.currentTransaction.prioritized(i.getVertex__(),function(){i.send_(o.Unit.UNIT)});var u=i.snapshot1(n);return t.updates(n).orElse(u)})},t.defer=function(n){return t.split(n.map(function(t){return[t]}))},t.split=function(t){var n=new e.StreamWithSend(null);return n.setVertex__(new i.Vertex("split",0,[new i.Source(t.getVertex__(),function(){return t.listen_(n.getVertex__(),function(t){for(var e=0;e<t.length;e++)!function(e){r.Transaction.currentTransaction.post(e,function(){r.Transaction.run(function(){n.send_(t[e])})})}(e)},!1)})])),n},t}();n.Operational=u},_bd14502b.f[9]=function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=function(){function t(){}return t.UNIT=new t,t}();n.Unit=e},_bd14502b.f[10]=function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=function(){return function(t,n){this.h=t,this.target=n}}();n.Listener=e},_bd14502b.f[11]=function(t,n){"use strict";var e=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=_bd14502b.r(6),o=_bd14502b.r(4),i=function(t){function n(n,e){var r=t.call(this,null,null)||this;return o.Transaction.run(function(){e&&r.setStream(e),r.lazyInitValue=n}),r}return e(n,t),n.prototype.sampleNoTrans__=function(){return null==this.value&&null!=this.lazyInitValue&&(this.value=this.lazyInitValue.get(),this.lazyInitValue=null),this.value},n}(r.Cell);n.LazyCell=i},_bd14502b.f[12]=function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Z=_bd14502b.r(35)},_bd14502b.f[13]=function(t,n){"use strict";var e=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=_bd14502b.r(3),o=_bd14502b.r(5),i=_bd14502b.r(4),u=function(t){function n(n){var e=t.call(this)||this;return n||(n=function(t,n){throw new Error("send() called more than once per transaction, which isn't allowed. Did you want to combine the events? Then pass a combining function to your StreamSink constructor.")}),e.coalescer=new o.CoalesceHandler(n,e),e}return e(n,t),n.prototype.send=function(t){var n=this;i.Transaction.run(function(){if(i.Transaction.currentTransaction.inCallback>0)throw new Error("You are not allowed to use send() inside a Sodium callback");n.coalescer.send_(t)})},n}(r.StreamWithSend);n.StreamSink=u},_bd14502b.f[14]=function(t,n){"use strict";var e=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=_bd14502b.r(11),o=_bd14502b.r(4),i=_bd14502b.r(3),u=function(t){function n(){return t.call(this,null,new i.StreamLoop)||this}return e(n,t),n.prototype.loop=function(t){var n=this;o.Transaction.run(function(){n.getStream__().loop(t.getStream__()),n.lazyInitValue=t.sampleLazy()})},n.prototype.sampleNoTrans__=function(){if(!this.getStream__().assigned__)throw new Error("CellLoop sampled before it was looped");return t.prototype.sampleNoTrans__.call(this)},n}(r.LazyCell);n.CellLoop=u},_bd14502b.f[15]=function(t,n){"use strict";var e=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=_bd14502b.r(6),o=_bd14502b.r(13),i=function(t){function n(n,e){return t.call(this,n,new o.StreamSink(e))||this}return e(n,t),n.prototype.send=function(t){this.getStream__().send(t)},n}(r.Cell);n.CellSink=i},_bd14502b.f[16]=function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=function(){return function(t,n){this.a=t,this.b=n}}();n.Tuple2=e},_bd14502b.f[17]=function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=_bd14502b.r(2),r=_bd14502b.r(21),o=_bd14502b.r(3),i=_bd14502b.r(15),u=_bd14502b.r(4),s=function(){return function(){}}();n.TimerSystemImpl=s;var a=0,c=function(){return function(t,n){this.t=t,this.sAlarm=n,this.seq=++a}}(),f=function(){function t(t){var n=this;this.eventQueue=new r.BSTree(function(t,n){return t.t<n.t?-1:t.t>n.t?1:t.seq<n.seq?-1:t.seq>n.seq?1:0}),u.Transaction.run(function(){n.impl=t,n.tMinimum=0;var e=new i.CellSink(t.now());n.time=e,n.time.listen(function(t){}),u.Transaction.onStart(function(){for(var r=n.tMinimum=Math.max(n.tMinimum,t.now());;)if("break"===function(){var t=null;if(!n.eventQueue.isEmpty()){var o=n.eventQueue.minimum();o.t<=r&&(t=o)}if(null==t)return"break";e.send(t.t),u.Transaction.run(function(){return t.sAlarm.send_(t.t)})}())break;e.send(r)})})}return t.prototype.at=function(t){var n=this,r=null,i=null,s=!1,a=null,f=!1,l=new o.StreamWithSend(null),p=function(){null!==i&&(i(),n.eventQueue.remove(r)),i=null,r=null,s&&(f||(f=!0,a=t.sampleNoTrans__()),null!==a&&(r=new c(a,l),n.eventQueue.add(r),i=n.impl.setTimer(a,function(){n.tMinimum=Math.max(n.tMinimum,a),u.Transaction.run(function(){})})))};return l.setVertex__(new e.Vertex("at",0,[new e.Source(t.getVertex__(),function(){s=!0,f=!1,u.Transaction.currentTransaction.prioritized(l.getVertex__(),p);var n=t.getStream__().listen_(l.getVertex__(),function(t){a=t,f=!0,p()},!1);return function(){s=!1,p(),n()}})])),l},t}();n.TimerSystem=f},_bd14502b.f[18]=function(t,n){"use strict";var e=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=_bd14502b.r(17),o=function(t){function n(){return t.call(this,new i)||this}return e(n,t),n}(r.TimerSystem);n.SecondsTimerSystem=o;var i=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.prototype.setTimer=function(t,n){var e=setTimeout(n,Math.max(1e3*(t-this.now()),0));return function(){clearTimeout(e)}},n.prototype.now=function(){return.001*Date.now()},n}(r.TimerSystemImpl)},_bd14502b.f[19]=function(t,n){"use strict";var e=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])};return function(n,e){function r(){this.constructor=n}t(n,e),n.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var r=_bd14502b.r(17),o=function(t){function n(){return t.call(this,new i)||this}return e(n,t),n}(r.TimerSystem);n.MillisecondsTimerSystem=o;var i=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return e(n,t),n.prototype.setTimer=function(t,n){var e=setTimeout(n,Math.max(t-this.now(),0));return function(){clearTimeout(e)}},n.prototype.now=function(){return Date.now()},n}(r.TimerSystemImpl)},_bd14502b.f[20]=function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=_bd14502b.r(3),r=_bd14502b.r(2),o=_bd14502b.r(4),i=function(){function t(){}return t.fromAsync=function(t){return function(n){var i=new e.StreamWithSend(null);return i.setVertex__(new r.Vertex("map",0,[new r.Source(n.getVertex__(),function(){return n.listen_(i.getVertex__(),function(n){t(n,function(t){o.Transaction.run(function(){i.send_(t)})})},!1)})])),i}},t}();n.IOAction=i},_bd14502b.f[21]=function(t,n){"use strict";_bd14502b.r(22);var e=_bd14502b.r(27);n.BSTree=e.default;var r=_bd14502b.r(33);n.PriorityQueue=r.default;var o=_bd14502b.r(26);n.Set=o.default;_bd14502b.r(23)},_bd14502b.f[22]=function(t,n){"use strict";function e(t,n,e){for(var o=e||r.defaultEquals,i=t.length,u=0;u<i;u++)if(o(t[u],n))return u;return-1}var r=_bd14502b.r(23);n.indexOf=e,n.lastIndexOf=function(t,n,e){for(var o=e||r.defaultEquals,i=t.length-1;i>=0;i--)if(o(t[i],n))return i;return-1},n.contains=function(t,n,r){return e(t,n,r)>=0},n.remove=function(t,n,r){var o=e(t,n,r);return!(o<0||(t.splice(o,1),0))},n.frequency=function(t,n,e){for(var o=e||r.defaultEquals,i=t.length,u=0,s=0;s<i;s++)o(t[s],n)&&u++;return u},n.equals=function(t,n,e){var o=e||r.defaultEquals;if(t.length!==n.length)return!1;for(var i=t.length,u=0;u<i;u++)if(!o(t[u],n[u]))return!1;return!0},n.copy=function(t){return t.concat()},n.swap=function(t,n,e){if(n<0||n>=t.length||e<0||e>=t.length)return!1;var r=t[n];return t[n]=t[e],t[e]=r,!0},n.toString=function(t){return"["+t.toString()+"]"},n.forEach=function(t,n){for(var e=0,r=t;e<r.length;e++)if(!1===n(r[e]))return}},_bd14502b.f[23]=function(t,n){"use strict";function e(t){return"function"==typeof t}function r(t){return void 0===t}function o(t){return"[object String]"===Object.prototype.toString.call(t)}var i=Object.prototype.hasOwnProperty;n.has=function(t,n){return i.call(t,n)},n.defaultCompare=function(t,n){return t<n?-1:t===n?0:1},n.defaultEquals=function(t,n){return t===n},n.defaultToString=function(t){return null===t?"COLLECTION_NULL":r(t)?"COLLECTION_UNDEFINED":o(t)?"$s"+t:"$o"+t.toString()},n.makeString=function(t,e){if(void 0===e&&(e=","),null===t)return"COLLECTION_NULL";if(r(t))return"COLLECTION_UNDEFINED";if(o(t))return t.toString();var i="{",u=!0;for(var s in t)n.has(t,s)&&(u?u=!1:i+=e,i=i+s+":"+t[s]);return i+"}"},n.isFunction=e,n.isUndefined=r,n.isString=o,n.reverseCompareFunction=function(t){return e(t)?function(n,e){return-1*t(n,e)}:function(t,n){return t<n?1:t===n?0:-1}},n.compareToEquals=function(t){return function(n,e){return 0===t(n,e)}}},_bd14502b.f[25]=function(t,n){"use strict";var e=_bd14502b.r(23),r=function(){function t(t){this.table={},this.nElements=0,this.toStr=t||e.defaultToString}return t.prototype.getValue=function(t){var n=this.table["$"+this.toStr(t)];if(!e.isUndefined(n))return n.value},t.prototype.setValue=function(t,n){if(!e.isUndefined(t)&&!e.isUndefined(n)){var r,o="$"+this.toStr(t),i=this.table[o];return e.isUndefined(i)?(this.nElements++,r=void 0):r=i.value,this.table[o]={key:t,value:n},r}},t.prototype.remove=function(t){var n="$"+this.toStr(t),r=this.table[n];if(!e.isUndefined(r))return delete this.table[n],this.nElements--,r.value},t.prototype.keys=function(){var t=[];for(var n in this.table)if(e.has(this.table,n)){var r=this.table[n];t.push(r.key)}return t},t.prototype.values=function(){var t=[];for(var n in this.table)if(e.has(this.table,n)){var r=this.table[n];t.push(r.value)}return t},t.prototype.forEach=function(t){for(var n in this.table)if(e.has(this.table,n)){var r=this.table[n];if(!1===t(r.key,r.value))return}},t.prototype.containsKey=function(t){return!e.isUndefined(this.getValue(t))},t.prototype.clear=function(){this.table={},this.nElements=0},t.prototype.size=function(){return this.nElements},t.prototype.isEmpty=function(){return this.nElements<=0},t.prototype.toString=function(){var t="{";return this.forEach(function(n,e){t+="\n\t"+n+" : "+e}),t+"\n}"},t}();Object.defineProperty(n,"__esModule",{value:!0}),n.default=r},_bd14502b.f[26]=function(t,n){"use strict";var e=_bd14502b.r(23),r=_bd14502b.r(22),o=_bd14502b.r(25),i=function(){function t(t){this.dictionary=new o.default(t)}return t.prototype.contains=function(t){return this.dictionary.containsKey(t)},t.prototype.add=function(t){return!this.contains(t)&&!e.isUndefined(t)&&(this.dictionary.setValue(t,t),!0)},t.prototype.intersection=function(t){var n=this;this.forEach(function(e){return t.contains(e)||n.remove(e),!0})},t.prototype.union=function(t){var n=this;t.forEach(function(t){return n.add(t),!0})},t.prototype.difference=function(t){var n=this;t.forEach(function(t){return n.remove(t),!0})},t.prototype.isSubsetOf=function(t){if(this.size()>t.size())return!1;var n=!0;return this.forEach(function(e){return!!t.contains(e)||(n=!1,!1)}),n},t.prototype.remove=function(t){return!!this.contains(t)&&(this.dictionary.remove(t),!0)},t.prototype.forEach=function(t){this.dictionary.forEach(function(n,e){return t(e)})},t.prototype.toArray=function(){return this.dictionary.values()},t.prototype.isEmpty=function(){return this.dictionary.isEmpty()},t.prototype.size=function(){return this.dictionary.size()},t.prototype.clear=function(){this.dictionary.clear()},t.prototype.toString=function(){return r.toString(this.toArray())},t}();Object.defineProperty(n,"__esModule",{value:!0}),n.default=i},_bd14502b.f[27]=function(t,n){"use strict";var e=_bd14502b.r(23),r=_bd14502b.r(28),o=function(){function t(t){this.root=null,this.compare=t||e.defaultCompare,this.nElements=0}return t.prototype.add=function(t){return!e.isUndefined(t)&&(null!==this.insertNode(this.createNode(t))&&(this.nElements++,!0))},t.prototype.clear=function(){this.root=null,this.nElements=0},t.prototype.isEmpty=function(){return 0===this.nElements},t.prototype.size=function(){return this.nElements},t.prototype.contains=function(t){return!e.isUndefined(t)&&null!==this.searchNode(this.root,t)},t.prototype.remove=function(t){var n=this.searchNode(this.root,t);return null!==n&&(this.removeNode(n),this.nElements--,!0)},t.prototype.inorderTraversal=function(t){this.inorderTraversalAux(this.root,t,{stop:!1})},t.prototype.preorderTraversal=function(t){this.preorderTraversalAux(this.root,t,{stop:!1})},t.prototype.postorderTraversal=function(t){this.postorderTraversalAux(this.root,t,{stop:!1})},t.prototype.levelTraversal=function(t){this.levelTraversalAux(this.root,t)},t.prototype.minimum=function(){if(!this.isEmpty())return this.minimumAux(this.root).element},t.prototype.maximum=function(){if(!this.isEmpty())return this.maximumAux(this.root).element},t.prototype.forEach=function(t){this.inorderTraversal(t)},t.prototype.toArray=function(){var t=[];return this.inorderTraversal(function(n){return t.push(n),!0}),t},t.prototype.height=function(){return this.heightAux(this.root)},t.prototype.searchNode=function(t,n){for(var e=null;null!==t&&0!==e;)(e=this.compare(n,t.element))<0?t=t.leftCh:e>0&&(t=t.rightCh);return t},t.prototype.transplant=function(t,n){null===t.parent?this.root=n:t===t.parent.leftCh?t.parent.leftCh=n:t.parent.rightCh=n,null!==n&&(n.parent=t.parent)},t.prototype.removeNode=function(t){if(null===t.leftCh)this.transplant(t,t.rightCh);else if(null===t.rightCh)this.transplant(t,t.leftCh);else{var n=this.minimumAux(t.rightCh);n.parent!==t&&(this.transplant(n,n.rightCh),n.rightCh=t.rightCh,n.rightCh.parent=n),this.transplant(t,n),n.leftCh=t.leftCh,n.leftCh.parent=n}},t.prototype.inorderTraversalAux=function(t,n,e){null===t||e.stop||(this.inorderTraversalAux(t.leftCh,n,e),e.stop||(e.stop=!1===n(t.element),e.stop||this.inorderTraversalAux(t.rightCh,n,e)))},t.prototype.levelTraversalAux=function(t,n){var e=new r.default;for(null!==t&&e.enqueue(t);!e.isEmpty();){if(t=e.dequeue(),!1===n(t.element))return;null!==t.leftCh&&e.enqueue(t.leftCh),null!==t.rightCh&&e.enqueue(t.rightCh)}},t.prototype.preorderTraversalAux=function(t,n,e){null===t||e.stop||(e.stop=!1===n(t.element),e.stop||(this.preorderTraversalAux(t.leftCh,n,e),e.stop||this.preorderTraversalAux(t.rightCh,n,e)))},t.prototype.postorderTraversalAux=function(t,n,e){null===t||e.stop||(this.postorderTraversalAux(t.leftCh,n,e),e.stop||(this.postorderTraversalAux(t.rightCh,n,e),e.stop||(e.stop=!1===n(t.element))))},t.prototype.minimumAux=function(t){for(;null!==t.leftCh;)t=t.leftCh;return t},t.prototype.maximumAux=function(t){for(;null!==t.rightCh;)t=t.rightCh;return t},t.prototype.heightAux=function(t){return null===t?-1:Math.max(this.heightAux(t.leftCh),this.heightAux(t.rightCh))+1},t.prototype.insertNode=function(t){for(var n=null,e=this.root,r=null;null!==e;){if(0===(r=this.compare(t.element,e.element)))return null;r<0?(n=e,e=e.leftCh):(n=e,e=e.rightCh)}return t.parent=n,null===n?this.root=t:this.compare(t.element,n.element)<0?n.leftCh=t:n.rightCh=t,t},t.prototype.createNode=function(t){return{element:t,leftCh:null,rightCh:null,parent:null}},t}();Object.defineProperty(n,"__esModule",{value:!0}),n.default=o},_bd14502b.f[28]=function(t,n){"use strict";var e=_bd14502b.r(29),r=function(){function t(){this.list=new e.default}return t.prototype.enqueue=function(t){return this.list.add(t)},t.prototype.add=function(t){return this.list.add(t)},t.prototype.dequeue=function(){if(0!==this.list.size()){var t=this.list.first();return this.list.removeElementAtIndex(0),t}},t.prototype.peek=function(){if(0!==this.list.size())return this.list.first()},t.prototype.size=function(){return this.list.size()},t.prototype.contains=function(t,n){return this.list.contains(t,n)},t.prototype.isEmpty=function(){return this.list.size()<=0},t.prototype.clear=function(){this.list.clear()},t.prototype.forEach=function(t){this.list.forEach(t)},t}();Object.defineProperty(n,"__esModule",{value:!0}),n.default=r},_bd14502b.f[29]=function(t,n){"use strict";var e=_bd14502b.r(23),r=_bd14502b.r(22),o=function(){function t(){this.firstNode=null,this.lastNode=null,this.nElements=0}return t.prototype.add=function(t,n){if(e.isUndefined(n)&&(n=this.nElements),n<0||n>this.nElements||e.isUndefined(t))return!1;var r=this.createNode(t);if(0===this.nElements)this.firstNode=r,this.lastNode=r;else if(n===this.nElements)this.lastNode.next=r,this.lastNode=r;else if(0===n)r.next=this.firstNode,this.firstNode=r;else{var o=this.nodeAtIndex(n-1);r.next=o.next,o.next=r}return this.nElements++,!0},t.prototype.first=function(){if(null!==this.firstNode)return this.firstNode.element},t.prototype.last=function(){if(null!==this.lastNode)return this.lastNode.element},t.prototype.elementAtIndex=function(t){var n=this.nodeAtIndex(t);if(null!==n)return n.element},t.prototype.indexOf=function(t,n){var r=n||e.defaultEquals;if(e.isUndefined(t))return-1;for(var o=this.firstNode,i=0;null!==o;){if(r(o.element,t))return i;i++,o=o.next}return-1},t.prototype.contains=function(t,n){return this.indexOf(t,n)>=0},t.prototype.remove=function(t,n){var r=n||e.defaultEquals;if(this.nElements<1||e.isUndefined(t))return!1;for(var o=null,i=this.firstNode;null!==i;){if(r(i.element,t))return i===this.firstNode?(this.firstNode=this.firstNode.next,i===this.lastNode&&(this.lastNode=null)):i===this.lastNode?(this.lastNode=o,o.next=i.next,i.next=null):(o.next=i.next,i.next=null),this.nElements--,!0;o=i,i=i.next}return!1},t.prototype.clear=function(){this.firstNode=null,this.lastNode=null,this.nElements=0},t.prototype.equals=function(n,r){var o=r||e.defaultEquals;return n instanceof t&&(this.size()===n.size()&&this.equalsAux(this.firstNode,n.firstNode,o))},t.prototype.equalsAux=function(t,n,e){for(;null!==t;){if(!e(t.element,n.element))return!1;t=t.next,n=n.next}return!0},t.prototype.removeElementAtIndex=function(t){if(!(t<0||t>=this.nElements)){var n;if(1===this.nElements)n=this.firstNode.element,this.firstNode=null,this.lastNode=null;else{var e=this.nodeAtIndex(t-1);null===e?(n=this.firstNode.element,this.firstNode=this.firstNode.next):e.next===this.lastNode&&(n=this.lastNode.element,this.lastNode=e),null!==e&&(n=e.next.element,e.next=e.next.next)}return this.nElements--,n}},t.prototype.forEach=function(t){for(var n=this.firstNode;null!==n&&!1!==t(n.element);)n=n.next},t.prototype.reverse=function(){for(var t=null,n=this.firstNode,e=null;null!==n;)e=n.next,n.next=t,t=n,n=e;e=this.firstNode,this.firstNode=this.lastNode,this.lastNode=e},t.prototype.toArray=function(){for(var t=[],n=this.firstNode;null!==n;)t.push(n.element),n=n.next;return t},t.prototype.size=function(){return this.nElements},t.prototype.isEmpty=function(){return this.nElements<=0},t.prototype.toString=function(){return r.toString(this.toArray())},t.prototype.nodeAtIndex=function(t){if(t<0||t>=this.nElements)return null;if(t===this.nElements-1)return this.lastNode;for(var n=this.firstNode,e=0;e<t;e++)n=n.next;return n},t.prototype.createNode=function(t){return{element:t,next:null}},t}();Object.defineProperty(n,"__esModule",{value:!0}),n.default=o},_bd14502b.f[30]=function(t,n){"use strict";var e=_bd14502b.r(23),r=_bd14502b.r(22),o=function(){function t(t){this.data=[],this.compare=t||e.defaultCompare}return t.prototype.leftChildIndex=function(t){return 2*t+1},t.prototype.rightChildIndex=function(t){return 2*t+2},t.prototype.parentIndex=function(t){return Math.floor((t-1)/2)},t.prototype.minIndex=function(t,n){return n>=this.data.length?t>=this.data.length?-1:t:this.compare(this.data[t],this.data[n])<=0?t:n},t.prototype.siftUp=function(t){for(var n=this.parentIndex(t);t>0&&this.compare(this.data[n],this.data[t])>0;)r.swap(this.data,n,t),t=n,n=this.parentIndex(t)},t.prototype.siftDown=function(t){for(var n=this.minIndex(this.leftChildIndex(t),this.rightChildIndex(t));n>=0&&this.compare(this.data[t],this.data[n])>0;)r.swap(this.data,n,t),t=n,n=this.minIndex(this.leftChildIndex(t),this.rightChildIndex(t))},t.prototype.peek=function(){return this.data.length>0?this.data[0]:void 0},t.prototype.add=function(t){if(!e.isUndefined(t))return this.data.push(t),this.siftUp(this.data.length-1),!0},t.prototype.removeRoot=function(){if(this.data.length>0){var t=this.data[0];return this.data[0]=this.data[this.data.length-1],this.data.splice(this.data.length-1,1),this.data.length>0&&this.siftDown(0),t}},t.prototype.contains=function(t){var n=e.compareToEquals(this.compare);return r.contains(this.data,t,n)},t.prototype.size=function(){return this.data.length},t.prototype.isEmpty=function(){return this.data.length<=0},t.prototype.clear=function(){this.data.length=0},t.prototype.forEach=function(t){r.forEach(this.data,t)},t}();Object.defineProperty(n,"__esModule",{value:!0}),n.default=o},_bd14502b.f[33]=function(t,n){"use strict";var e=_bd14502b.r(23),r=_bd14502b.r(30),o=function(){function t(t){this.heap=new r.default(e.reverseCompareFunction(t))}return t.prototype.enqueue=function(t){return this.heap.add(t)},t.prototype.add=function(t){return this.heap.add(t)},t.prototype.dequeue=function(){if(0!==this.heap.size()){var t=this.heap.peek();return this.heap.removeRoot(),t}},t.prototype.peek=function(){return this.heap.peek()},t.prototype.contains=function(t){return this.heap.contains(t)},t.prototype.isEmpty=function(){return this.heap.isEmpty()},t.prototype.size=function(){return this.heap.size()},t.prototype.clear=function(){this.heap.clear()},t.prototype.forEach=function(t){this.heap.forEach(t)},t}();Object.defineProperty(n,"__esModule",{value:!0}),n.default=o},_bd14502b.f[35]=function(t,n){!function(n){"use strict";"object"==typeof t.exports?t.exports=n(_bd14502b.r(36)):self.sanctuaryTypeClasses=n(self.sanctuaryTypeIdentifiers)}(function(t){"use strict";function n(t){return function(n){return t.concat(n)}}function e(t){return function(n){return t}}function r(t,n){Object.keys(t).forEach(n,t)}function o(t,n){return Object.prototype.hasOwnProperty.call(n,t)}function i(t){return t}function u(t){return function(n){return[t,n]}}function s(n,e){return typeof n==typeof e&&t(n)===t(e)}function a(t){return{value:t,done:!1}}function c(t){return{value:t,done:!0}}function f(t,n,e,r){if(!(this instanceof f))return new f(t,n,e,r);this.name=t,this.url=n,this.test=function(t){return e.every(function(n){return n.test(t)})&&r(t)}}function l(t,n,e){for(var r=e,i=0;i<n.length;i+=1){var u=n[i];if(null==r||!t&&!o(u,r))return null;r=r[u]}return"function"==typeof r?r:null}function p(t,n){return l(!0,t,n)}function h(t){return l(!1,t,ot)}function d(n,e,r){function o(n){var e="fantasy-land/"+n;return r[n]===A?function(t){var n=p([e],t);return null==n&&"function"==typeof t?h([q(t),e]):n}:function(n){var r=null;return null!=n&&null!=n.constructor&&n.constructor.prototype===n||(r=p([e],n)),null==r&&(r=h([t(n),"prototype",e])),r&&r.bind(n)}}var i=Object.keys(r),u=f("sanctuary-type-classes/"+n,"https://github.com/sanctuary-js/sanctuary-type-classes/tree/v7.0.0#"+n,e,function(t){return i.every(function(n){var e=r[n]===A?t.constructor:t;return null!=o(n)(e)})});return u.methods=i.reduce(function(t,n){return t[n]=o(n),t},{}),u}function y(t){return[t]}function _(t){if(t.length!==this.length)return!1;for(var n=0;n<this.length;n+=1)if(!ut(this[n],t[n]))return!1;return!0}function v(t){for(var n=0;!0;n+=1){if(n===this.length)return!0;if(n===t.length)return!1;if(!ut(this[n],t[n]))return st(this[n],t[n])}}function m(t){return this.concat(t)}function b(t){function n(t){e[t]=this[t]}var e={};return r(this,n),r(t,n),e}function g(t,n){return s(t,n)&&!st(n,t)}function x(t,n){return R.methods.concat(t)(n)}function S(t){return F.methods.empty(t)()}function w(t,n){return Q.methods.map(n)(t)}function T(t,n){return D.methods.ap(n)(t)}function C(t,n,e){return T(w(t,n),e)}function O(t,n){return H.methods.of(t)(n)}function N(t,n){return $.methods.chain(n)(t)}function L(t,n){if(Array.isArray(n))return n.filter(function(n){return t(n)});var e=n.constructor;return V(function(n,r){return t(r)?x(n,O(e,r)):n},S(e),n)}function E(t){return J.methods.zero(t)()}function V(t,n,e){return X.methods.reduce(e)(t,n)}function k(t,n){for(var e=V(function(n,e){for(var r=t(e),o=0,i=n.length;o<i;){var u=Math.floor((o+i)/2);st(n[u].fx,r)?o=u+1:i=u}return n.splice(o,0,{x:e,fx:r}),n},[],n),r=n.constructor,o=S(r),i=0;i<e.length;i+=1)o=x(o,O(r,e[i].x));return o}function j(t,n,e){return tt.methods.traverse(e)(t,n)}f["@@type"]="sanctuary-type-classes/TypeClass";var A="Constructor",z="Value",q=o("name",function(){})?function(t){return t.name}:function(t){var n=/function (\w*)/.exec(t);return null==n?"":n[1]},P=d("Setoid",[],{equals:z}),M=d("Ord",[P],{lte:z}),I=d("Semigroupoid",[],{compose:z}),U=d("Category",[I],{id:A}),R=d("Semigroup",[],{concat:z}),F=d("Monoid",[R],{empty:A}),Q=d("Functor",[],{map:z}),W=d("Bifunctor",[Q],{bimap:z}),B=d("Profunctor",[Q],{promap:z}),D=d("Apply",[Q],{ap:z}),H=d("Applicative",[D],{of:A}),$=d("Chain",[D],{chain:z}),G=d("ChainRec",[$],{chainRec:A}),Z=d("Monad",[H,$],{}),K=d("Alt",[Q],{alt:z}),J=d("Plus",[K],{zero:A}),Y=d("Alternative",[H,J],{}),X=d("Foldable",[],{reduce:z}),tt=d("Traversable",[Q,X],{traverse:z}),nt=d("Extend",[Q],{extend:z}),et=d("Comonad",[nt],{extract:z}),rt=d("Contravariant",[],{contramap:z}),ot={Null:{prototype:{toString:function(){return"null"},"fantasy-land/equals":function(t){return!0},"fantasy-land/lte":function(t){return!0}}},Undefined:{prototype:{toString:function(){return"undefined"},"fantasy-land/equals":function(t){return!0},"fantasy-land/lte":function(t){return!0}}},Boolean:{prototype:{toString:function(){return"object"==typeof this?"new Boolean("+it(this.valueOf())+")":this.toString()},"fantasy-land/equals":function(t){return"object"==typeof this?ut(this.valueOf(),t.valueOf()):this===t},"fantasy-land/lte":function(t){return"object"==typeof this?st(this.valueOf(),t.valueOf()):!1===this||!0===t}}},Number:{prototype:{toString:function(){return"object"==typeof this?"new Number("+it(this.valueOf())+")":1/this==-1/0?"-0":this.toString(10)},"fantasy-land/equals":function(t){return"object"==typeof this?ut(this.valueOf(),t.valueOf()):isNaN(this)&&isNaN(t)||this===t},"fantasy-land/lte":function(t){return"object"==typeof this?st(this.valueOf(),t.valueOf()):isNaN(this)&&isNaN(t)||this<=t}}},Date:{prototype:{toString:function(){var t=isNaN(this.valueOf())?NaN:this.toISOString();return"new Date("+it(t)+")"},"fantasy-land/equals":function(t){return ut(this.valueOf(),t.valueOf())},"fantasy-land/lte":function(t){return st(this.valueOf(),t.valueOf())}}},RegExp:{prototype:{"fantasy-land/equals":function(t){return t.source===this.source&&t.global===this.global&&t.ignoreCase===this.ignoreCase&&t.multiline===this.multiline&&t.sticky===this.sticky&&t.unicode===this.unicode}}},String:{"fantasy-land/empty":function(){return""},prototype:{toString:function(){return"object"==typeof this?"new String("+it(this.valueOf())+")":JSON.stringify(this)},"fantasy-land/equals":function(t){return"object"==typeof this?ut(this.valueOf(),t.valueOf()):this===t},"fantasy-land/lte":function(t){return"object"==typeof this?st(this.valueOf(),t.valueOf()):this<=t},"fantasy-land/concat":function(t){return this+t}}},Array:{"fantasy-land/empty":function(){return[]},"fantasy-land/of":y,"fantasy-land/chainRec":function(t,n){for(var e=[n],r=[];e.length>0;){for(var o=t(a,c,e.shift()),i=[],u=0;u<o.length;u+=1)(o[u].done?r:i).push(o[u].value);Array.prototype.unshift.apply(e,i)}return r},"fantasy-land/zero":function(){return[]},prototype:{toString:function(){for(var t=this.map(it),n=Object.keys(this).sort(),e=0;e<n.length;e+=1){var r=n[e];/^\d+$/.test(r)||t.push(it(r)+": "+it(this[r]))}return"["+t.join(", ")+"]"},"fantasy-land/equals":_,"fantasy-land/lte":v,"fantasy-land/concat":m,"fantasy-land/map":function(t){return this.map(function(n){return t(n)})},"fantasy-land/ap":function(t){for(var n=[],e=0;e<t.length;e+=1)for(var r=0;r<this.length;r+=1)n.push(t[e](this[r]));return n},"fantasy-land/chain":function(t){var n=[];return this.forEach(function(e){Array.prototype.push.apply(n,t(e))}),n},"fantasy-land/alt":m,"fantasy-land/reduce":function(t,n){return this.reduce(function(n,e){return t(n,e)},n)},"fantasy-land/traverse":function(t,e){function r(i,s){switch(s){case 0:return O(t,[]);case 2:return C(u,e(o[i]),e(o[i+1]));default:var a=2*Math.floor(s/4);return C(n,r(i,a),r(i+a,s-a))}}var o=this;return this.length%2==1?C(n,w(y,e(this[0])),r(1,this.length-1)):r(0,this.length)},"fantasy-land/extend":function(t){return this.map(function(n,e,r){return t(r.slice(e))})}}},Arguments:{prototype:{toString:function(){return"(function () { return arguments; }("+Array.prototype.map.call(this,it).join(", ")+"))"},"fantasy-land/equals":function(t){return _.call(this,t)},"fantasy-land/lte":function(t){return v.call(this,t)}}},Error:{prototype:{toString:function(){return"new "+this.name+"("+it(this.message)+")"},"fantasy-land/equals":function(t){return ut(this.name,t.name)&&ut(this.message,t.message)}}},Object:{"fantasy-land/empty":function(){return{}},"fantasy-land/zero":function(){return{}},prototype:{toString:function(){for(var t=[],n=Object.keys(this).sort(),e=0;e<n.length;e+=1){var r=n[e];t.push(it(r)+": "+it(this[r]))}return"{"+t.join(", ")+"}"},"fantasy-land/equals":function(t){var n=this,e=Object.keys(this).sort();return ut(e,Object.keys(t).sort())&&e.every(function(e){return ut(n[e],t[e])})},"fantasy-land/lte":function(t){for(var n=Object.keys(this).sort(),e=Object.keys(t).sort();;){if(0===n.length)return!0;if(0===e.length)return!1;var r=n.shift(),o=e.shift();if(r<o)return!0;if(r>o)return!1;if(!ut(this[r],t[r]))return st(this[r],t[r])}},"fantasy-land/concat":b,"fantasy-land/map":function(t){var n={};return r(this,function(e){n[e]=t(this[e])}),n},"fantasy-land/ap":function(t){var n={};return r(this,function(e){o(e,t)&&(n[e]=t[e](this[e]))}),n},"fantasy-land/alt":b,"fantasy-land/reduce":function(t,n){var e=this;return Object.keys(this).sort().reduce(function(n,r){return t(n,e[r])},n)},"fantasy-land/traverse":function(t,n){var e=this;return Object.keys(this).reduce(function(t,r){return C(function(t){return function(n){return t[r]=n,t}},t,n(e[r]))},O(t,{}))}}},Function:{"fantasy-land/id":function(){return i},"fantasy-land/of":function(t){return function(n){return t}},"fantasy-land/chainRec":function(t,n){return function(e){for(var r=a(n);!r.done;)r=t(a,c,r.value)(e);return r.value}},prototype:{"fantasy-land/equals":function(t){return t===this},"fantasy-land/compose":function(t){var n=this;return function(e){return t(n(e))}},"fantasy-land/map":function(t){var n=this;return function(e){return t(n(e))}},"fantasy-land/promap":function(t,n){var e=this;return function(r){return n(e(t(r)))}},"fantasy-land/ap":function(t){var n=this;return function(e){return t(e)(n(e))}},"fantasy-land/chain":function(t){var n=this;return function(e){return t(n(e))(e)}},"fantasy-land/contramap":function(t){var n=this;return function(e){return n(t(e))}}}}},it=function(){function n(t,n){e.push(n);try{return t.call(n)}finally{e.pop()}}var e=[];return function(r){if(e.indexOf(r)>=0)return"<Circular>";var o=t(r);if("Object"===o){var i;try{i=n(r.toString,r)}catch(t){}if(null!=i&&"[object Object]"!==i)return i}return n(h([o,"prototype","toString"])||r.toString,r)}}(),ut=function(){var t=[];return function(n,e){if(!s(n,e))return!1;if(t.some(function(t){return t[0]===n&&t[1]===e}))return!0;t.push([n,e]);try{return P.test(n)&&P.test(e)&&P.methods.equals(n)(e)}finally{t.pop()}}}(),st=function(){var t=[];return function(n,e){if(!s(n,e))return!1;if(t.some(function(t){return t[0]===n&&t[1]===e}))return ut(n,e);t.push([n,e]);try{return M.test(n)&&M.test(e)&&M.methods.lte(n)(e)}finally{t.pop()}}}();return{TypeClass:f,Setoid:P,Ord:M,Semigroupoid:I,Category:U,Semigroup:R,Monoid:F,Functor:Q,Bifunctor:W,Profunctor:B,Apply:D,Applicative:H,Chain:$,ChainRec:G,Monad:Z,Alt:K,Plus:J,Alternative:Y,Foldable:X,Traversable:tt,Extend:nt,Comonad:et,Contravariant:rt,toString:it,equals:ut,lt:g,lte:st,gt:function(t,n){return g(n,t)},gte:function(t,n){return st(n,t)},min:function(t,n){return st(t,n)?t:n},max:function(t,n){return st(t,n)?n:t},compose:function(t,n){return I.methods.compose(n)(t)},id:function(t){return U.methods.id(t)()},concat:x,empty:S,map:w,bimap:function(t,n,e){return W.methods.bimap(e)(t,n)},promap:function(t,n,e){return B.methods.promap(e)(t,n)},ap:T,lift2:C,lift3:function(t,n,e,r){return T(T(w(t,n),e),r)},apFirst:function(t,n){return C(e,t,n)},apSecond:function(t,n){return C(e(i),t,n)},of:O,append:function(t,n){return x(n,O(n.constructor,t))},prepend:function(t,n){return x(O(n.constructor,t),n)},chain:N,join:function(t){return N(i,t)},chainRec:function(t,n,e){return G.methods.chainRec(t)(n,e)},filter:L,filterM:function(t,n){var e=n.constructor,r=E(e);return N(function(n){return t(n)?O(e,n):r},n)},alt:function(t,n){return K.methods.alt(t)(n)},zero:E,reduce:V,size:function(t){return Array.isArray(t)?t.length:V(function(t,n){return t+1},0,t)},elem:function(t,n){return V(function(n,e){return n||ut(t,e)},!1,n)},reverse:function(t){if(Array.isArray(t))return t.slice().reverse();var n=t.constructor;return V(function(t,e){return x(O(n,e),t)},S(n),t)},sort:function(t){return k(i,t)},sortBy:k,takeWhile:function(t,n){var e=!0;return L(function(n){return e=e&&t(n)},n)},dropWhile:function(t,n){var e=!1;return L(function(n){return e=e||!t(n)},n)},traverse:j,sequence:function(t,n){return j(t,i,n)},extend:function(t,n){return nt.methods.extend(n)(t)},extract:function(t){return et.methods.extract(t)()},contramap:function(t,n){return rt.methods.contramap(n)(t)}}})},_bd14502b.f[36]=function(t,n){!function(n){"use strict";"object"==typeof t.exports?t.exports=n():self.sanctuaryTypeIdentifiers=n()}(function(){"use strict";var t="@@type";return function(n){return null!=n&&null!=n.constructor&&n.constructor.prototype!==n&&"string"==typeof n.constructor[t]?n.constructor[t]:Object.prototype.toString.call(n).slice("[object ".length,-"]".length)}})},module.exports=_bd14502b.r(0);