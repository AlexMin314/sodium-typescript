"object"==typeof global&&(global.require=require);var $fsx={};$fsx.f={},$fsx.m={},$fsx.r=function(t){var e=$fsx.m[t];if(e)return e.m.exports;var n=$fsx.f[t];if(n)return e=$fsx.m[t]={},e.exports={},e.m={exports:e.exports},n(e.m,e.exports),e.m.exports},$fsx.f[0]=function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=$fsx.r(1);e.lambda1=n.lambda1,e.lambda2=n.lambda2,e.lambda3=n.lambda3,e.lambda4=n.lambda4,e.lambda5=n.lambda5,e.lambda6=n.lambda6;var r=$fsx.r(3);e.Stream=r.Stream,e.StreamLoop=r.StreamLoop;var o=$fsx.r(12);e.StreamSink=o.StreamSink;var i=$fsx.r(6);e.Cell=i.Cell;var s=$fsx.r(13);e.CellLoop=s.CellLoop;var u=$fsx.r(14);e.CellSink=u.CellSink;var a=$fsx.r(4);e.Transaction=a.Transaction;var c=$fsx.r(15);e.Tuple2=c.Tuple2;var f=$fsx.r(9);e.Unit=f.Unit;var l=$fsx.r(8);e.Operational=l.Operational;var p=$fsx.r(2);e.getTotalRegistrations=p.getTotalRegistrations,e.Vertex=p.Vertex;var h=$fsx.r(16);e.TimerSystemImpl=h.TimerSystemImpl,e.TimerSystem=h.TimerSystem;var d=$fsx.r(17);e.SecondsTimerSystem=d.SecondsTimerSystem;var _=$fsx.r(18);e.MillisecondsTimerSystem=_.MillisecondsTimerSystem;var y=$fsx.r(19);e.IOAction=y.IOAction},$fsx.f[1]=function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=$fsx.r(2),r=function(){return function(t,e){this.f=t,this.deps=e}}();e.lambda1=function(t,e){return new r(t,e)},e.Lambda1_deps=function(t){return t instanceof r?t.deps:[]},e.Lambda1_toFunction=function(t){return t instanceof r?t.f:t};var o=function(){return function(t,e){this.f=t,this.deps=e}}();e.lambda2=function(t,e){return new o(t,e)},e.Lambda2_deps=function(t){return t instanceof o?t.deps:[]},e.Lambda2_toFunction=function(t){return t instanceof o?t.f:t};var i=function(){return function(t,e){this.f=t,this.deps=e}}();e.lambda3=function(t,e){return new i(t,e)},e.Lambda3_deps=function(t){return t instanceof i?t.deps:[]},e.Lambda3_toFunction=function(t){return t instanceof i?t.f:t};var s=function(){return function(t,e){this.f=t,this.deps=e}}();e.lambda4=function(t,e){return new s(t,e)},e.Lambda4_deps=function(t){return t instanceof s?t.deps:[]},e.Lambda4_toFunction=function(t){return t instanceof s?t.f:t};var u=function(){return function(t,e){this.f=t,this.deps=e}}();e.lambda5=function(t,e){return new u(t,e)},e.Lambda5_deps=function(t){return t instanceof u?t.deps:[]},e.Lambda5_toFunction=function(t){return t instanceof u?t.f:t};var a=function(){return function(t,e){this.f=t,this.deps=e}}();e.lambda6=function(t,e){return new a(t,e)},e.Lambda6_deps=function(t){return t instanceof a?t.deps:[]},e.Lambda6_toFunction=function(t){return t instanceof a?t.f:t},e.toSources=function(t){for(var e=[],r=0;r<t.length;r++){var o=t[r];e.push(new n.Source(o.getVertex__(),null))}return e}},$fsx.f[2]=function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=0;e.getTotalRegistrations=function(){return n};var r=function(){function t(t,e){if(this.registered=!1,this.deregister_=null,null===t)throw new Error("null origin!");this.origin=t,this.register_=e}return t.prototype.register=function(t){var e=this;this.registered||(this.registered=!0,null!==this.register_?this.deregister_=this.register_():(this.origin.increment(t),this.deregister_=function(){return e.origin.decrement(t)}))},t.prototype.deregister=function(t){this.registered&&(this.registered=!1,null!==this.deregister_&&this.deregister_())},t}();e.Source=r;var o;!function(t){t[t.black=0]="black",t[t.gray=1]="gray",t[t.white=2]="white",t[t.purple=3]="purple"}(o=e.Color||(e.Color={}));var i=[],s=0,u=!1,a=function(){function t(t,e,n){this.targets=[],this.childrn=[],this.visited=!1,this.color=o.black,this.buffered=!1,this.refCountAdj=0,this.name=t,this.rank=e,this.sources=n,this.id=s++}return t.prototype.refCount=function(){return this.targets.length},t.prototype.register=function(t){return this.increment(t)},t.prototype.deregister=function(e){u&&console.log("deregister "+this.descr()+" => "+e.descr()),this.decrement(e),t.collectCycles()},t.prototype.incRefCount=function(t){var e=!1;if(0==this.refCount())for(var r=0;r<this.sources.length;r++)this.sources[r].register(this);return this.targets.push(t),t.childrn.push(this),t.ensureBiggerThan(this.rank)&&(e=!0),n++,e},t.prototype.decRefCount=function(t){u&&console.log("DEC "+this.descr());for(var e=!1,r=0;r<t.childrn.length;r++)t.childrn[r]===this&&t.childrn.splice(r,1);for(r=0;r<this.targets.length;r++)if(this.targets[r]===t){this.targets.splice(r,1),e=!0;break}if(e){if(0==this.refCount())for(r=0;r<this.sources.length;r++)this.sources[r].deregister(this);n--}},t.prototype.addSource=function(t){this.sources.push(t),this.refCount()>0&&t.register(this)},t.prototype.ensureBiggerThan=function(t){if(this.rank>t||this.visited)return!1;this.visited=!0,this.rank=t+1;for(var e=0;e<this.targets.length;e++)this.targets[e].ensureBiggerThan(this.rank);return this.visited=!1,!0},t.prototype.descr=function(){var t=null;switch(this.color){case o.black:t="black";break;case o.gray:t="gray";break;case o.white:t="white";break;case o.purple:t="purple"}for(var e=this.id+" "+this.name+" ["+this.refCount()+"/"+this.refCountAdj+"] "+t+" ->",n=this.children(),r=0;r<n.length;r++)e=e+" "+n[r].id;return e},t.prototype.children=function(){return this.childrn},t.prototype.increment=function(t){return this.incRefCount(t)},t.prototype.decrement=function(t){this.decRefCount(t),0==this.refCount()?this.release():this.possibleRoots()},t.prototype.release=function(){this.color=o.black,this.buffered||this.free()},t.prototype.free=function(){for(;this.targets.length>0;)this.decRefCount(this.targets[0])},t.prototype.possibleRoots=function(){this.color!=o.purple&&(this.color=o.purple,this.buffered||(this.buffered=!0,i.push(this)))},t.collectCycles=function(){t.markRoots(),t.scanRoots(),t.collectRoots()},t.markRoots=function(){for(var t=[],e=0;e<i.length;e++)u&&console.log("markRoots "+i[e].descr()),i[e].color==o.purple?(i[e].markGray(),t.push(i[e])):(i[e].buffered=!1,i[e].color==o.black&&0==i[e].refCount()&&i[e].free());i=t},t.scanRoots=function(){for(var t=0;t<i.length;t++)i[t].scan()},t.collectRoots=function(){for(var t=0;t<i.length;t++)i[t].buffered=!1,i[t].collectWhite();i=[]},t.prototype.markGray=function(){if(this.color!=o.gray){this.color=o.gray;for(var t=this.children(),e=0;e<t.length;e++)t[e].refCountAdj--,u&&console.log("markGray "+this.descr()),t[e].markGray()}},t.prototype.scan=function(){if(u&&console.log("scan "+this.descr()),this.color==o.gray)if(this.refCount()+this.refCountAdj>0)this.scanBlack();else{this.color=o.white,u&&console.log("scan WHITE "+this.descr());for(var t=this.children(),e=0;e<t.length;e++)t[e].scan()}},t.prototype.scanBlack=function(){this.color=o.black;for(var t=this.children(),e=0;e<t.length;e++)t[e].refCountAdj++,u&&console.log("scanBlack "+this.descr()),t[e].color!=o.black&&t[e].scanBlack()},t.prototype.collectWhite=function(){if(this.color==o.white&&!this.buffered){u&&console.log("collectWhite "+this.descr()),this.color=o.black,this.refCountAdj=0;for(var t=this.children(),e=0;e<t.length;e++)t[e].collectWhite();this.free()}},t.NULL=new t("user",1e12,[]),t}();e.Vertex=a},$fsx.f[3]=function(t,e){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=$fsx.r(1),o=$fsx.r(2),i=$fsx.r(4),s=$fsx.r(5),u=$fsx.r(6),a=$fsx.r(10),c=$fsx.r(7),f=$fsx.r(11),l=function(){function t(t){this.listeners=[],this.firings=[],this.vertex=t||new o.Vertex("Stream",0,[])}return t.prototype.getVertex__=function(){return this.vertex},t.prototype.map=function(t){var e=this,n=new p(null),i=r.Lambda1_toFunction(t);return n.vertex=new o.Vertex("map",0,[new o.Source(this.vertex,function(){return e.listen_(n.vertex,function(t){n.send_(i(t))},!1)})].concat(r.toSources(r.Lambda1_deps(t)))),n},t.prototype.mapTo=function(t){var e=this,n=new p(null);return n.vertex=new o.Vertex("mapTo",0,[new o.Source(this.vertex,function(){return e.listen_(n.vertex,function(e){n.send_(t)},!1)})]),n},t.prototype.orElse=function(t){return this.merge(t,function(t,e){return t})},t.prototype.merge_=function(t){var e=this,n=new p,r=new o.Vertex("merge",0,[]);return r.sources.push(new o.Source(this.vertex,function(){return e.listen_(r,function(t){n.send_(t)},!1)})),n.vertex.sources=n.vertex.sources.concat([new o.Source(r,function(){return r.register(n.vertex),function(){r.deregister(n.vertex)}}),new o.Source(t.vertex,function(){return t.listen_(n.vertex,function(t){n.send_(t)},!1)})]),n},t.prototype.coalesce__=function(t){var e=this,n=new p,i=new s.CoalesceHandler(t,n);return n.vertex.sources=n.vertex.sources.concat([new o.Source(this.vertex,function(){return e.listen_(n.vertex,function(t){i.send_(t)},!1)})]).concat(r.toSources(r.Lambda2_deps(t))),n},t.prototype.merge=function(t,e){var n=this;return i.Transaction.run(function(){return n.merge_(t).coalesce__(e)})},t.prototype.filter=function(t){var e=this,n=new p(null),i=r.Lambda1_toFunction(t);return n.vertex=new o.Vertex("filter",0,[new o.Source(this.vertex,function(){return e.listen_(n.vertex,function(t){i(t)&&n.send_(t)},!1)})].concat(r.toSources(r.Lambda1_deps(t)))),n},t.prototype.filterNotNull=function(){var t=this,e=new p(null);return e.vertex=new o.Vertex("filterNotNull",0,[new o.Source(this.vertex,function(){return t.listen_(e.vertex,function(t){null!==t&&e.send_(t)},!1)})]),e},t.prototype.gate=function(t){return this.snapshot(t,function(t,e){return e?t:null}).filterNotNull()},t.prototype.snapshot1=function(t){var e=this,n=new p(null);return n.vertex=new o.Vertex("snapshot1",0,[new o.Source(this.vertex,function(){return e.listen_(n.vertex,function(e){n.send_(t.sampleNoTrans__())},!1)}),new o.Source(t.getVertex__(),null)]),n},t.prototype.snapshot=function(t,e){var n=this,i=new p(null),s=r.Lambda2_toFunction(e);return i.vertex=new o.Vertex("snapshot",0,[new o.Source(this.vertex,function(){return n.listen_(i.vertex,function(e){i.send_(s(e,t.sampleNoTrans__()))},!1)}),new o.Source(t.getVertex__(),null)].concat(r.toSources(r.Lambda2_deps(e)))),i},t.prototype.snapshot3=function(t,e,n){var i=this,s=new p(null),u=r.Lambda3_toFunction(n);return s.vertex=new o.Vertex("snapshot",0,[new o.Source(this.vertex,function(){return i.listen_(s.vertex,function(n){s.send_(u(n,t.sampleNoTrans__(),e.sampleNoTrans__()))},!1)}),new o.Source(t.getVertex__(),null),new o.Source(e.getVertex__(),null)].concat(r.toSources(r.Lambda3_deps(n)))),s},t.prototype.snapshot4=function(t,e,n,i){var s=this,u=new p(null),a=r.Lambda4_toFunction(i);return u.vertex=new o.Vertex("snapshot",0,[new o.Source(this.vertex,function(){return s.listen_(u.vertex,function(r){u.send_(a(r,t.sampleNoTrans__(),e.sampleNoTrans__(),n.sampleNoTrans__()))},!1)}),new o.Source(t.getVertex__(),null),new o.Source(e.getVertex__(),null),new o.Source(n.getVertex__(),null)].concat(r.toSources(r.Lambda4_deps(i)))),u},t.prototype.snapshot5=function(t,e,n,i,s){var u=this,a=new p(null),c=r.Lambda5_toFunction(s);return a.vertex=new o.Vertex("snapshot",0,[new o.Source(this.vertex,function(){return u.listen_(a.vertex,function(r){a.send_(c(r,t.sampleNoTrans__(),e.sampleNoTrans__(),n.sampleNoTrans__(),i.sampleNoTrans__()))},!1)}),new o.Source(t.getVertex__(),null),new o.Source(e.getVertex__(),null),new o.Source(n.getVertex__(),null),new o.Source(i.getVertex__(),null)].concat(r.toSources(r.Lambda5_deps(s)))),a},t.prototype.snapshot6=function(t,e,n,i,s,u){var a=this,c=new p(null),f=r.Lambda6_toFunction(u);return c.vertex=new o.Vertex("snapshot",0,[new o.Source(this.vertex,function(){return a.listen_(c.vertex,function(r){c.send_(f(r,t.sampleNoTrans__(),e.sampleNoTrans__(),n.sampleNoTrans__(),i.sampleNoTrans__(),s.sampleNoTrans__()))},!1)}),new o.Source(t.getVertex__(),null),new o.Source(e.getVertex__(),null),new o.Source(n.getVertex__(),null),new o.Source(i.getVertex__(),null),new o.Source(s.getVertex__(),null)].concat(r.toSources(r.Lambda6_deps(u)))),c},t.prototype.hold=function(t){return new u.Cell(t,this)},t.prototype.holdLazy=function(t){return new f.LazyCell(t,this)},t.prototype.collect=function(t,e){return this.collectLazy(new c.Lazy(function(){return t}),e)},t.prototype.collectLazy=function(t,e){var n=this;return i.Transaction.run(function(){var r=new h,o=r.holdLazy(t),i=n.snapshot(o,e),s=i.map(function(t){return t.a}),u=i.map(function(t){return t.b});return r.loop(u),s})},t.prototype.accum=function(t,e){return this.accumLazy(new c.Lazy(function(){return t}),e)},t.prototype.accumLazy=function(t,e){var n=this;return i.Transaction.run(function(){var r=new h,o=r.holdLazy(t),i=n.snapshot(o,e);return r.loop(i),i.holdLazy(t)})},t.prototype.once=function(){var t=this;return i.Transaction.run(function(){return t.gate(t.mapTo(!1).hold(!0))})},t.prototype.listen=function(t){var e=this;return i.Transaction.run(function(){return e.listen_(o.Vertex.NULL,t,!1)})},t.prototype.listen_=function(t,e,n){var r=this;this.vertex.register(t)&&i.Transaction.currentTransaction.requestRegen();var o=new a.Listener(e,t);if(this.listeners.push(o),!n&&0!=this.firings.length){var s=this.firings.slice();i.Transaction.currentTransaction.prioritized(t,function(){for(var t=0;t<s.length;t++)e(s[t])})}return function(){for(var e=!1,n=0;n<r.listeners.length;n++)if(r.listeners[n]==o){r.listeners.splice(n,1),e=!0;break}e&&r.vertex.deregister(t)}},t.prototype["fantasy-land/map"]=function(t){return this.map(t)},t.prototype["fantasy-land/concat"]=function(t){return this.orElse(t)},t.prototype["fantasy-land/empty"]=function(){return new t},t}();e.Stream=l;var p=function(t){function e(e){return t.call(this,e)||this}return n(e,t),e.prototype.setVertex__=function(t){this.vertex=t},e.prototype.send_=function(t){var e=this;if(0==this.vertex.refCount())throw new Error("send() was invoked before listeners were registered");0==this.firings.length&&i.Transaction.currentTransaction.last(function(){e.firings=[]}),this.firings.push(t);for(var n=this.listeners.slice(),r=0;r<n.length;r++)!function(e){var r=n[e].h;i.Transaction.currentTransaction.prioritized(n[e].target,function(){i.Transaction.currentTransaction.inCallback++;try{r(t),i.Transaction.currentTransaction.inCallback--}catch(t){throw i.Transaction.currentTransaction.inCallback--,t}})}(r)},e}(l);e.StreamWithSend=p;var h=function(t){function e(){var e=t.call(this)||this;if(e.assigned__=!1,e.vertex.name="StreamLoop",null===i.Transaction.currentTransaction)throw new Error("StreamLoop/CellLoop must be used within an explicit transaction");return e}return n(e,t),e.prototype.loop=function(t){var e=this;if(this.assigned__)throw new Error("StreamLoop looped more than once");this.assigned__=!0,this.vertex.addSource(new o.Source(t.getVertex__(),function(){return t.listen_(e.vertex,function(t){e.send_(t)},!1)}))},e}(p);e.StreamLoop=h},$fsx.f[4]=function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=$fsx.r(20),r=function(){function t(e,n){this.rank=e,this.action=n,this.seq=t.nextSeq++}return t.prototype.toString=function(){return this.seq.toString()},t.nextSeq=0,t}(),o=function(){function t(){this.inCallback=0,this.toRegen=!1,this.prioritizedQ=new n.PriorityQueue(function(t,e){return t.rank.rank<e.rank.rank?1:t.rank.rank>e.rank.rank?-1:t.seq<e.seq?1:t.seq>e.seq?-1:0}),this.entries=new n.Set(function(t){return t.toString()}),this.lastQ=[],this.postQ=null}return t.prototype.requestRegen=function(){this.toRegen=!0},t.prototype.prioritized=function(t,e){var n=new r(t,e);this.prioritizedQ.enqueue(n),this.entries.add(n)},t.prototype.last=function(t){this.lastQ.push(t)},t.prototype.post=function(t,e){for(null==this.postQ&&(this.postQ=[]);this.postQ.length<=t;)this.postQ.push(null);var n=this.postQ[t],r=null===n?e:function(){n(),e()};this.postQ[t]=r},t.prototype.checkRegen=function(){if(this.toRegen){this.toRegen=!1,this.prioritizedQ.clear();for(var t=this.entries.toArray(),e=0;e<t.length;e++)this.prioritizedQ.enqueue(t[e])}},t.prototype.isActive=function(){return!!t.currentTransaction},t.prototype.close=function(){for(;;){if(this.checkRegen(),this.prioritizedQ.isEmpty())break;var e=this.prioritizedQ.dequeue();this.entries.remove(e),e.action()}for(n=0;n<this.lastQ.length;n++)this.lastQ[n]();if(this.lastQ=[],null!=this.postQ){for(var n=0;n<this.postQ.length;n++)if(null!=this.postQ[n]){var r=t.currentTransaction;try{if(n>0){t.currentTransaction=new t;try{this.postQ[n](),t.currentTransaction.close()}catch(e){throw t.currentTransaction.close(),e}}else t.currentTransaction=null,this.postQ[n]();t.currentTransaction=r}catch(e){throw t.currentTransaction=r,e}}this.postQ=null}},t.onStart=function(e){t.onStartHooks.push(e)},t.run=function(e){var n=t.currentTransaction;if(null===n){if(!t.runningOnStartHooks){t.runningOnStartHooks=!0;try{for(var r=0;r<t.onStartHooks.length;r++)t.onStartHooks[r]()}finally{t.runningOnStartHooks=!1}}t.currentTransaction=new t}try{var o=e();return null===n&&(t.currentTransaction.close(),t.currentTransaction=null),o}catch(e){throw null===n&&(t.currentTransaction.close(),t.currentTransaction=null),e}},t.currentTransaction=null,t.onStartHooks=[],t.runningOnStartHooks=!1,t}();e.Transaction=o},$fsx.f[5]=function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=$fsx.r(1),r=$fsx.r(4),o=function(){function t(t,e){this.f=n.Lambda2_toFunction(t),this.out=e,this.out.getVertex__().sources=this.out.getVertex__().sources.concat(n.toSources(n.Lambda2_deps(t))),this.accumValid=!1}return t.prototype.send_=function(t){var e=this;this.accumValid?this.accum=this.f(this.accum,t):(r.Transaction.currentTransaction.prioritized(this.out.getVertex__(),function(){e.out.send_(e.accum),e.accumValid=!1,e.accum=null}),this.accum=t,this.accumValid=!0)},t}();e.CoalesceHandler=o},$fsx.f[6]=function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=$fsx.r(1),r=$fsx.r(2),o=$fsx.r(4),i=$fsx.r(7),s=$fsx.r(3),u=$fsx.r(8),a=function(){return function(t){this.hasValue=!1,this.value=null,this.cell=t}}(),c=function(){return function(){this.f=null,this.f_present=!1,this.a=null,this.a_present=!1}}(),f=function(){function t(t,e){var n=this;this.value=t,e?o.Transaction.run(function(){return n.setStream(e)}):(this.str=new s.Stream,this.vertex=new r.Vertex("ConstCell",0,[]))}return t.prototype.setStream=function(t){var e=this;this.str=t;var n=this,i=new r.Source(t.getVertex__(),function(){return t.listen_(n.vertex,function(t){null==n.valueUpdate&&o.Transaction.currentTransaction.last(function(){n.value=n.valueUpdate,n.lazyInitValue=null,n.valueUpdate=null}),n.valueUpdate=t},!1)});this.vertex=new r.Vertex("Cell",0,[i]),this.vertex.register(r.Vertex.NULL),o.Transaction.currentTransaction.last(function(){e.vertex.deregister(r.Vertex.NULL)})},t.prototype.getVertex__=function(){return this.vertex},t.prototype.getStream__=function(){return this.str},t.prototype.sample=function(){var t=this;return o.Transaction.run(function(){return t.sampleNoTrans__()})},t.prototype.sampleNoTrans__=function(){return this.value},t.prototype.sampleLazy=function(){var t=this;return o.Transaction.run(function(){return t.sampleLazyNoTrans__()})},t.prototype.sampleLazyNoTrans__=function(){var t=this,e=new a(t);return o.Transaction.currentTransaction.last(function(){e.value=null!=t.valueUpdate?t.valueUpdate:t.sampleNoTrans__(),e.hasValue=!0,e.cell=null}),new i.Lazy(function(){return e.hasValue?e.value:e.cell.sample()})},t.prototype.map=function(t){var e=this;return o.Transaction.run(function(){return u.Operational.updates(e).map(t).holdLazy(e.sampleLazy().map(n.Lambda1_toFunction(t)))})},t.prototype.lift=function(e,r){var o=n.Lambda2_toFunction(r),i=this.map(function(t){return function(e){return o(t,e)}});return t.apply(i,e,n.toSources(n.Lambda2_deps(r)))},t.prototype.lift3=function(e,r,o){var i=n.Lambda3_toFunction(o),s=this.map(function(t){return function(e){return function(n){return i(t,e,n)}}});return t.apply(t.apply(s,e),r,n.toSources(n.Lambda3_deps(o)))},t.prototype.lift4=function(e,r,o,i){var s=n.Lambda4_toFunction(i),u=this.map(function(t){return function(e){return function(n){return function(r){return s(t,e,n,r)}}}});return t.apply(t.apply(t.apply(u,e),r),o,n.toSources(n.Lambda4_deps(i)))},t.prototype.lift5=function(e,r,o,i,s){var u=n.Lambda5_toFunction(s),a=this.map(function(t){return function(e){return function(n){return function(r){return function(o){return u(t,e,n,r,o)}}}}});return t.apply(t.apply(t.apply(t.apply(a,e),r),o),i,n.toSources(n.Lambda5_deps(s)))},t.prototype.lift6=function(e,r,o,i,s,u){var a=n.Lambda6_toFunction(u),c=this.map(function(t){return function(e){return function(n){return function(r){return function(o){return function(i){return a(t,e,n,r,o,i)}}}}}});return t.apply(t.apply(t.apply(t.apply(t.apply(c,e),r),o),i),s,n.toSources(n.Lambda6_deps(u)))},t.apply=function(t,e,n){return o.Transaction.run(function(){var o=new c,a=new s.StreamWithSend,f=u.Operational.value(t),l=u.Operational.value(e),p=new r.Source(f.getVertex__(),function(){return f.listen_(a.getVertex__(),function(t){o.f=t,o.f_present=!0,o.a_present&&a.send_(o.f(o.a))},!1)}),h=new r.Source(l.getVertex__(),function(){return l.listen_(a.getVertex__(),function(t){o.a=t,o.a_present=!0,o.f_present&&a.send_(o.f(o.a))},!1)});return a.setVertex__(new r.Vertex("apply",0,[p,h].concat(n||[]))),a.coalesce__(function(t,e){return e}).holdLazy(new i.Lazy(function(){return t.sampleNoTrans__()(e.sampleNoTrans__())}))})},t.switchC=function(t){return o.Transaction.run(function(){var e=t.sampleLazy().map(function(t){return t.sample()}),n=new s.StreamWithSend,o=null,i=u.Operational.value(t),a=new r.Source(i.getVertex__(),function(){var t=null===o?null:u.Operational.value(o).listen_(n.getVertex__(),function(t){return n.send_(t)},!1),e=i.listen_(n.getVertex__(),function(e){o=e,null!==t&&t(),t=u.Operational.value(e).listen_(n.getVertex__(),function(t){return n.send_(t)},!1)},!1);return function(){e(),t()}});return n.setVertex__(new r.Vertex("switchC",0,[a])),n.coalesce__(function(t,e){return e}).holdLazy(e)})},t.switchS=function(t){return o.Transaction.run(function(){var e=new s.StreamWithSend,n=function(t){e.send_(t)},o=new r.Source(t.getVertex__(),function(){var r=t.sampleNoTrans__().listen_(e.getVertex__(),n,!1),o=t.getStream__().listen_(e.getVertex__(),function(t){r(),r=t.listen_(e.getVertex__(),n,!0)},!1);return function(){o(),r()}});return e.setVertex__(new r.Vertex("switchS",0,[o])),e})},t.prototype.listen=function(t){var e=this;return o.Transaction.run(function(){return u.Operational.value(e).listen(t)})},t["fantasy-land/of"]=function(e){return new t(e)},t.prototype["fantasy-land/map"]=function(t){return this.map(t)},t.prototype["fantasy-land/ap"]=function(e){return t.apply(e,this)},t.prototype["fantasy-land/chain"]=function(e){return t.switchC(this.map(e))},t.prototype["fantasy-land/extend"]=function(e){return new t(e(this))},t.prototype["fantasy-land/extract"]=function(){return this.sample()},t}();e.Cell=f},$fsx.f[7]=function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){this.f=t}return t.prototype.get=function(){return this.f()},t.prototype.map=function(e){var n=this;return new t(function(){return e(n.f())})},t.prototype.lift=function(e,n){var r=this;return new t(function(){return n(r.f(),e.f())})},t.prototype.lift3=function(e,n,r){var o=this;return new t(function(){return r(o.f(),e.f(),n.f())})},t.prototype.lift4=function(e,n,r,o){var i=this;return new t(function(){return o(i.f(),e.f(),n.f(),r.f())})},t}();e.Lazy=n},$fsx.f[8]=function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=$fsx.r(3),r=$fsx.r(4),o=$fsx.r(9),i=$fsx.r(2),s=function(){function t(){}return t.updates=function(t){return t.getStream__()},t.value=function(e){return r.Transaction.run(function(){var i=new n.StreamWithSend;r.Transaction.currentTransaction.prioritized(i.getVertex__(),function(){i.send_(o.Unit.UNIT)});var s=i.snapshot1(e);return t.updates(e).orElse(s)})},t.defer=function(e){return t.split(e.map(function(t){return[t]}))},t.split=function(t){var e=new n.StreamWithSend(null);return e.setVertex__(new i.Vertex("split",0,[new i.Source(t.getVertex__(),function(){return t.listen_(e.getVertex__(),function(t){for(var n=0;n<t.length;n++)!function(n){r.Transaction.currentTransaction.post(n,function(){r.Transaction.run(function(){e.send_(t[n])})})}(n)},!1)})])),e},t}();e.Operational=s},$fsx.f[9]=function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.UNIT=new t,t}();e.Unit=n},$fsx.f[10]=function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){return function(t,e){this.h=t,this.target=e}}();e.Listener=n},$fsx.f[11]=function(t,e){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=$fsx.r(6),o=$fsx.r(4),i=function(t){function e(e,n){var r=t.call(this,null,null)||this;return o.Transaction.run(function(){n&&r.setStream(n),r.lazyInitValue=e}),r}return n(e,t),e.prototype.sampleNoTrans__=function(){return null==this.value&&null!=this.lazyInitValue&&(this.value=this.lazyInitValue.get(),this.lazyInitValue=null),this.value},e}(r.Cell);e.LazyCell=i},$fsx.f[12]=function(t,e){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=$fsx.r(3),o=$fsx.r(5),i=$fsx.r(4),s=function(t){function e(e){var n=t.call(this)||this;return e||(e=function(t,e){throw new Error("send() called more than once per transaction, which isn't allowed. Did you want to combine the events? Then pass a combining function to your StreamSink constructor.")}),n.coalescer=new o.CoalesceHandler(e,n),n}return n(e,t),e.prototype.send=function(t){var e=this;i.Transaction.run(function(){if(i.Transaction.currentTransaction.inCallback>0)throw new Error("You are not allowed to use send() inside a Sodium callback");e.coalescer.send_(t)})},e}(r.StreamWithSend);e.StreamSink=s},$fsx.f[13]=function(t,e){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=$fsx.r(11),o=$fsx.r(4),i=$fsx.r(3),s=function(t){function e(){return t.call(this,null,new i.StreamLoop)||this}return n(e,t),e.prototype.loop=function(t){var e=this;o.Transaction.run(function(){e.getStream__().loop(t.getStream__()),e.lazyInitValue=t.sampleLazy()})},e.prototype.sampleNoTrans__=function(){if(!this.getStream__().assigned__)throw new Error("CellLoop sampled before it was looped");return t.prototype.sampleNoTrans__.call(this)},e}(r.LazyCell);e.CellLoop=s},$fsx.f[14]=function(t,e){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=$fsx.r(6),o=$fsx.r(12),i=function(t){function e(e,n){return t.call(this,e,new o.StreamSink(n))||this}return n(e,t),e.prototype.send=function(t){this.getStream__().send(t)},e}(r.Cell);e.CellSink=i},$fsx.f[15]=function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){return function(t,e){this.a=t,this.b=e}}();e.Tuple2=n},$fsx.f[16]=function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=$fsx.r(2),r=$fsx.r(20),o=$fsx.r(3),i=$fsx.r(14),s=$fsx.r(4),u=function(){return function(){}}();e.TimerSystemImpl=u;var a=0,c=function(){return function(t,e){this.t=t,this.sAlarm=e,this.seq=++a}}(),f=function(){function t(t){var e=this;this.eventQueue=new r.BSTree(function(t,e){return t.t<e.t?-1:t.t>e.t?1:t.seq<e.seq?-1:t.seq>e.seq?1:0}),s.Transaction.run(function(){e.impl=t,e.tMinimum=0;var n=new i.CellSink(t.now());e.time=n,e.time.listen(function(t){}),s.Transaction.onStart(function(){for(var r=e.tMinimum=Math.max(e.tMinimum,t.now());;)if("break"===function(){var t=null;if(!e.eventQueue.isEmpty()){var o=e.eventQueue.minimum();o.t<=r&&(t=o)}if(null==t)return"break";n.send(t.t),s.Transaction.run(function(){return t.sAlarm.send_(t.t)})}())break;n.send(r)})})}return t.prototype.at=function(t){var e=this,r=null,i=null,u=!1,a=null,f=!1,l=new o.StreamWithSend(null),p=function(){null!==i&&(i(),e.eventQueue.remove(r)),i=null,r=null,u&&(f||(f=!0,a=t.sampleNoTrans__()),null!==a&&(r=new c(a,l),e.eventQueue.add(r),i=e.impl.setTimer(a,function(){e.tMinimum=Math.max(e.tMinimum,a),s.Transaction.run(function(){})})))};return l.setVertex__(new n.Vertex("at",0,[new n.Source(t.getVertex__(),function(){u=!0,f=!1,s.Transaction.currentTransaction.prioritized(l.getVertex__(),p);var e=t.getStream__().listen_(l.getVertex__(),function(t){a=t,f=!0,p()},!1);return function(){u=!1,p(),e()}})])),l},t}();e.TimerSystem=f},$fsx.f[17]=function(t,e){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=$fsx.r(16),o=function(t){function e(){return t.call(this,new i)||this}return n(e,t),e}(r.TimerSystem);e.SecondsTimerSystem=o;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.setTimer=function(t,e){var n=setTimeout(e,Math.max(1e3*(t-this.now()),0));return function(){clearTimeout(n)}},e.prototype.now=function(){return.001*Date.now()},e}(r.TimerSystemImpl)},$fsx.f[18]=function(t,e){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=$fsx.r(16),o=function(t){function e(){return t.call(this,new i)||this}return n(e,t),e}(r.TimerSystem);e.MillisecondsTimerSystem=o;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.setTimer=function(t,e){var n=setTimeout(e,Math.max(t-this.now(),0));return function(){clearTimeout(n)}},e.prototype.now=function(){return Date.now()},e}(r.TimerSystemImpl)},$fsx.f[19]=function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=$fsx.r(3),r=$fsx.r(2),o=$fsx.r(4),i=function(){function t(){}return t.fromAsync=function(t){return function(e){var i=new n.StreamWithSend(null);return i.setVertex__(new r.Vertex("map",0,[new r.Source(e.getVertex__(),function(){return e.listen_(i.getVertex__(),function(e){t(e,function(t){o.Transaction.run(function(){i.send_(t)})})},!1)})])),i}},t}();e.IOAction=i},$fsx.f[20]=function(t,e){"use strict";$fsx.r(21);var n=$fsx.r(26);e.BSTree=n.default;var r=$fsx.r(32);e.PriorityQueue=r.default;var o=$fsx.r(25);e.Set=o.default;$fsx.r(22)},$fsx.f[21]=function(t,e){"use strict";function n(t,e,n){for(var o=n||r.defaultEquals,i=t.length,s=0;s<i;s++)if(o(t[s],e))return s;return-1}var r=$fsx.r(22);e.indexOf=n,e.lastIndexOf=function(t,e,n){for(var o=n||r.defaultEquals,i=t.length-1;i>=0;i--)if(o(t[i],e))return i;return-1},e.contains=function(t,e,r){return n(t,e,r)>=0},e.remove=function(t,e,r){var o=n(t,e,r);return!(o<0||(t.splice(o,1),0))},e.frequency=function(t,e,n){for(var o=n||r.defaultEquals,i=t.length,s=0,u=0;u<i;u++)o(t[u],e)&&s++;return s},e.equals=function(t,e,n){var o=n||r.defaultEquals;if(t.length!==e.length)return!1;for(var i=t.length,s=0;s<i;s++)if(!o(t[s],e[s]))return!1;return!0},e.copy=function(t){return t.concat()},e.swap=function(t,e,n){if(e<0||e>=t.length||n<0||n>=t.length)return!1;var r=t[e];return t[e]=t[n],t[n]=r,!0},e.toString=function(t){return"["+t.toString()+"]"},e.forEach=function(t,e){for(var n=0,r=t;n<r.length;n++)if(!1===e(r[n]))return}},$fsx.f[22]=function(t,e){"use strict";function n(t){return"function"==typeof t}function r(t){return void 0===t}function o(t){return"[object String]"===Object.prototype.toString.call(t)}var i=Object.prototype.hasOwnProperty;e.has=function(t,e){return i.call(t,e)},e.defaultCompare=function(t,e){return t<e?-1:t===e?0:1},e.defaultEquals=function(t,e){return t===e},e.defaultToString=function(t){return null===t?"COLLECTION_NULL":r(t)?"COLLECTION_UNDEFINED":o(t)?"$s"+t:"$o"+t.toString()},e.makeString=function(t,n){if(void 0===n&&(n=","),null===t)return"COLLECTION_NULL";if(r(t))return"COLLECTION_UNDEFINED";if(o(t))return t.toString();var i="{",s=!0;for(var u in t)e.has(t,u)&&(s?s=!1:i+=n,i=i+u+":"+t[u]);return i+"}"},e.isFunction=n,e.isUndefined=r,e.isString=o,e.reverseCompareFunction=function(t){return n(t)?function(e,n){return-1*t(e,n)}:function(t,e){return t<e?1:t===e?0:-1}},e.compareToEquals=function(t){return function(e,n){return 0===t(e,n)}}},$fsx.f[24]=function(t,e){"use strict";var n=$fsx.r(22),r=function(){function t(t){this.table={},this.nElements=0,this.toStr=t||n.defaultToString}return t.prototype.getValue=function(t){var e=this.table["$"+this.toStr(t)];if(!n.isUndefined(e))return e.value},t.prototype.setValue=function(t,e){if(!n.isUndefined(t)&&!n.isUndefined(e)){var r,o="$"+this.toStr(t),i=this.table[o];return n.isUndefined(i)?(this.nElements++,r=void 0):r=i.value,this.table[o]={key:t,value:e},r}},t.prototype.remove=function(t){var e="$"+this.toStr(t),r=this.table[e];if(!n.isUndefined(r))return delete this.table[e],this.nElements--,r.value},t.prototype.keys=function(){var t=[];for(var e in this.table)if(n.has(this.table,e)){var r=this.table[e];t.push(r.key)}return t},t.prototype.values=function(){var t=[];for(var e in this.table)if(n.has(this.table,e)){var r=this.table[e];t.push(r.value)}return t},t.prototype.forEach=function(t){for(var e in this.table)if(n.has(this.table,e)){var r=this.table[e];if(!1===t(r.key,r.value))return}},t.prototype.containsKey=function(t){return!n.isUndefined(this.getValue(t))},t.prototype.clear=function(){this.table={},this.nElements=0},t.prototype.size=function(){return this.nElements},t.prototype.isEmpty=function(){return this.nElements<=0},t.prototype.toString=function(){var t="{";return this.forEach(function(e,n){t+="\n\t"+e+" : "+n}),t+"\n}"},t}();Object.defineProperty(e,"__esModule",{value:!0}),e.default=r},$fsx.f[25]=function(t,e){"use strict";var n=$fsx.r(22),r=$fsx.r(21),o=$fsx.r(24),i=function(){function t(t){this.dictionary=new o.default(t)}return t.prototype.contains=function(t){return this.dictionary.containsKey(t)},t.prototype.add=function(t){return!this.contains(t)&&!n.isUndefined(t)&&(this.dictionary.setValue(t,t),!0)},t.prototype.intersection=function(t){var e=this;this.forEach(function(n){return t.contains(n)||e.remove(n),!0})},t.prototype.union=function(t){var e=this;t.forEach(function(t){return e.add(t),!0})},t.prototype.difference=function(t){var e=this;t.forEach(function(t){return e.remove(t),!0})},t.prototype.isSubsetOf=function(t){if(this.size()>t.size())return!1;var e=!0;return this.forEach(function(n){return!!t.contains(n)||(e=!1,!1)}),e},t.prototype.remove=function(t){return!!this.contains(t)&&(this.dictionary.remove(t),!0)},t.prototype.forEach=function(t){this.dictionary.forEach(function(e,n){return t(n)})},t.prototype.toArray=function(){return this.dictionary.values()},t.prototype.isEmpty=function(){return this.dictionary.isEmpty()},t.prototype.size=function(){return this.dictionary.size()},t.prototype.clear=function(){this.dictionary.clear()},t.prototype.toString=function(){return r.toString(this.toArray())},t}();Object.defineProperty(e,"__esModule",{value:!0}),e.default=i},$fsx.f[26]=function(t,e){"use strict";var n=$fsx.r(22),r=$fsx.r(27),o=function(){function t(t){this.root=null,this.compare=t||n.defaultCompare,this.nElements=0}return t.prototype.add=function(t){return!n.isUndefined(t)&&(null!==this.insertNode(this.createNode(t))&&(this.nElements++,!0))},t.prototype.clear=function(){this.root=null,this.nElements=0},t.prototype.isEmpty=function(){return 0===this.nElements},t.prototype.size=function(){return this.nElements},t.prototype.contains=function(t){return!n.isUndefined(t)&&null!==this.searchNode(this.root,t)},t.prototype.remove=function(t){var e=this.searchNode(this.root,t);return null!==e&&(this.removeNode(e),this.nElements--,!0)},t.prototype.inorderTraversal=function(t){this.inorderTraversalAux(this.root,t,{stop:!1})},t.prototype.preorderTraversal=function(t){this.preorderTraversalAux(this.root,t,{stop:!1})},t.prototype.postorderTraversal=function(t){this.postorderTraversalAux(this.root,t,{stop:!1})},t.prototype.levelTraversal=function(t){this.levelTraversalAux(this.root,t)},t.prototype.minimum=function(){if(!this.isEmpty())return this.minimumAux(this.root).element},t.prototype.maximum=function(){if(!this.isEmpty())return this.maximumAux(this.root).element},t.prototype.forEach=function(t){this.inorderTraversal(t)},t.prototype.toArray=function(){var t=[];return this.inorderTraversal(function(e){return t.push(e),!0}),t},t.prototype.height=function(){return this.heightAux(this.root)},t.prototype.searchNode=function(t,e){for(var n=null;null!==t&&0!==n;)(n=this.compare(e,t.element))<0?t=t.leftCh:n>0&&(t=t.rightCh);return t},t.prototype.transplant=function(t,e){null===t.parent?this.root=e:t===t.parent.leftCh?t.parent.leftCh=e:t.parent.rightCh=e,null!==e&&(e.parent=t.parent)},t.prototype.removeNode=function(t){if(null===t.leftCh)this.transplant(t,t.rightCh);else if(null===t.rightCh)this.transplant(t,t.leftCh);else{var e=this.minimumAux(t.rightCh);e.parent!==t&&(this.transplant(e,e.rightCh),e.rightCh=t.rightCh,e.rightCh.parent=e),this.transplant(t,e),e.leftCh=t.leftCh,e.leftCh.parent=e}},t.prototype.inorderTraversalAux=function(t,e,n){null===t||n.stop||(this.inorderTraversalAux(t.leftCh,e,n),n.stop||(n.stop=!1===e(t.element),n.stop||this.inorderTraversalAux(t.rightCh,e,n)))},t.prototype.levelTraversalAux=function(t,e){var n=new r.default;for(null!==t&&n.enqueue(t);!n.isEmpty();){if(t=n.dequeue(),!1===e(t.element))return;null!==t.leftCh&&n.enqueue(t.leftCh),null!==t.rightCh&&n.enqueue(t.rightCh)}},t.prototype.preorderTraversalAux=function(t,e,n){null===t||n.stop||(n.stop=!1===e(t.element),n.stop||(this.preorderTraversalAux(t.leftCh,e,n),n.stop||this.preorderTraversalAux(t.rightCh,e,n)))},t.prototype.postorderTraversalAux=function(t,e,n){null===t||n.stop||(this.postorderTraversalAux(t.leftCh,e,n),n.stop||(this.postorderTraversalAux(t.rightCh,e,n),n.stop||(n.stop=!1===e(t.element))))},t.prototype.minimumAux=function(t){for(;null!==t.leftCh;)t=t.leftCh;return t},t.prototype.maximumAux=function(t){for(;null!==t.rightCh;)t=t.rightCh;return t},t.prototype.heightAux=function(t){return null===t?-1:Math.max(this.heightAux(t.leftCh),this.heightAux(t.rightCh))+1},t.prototype.insertNode=function(t){for(var e=null,n=this.root,r=null;null!==n;){if(0===(r=this.compare(t.element,n.element)))return null;r<0?(e=n,n=n.leftCh):(e=n,n=n.rightCh)}return t.parent=e,null===e?this.root=t:this.compare(t.element,e.element)<0?e.leftCh=t:e.rightCh=t,t},t.prototype.createNode=function(t){return{element:t,leftCh:null,rightCh:null,parent:null}},t}();Object.defineProperty(e,"__esModule",{value:!0}),e.default=o},$fsx.f[27]=function(t,e){"use strict";var n=$fsx.r(28),r=function(){function t(){this.list=new n.default}return t.prototype.enqueue=function(t){return this.list.add(t)},t.prototype.add=function(t){return this.list.add(t)},t.prototype.dequeue=function(){if(0!==this.list.size()){var t=this.list.first();return this.list.removeElementAtIndex(0),t}},t.prototype.peek=function(){if(0!==this.list.size())return this.list.first()},t.prototype.size=function(){return this.list.size()},t.prototype.contains=function(t,e){return this.list.contains(t,e)},t.prototype.isEmpty=function(){return this.list.size()<=0},t.prototype.clear=function(){this.list.clear()},t.prototype.forEach=function(t){this.list.forEach(t)},t}();Object.defineProperty(e,"__esModule",{value:!0}),e.default=r},$fsx.f[28]=function(t,e){"use strict";var n=$fsx.r(22),r=$fsx.r(21),o=function(){function t(){this.firstNode=null,this.lastNode=null,this.nElements=0}return t.prototype.add=function(t,e){if(n.isUndefined(e)&&(e=this.nElements),e<0||e>this.nElements||n.isUndefined(t))return!1;var r=this.createNode(t);if(0===this.nElements)this.firstNode=r,this.lastNode=r;else if(e===this.nElements)this.lastNode.next=r,this.lastNode=r;else if(0===e)r.next=this.firstNode,this.firstNode=r;else{var o=this.nodeAtIndex(e-1);r.next=o.next,o.next=r}return this.nElements++,!0},t.prototype.first=function(){if(null!==this.firstNode)return this.firstNode.element},t.prototype.last=function(){if(null!==this.lastNode)return this.lastNode.element},t.prototype.elementAtIndex=function(t){var e=this.nodeAtIndex(t);if(null!==e)return e.element},t.prototype.indexOf=function(t,e){var r=e||n.defaultEquals;if(n.isUndefined(t))return-1;for(var o=this.firstNode,i=0;null!==o;){if(r(o.element,t))return i;i++,o=o.next}return-1},t.prototype.contains=function(t,e){return this.indexOf(t,e)>=0},t.prototype.remove=function(t,e){var r=e||n.defaultEquals;if(this.nElements<1||n.isUndefined(t))return!1;for(var o=null,i=this.firstNode;null!==i;){if(r(i.element,t))return i===this.firstNode?(this.firstNode=this.firstNode.next,i===this.lastNode&&(this.lastNode=null)):i===this.lastNode?(this.lastNode=o,o.next=i.next,i.next=null):(o.next=i.next,i.next=null),this.nElements--,!0;o=i,i=i.next}return!1},t.prototype.clear=function(){this.firstNode=null,this.lastNode=null,this.nElements=0},t.prototype.equals=function(e,r){var o=r||n.defaultEquals;return e instanceof t&&(this.size()===e.size()&&this.equalsAux(this.firstNode,e.firstNode,o))},t.prototype.equalsAux=function(t,e,n){for(;null!==t;){if(!n(t.element,e.element))return!1;t=t.next,e=e.next}return!0},t.prototype.removeElementAtIndex=function(t){if(!(t<0||t>=this.nElements)){var e;if(1===this.nElements)e=this.firstNode.element,this.firstNode=null,this.lastNode=null;else{var n=this.nodeAtIndex(t-1);null===n?(e=this.firstNode.element,this.firstNode=this.firstNode.next):n.next===this.lastNode&&(e=this.lastNode.element,this.lastNode=n),null!==n&&(e=n.next.element,n.next=n.next.next)}return this.nElements--,e}},t.prototype.forEach=function(t){for(var e=this.firstNode;null!==e&&!1!==t(e.element);)e=e.next},t.prototype.reverse=function(){for(var t=null,e=this.firstNode,n=null;null!==e;)n=e.next,e.next=t,t=e,e=n;n=this.firstNode,this.firstNode=this.lastNode,this.lastNode=n},t.prototype.toArray=function(){for(var t=[],e=this.firstNode;null!==e;)t.push(e.element),e=e.next;return t},t.prototype.size=function(){return this.nElements},t.prototype.isEmpty=function(){return this.nElements<=0},t.prototype.toString=function(){return r.toString(this.toArray())},t.prototype.nodeAtIndex=function(t){if(t<0||t>=this.nElements)return null;if(t===this.nElements-1)return this.lastNode;for(var e=this.firstNode,n=0;n<t;n++)e=e.next;return e},t.prototype.createNode=function(t){return{element:t,next:null}},t}();Object.defineProperty(e,"__esModule",{value:!0}),e.default=o},$fsx.f[29]=function(t,e){"use strict";var n=$fsx.r(22),r=$fsx.r(21),o=function(){function t(t){this.data=[],this.compare=t||n.defaultCompare}return t.prototype.leftChildIndex=function(t){return 2*t+1},t.prototype.rightChildIndex=function(t){return 2*t+2},t.prototype.parentIndex=function(t){return Math.floor((t-1)/2)},t.prototype.minIndex=function(t,e){return e>=this.data.length?t>=this.data.length?-1:t:this.compare(this.data[t],this.data[e])<=0?t:e},t.prototype.siftUp=function(t){for(var e=this.parentIndex(t);t>0&&this.compare(this.data[e],this.data[t])>0;)r.swap(this.data,e,t),t=e,e=this.parentIndex(t)},t.prototype.siftDown=function(t){for(var e=this.minIndex(this.leftChildIndex(t),this.rightChildIndex(t));e>=0&&this.compare(this.data[t],this.data[e])>0;)r.swap(this.data,e,t),t=e,e=this.minIndex(this.leftChildIndex(t),this.rightChildIndex(t))},t.prototype.peek=function(){return this.data.length>0?this.data[0]:void 0},t.prototype.add=function(t){if(!n.isUndefined(t))return this.data.push(t),this.siftUp(this.data.length-1),!0},t.prototype.removeRoot=function(){if(this.data.length>0){var t=this.data[0];return this.data[0]=this.data[this.data.length-1],this.data.splice(this.data.length-1,1),this.data.length>0&&this.siftDown(0),t}},t.prototype.contains=function(t){var e=n.compareToEquals(this.compare);return r.contains(this.data,t,e)},t.prototype.size=function(){return this.data.length},t.prototype.isEmpty=function(){return this.data.length<=0},t.prototype.clear=function(){this.data.length=0},t.prototype.forEach=function(t){r.forEach(this.data,t)},t}();Object.defineProperty(e,"__esModule",{value:!0}),e.default=o},$fsx.f[32]=function(t,e){"use strict";var n=$fsx.r(22),r=$fsx.r(29),o=function(){function t(t){this.heap=new r.default(n.reverseCompareFunction(t))}return t.prototype.enqueue=function(t){return this.heap.add(t)},t.prototype.add=function(t){return this.heap.add(t)},t.prototype.dequeue=function(){if(0!==this.heap.size()){var t=this.heap.peek();return this.heap.removeRoot(),t}},t.prototype.peek=function(){return this.heap.peek()},t.prototype.contains=function(t){return this.heap.contains(t)},t.prototype.isEmpty=function(){return this.heap.isEmpty()},t.prototype.size=function(){return this.heap.size()},t.prototype.clear=function(){this.heap.clear()},t.prototype.forEach=function(t){this.heap.forEach(t)},t}();Object.defineProperty(e,"__esModule",{value:!0}),e.default=o},module.exports=$fsx.r(0);